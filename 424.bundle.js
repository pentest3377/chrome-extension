"use strict";(self.webpackChunktab_nodes_tree_extension=self.webpackChunktab_nodes_tree_extension||[]).push([[424],{21864:(e,t,o)=>{o.d(t,{A:()=>h});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r),d=o(3563),c=o.n(d),l=new URL(o(48298),o.b),s=i()(a()),b=c()(l);s.push([e.id,".theme-light{--tree-background-color: #ffffff;--node-start-padding: 0.5rem;--nodes-gap: 0;--tab-node-content-border-width: 1px;--tab-node-content-border-color: #e1e1e1;--tab-node-content-border-radius-left-top: 0.5rem;--tab-node-content-border-radius-left-bottom: 0.5rem;--tab-node-content-border: var(--tab-node-content-border-width) solid var(--tab-node-content-border-color);--pinned-tab-node-content-border: var(--pinned-tab-node-content-border-width) solid var(--tab-node-content-border-color);--tab-node-content-background-color: #ffffff;--tab-node-content-background: linear-gradient(135deg, var(--tab-node-content-background-color), color-mix(in srgb, var(--tab-node-content-background-color), gray 5%));--tab-node-content-background-hover: linear-gradient(135deg, #f3f3f3, color-mix(in srgb, #f3f3f3, gray 5%));--tab-node-content-text-and-icon-color-normal: black;--tab-node-content-text-and-icon-color-hover: black;--tab-node-content-text-and-icon-color-active: black;--tab-node-content-text-and-icon-color-selected: black;--node-content-drag-drop-area-border-width: 2px;--node-content-drag-drop-area-border-color: #000000;transition:--tab-node-content-background-color .3s ease;--overlap-background-color: #ffffff;--modal-background-color: #ffffff;--modal-background-color-hover: #f3f3f3;--modal-text-and-icon-color: #000000;--branch-node-background-color: #ffffff;--branch-node-text-and-icon-color: #000000;--popup-menu-background-color: #ffffff;--popup-menu-background-color-hover: #f3f3f3;--popup-menu-text-and-icon-color: #000000;--modal-underneath-background-color: rgba(0, 0, 0, 0.4470588235);--modal-quick-navigation-node-hover-shadow-box: 0 0 7px 1px gray}body.theme-light{transition:background-color .5s ease;background-color:var(--tree-background-color)}.theme-light .branch-node{height:100%;background-color:var(--branch-node-background-color);--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-normal);color:var(--branch-node-text-and-icon-color)}.theme-light .descendant-tab-node-list{height:calc(100vh - 120px);width:-moz-fit-content;width:fit-content}.theme-light .descendant-tab-node-list .tab-node-container{height:2rem;border-radius:5px}.theme-light .descendant-tab-node-list .tab-node-container:hover{cursor:pointer;transition:background-color .3s;background:var(--tab-node-content-background-hover)}.theme-light .descendant-tab-node-list .tab-node-container .tab-node-content{padding:.25rem .25rem .25rem 1rem;display:flex;flex-grow:1}.theme-light .descendant-tab-node-list .tab-node-container .tab-node-content .tab-title-container{pointer-events:none;position:relative;flex-grow:1;margin-left:.5rem;height:100%;display:flex;align-items:center}.theme-light .descendant-tab-node-list .tab-node-container .tab-node-content .tab-title-container .tab-title{width:100%;flex-grow:1}.theme-light .descendant-tab-node-list .tab-node-container .tab-node-content .tab-icon-container{pointer-events:none;position:relative;height:1rem;width:1rem;flex-shrink:0}.theme-light .descendant-tab-node-list .tab-node-container .tab-node-content .tab-icon-container .tab-icon{position:absolute;left:0;top:0;height:100%;width:100%}.theme-light .descendant-tab-node-list .tab-node-container .hover-show-close-icon .close-icon-button{visibility:hidden;box-sizing:border-box;--icon-btn-size: 1.5rem;height:var(--icon-btn-size);width:var(--icon-btn-size);border-radius:50%;margin-left:.5rem}.theme-light .descendant-tab-node-list .tab-node-container .hover-show-close-icon .close-icon-button:hover:not(.disabled){cursor:pointer;background-color:var(--node-content-icon-hover-background-color);transition:var(--node-content-icon-transition)}.theme-light .descendant-tab-node-list .tab-node-container .hover-show-close-icon .close-icon-button .close-icon{flex-shrink:0;width:1.5rem;height:1.5rem;background-color:#000;--icon-size: 16px;-webkit-mask:url("+b+") no-repeat 50% 50%/var(--icon-size) var(--icon-size);mask:url("+b+") no-repeat 50% 50%/var(--icon-size) var(--icon-size)}.theme-light .descendant-tab-node-list .tab-node-container .hover-show-close-icon .close-icon-button .close-icon.themeable{background-color:var(--tab-node-content-text-and-icon-color)}.theme-light .descendant-tab-node-list .tab-node-container .hover-show-close-icon:hover .close-icon-button{visibility:visible}.theme-dark{--tree-background-color: #1c1b22;--node-start-padding: 0;--nodes-gap: 0;--tab-node-content-border-width: 1px;--tab-node-content-border-color: gray;--tab-node-content-border-radius-left-top: 0;--tab-node-content-border-radius-left-bottom: 0;--tab-node-content-border: var(--tab-node-content-border-width) solid var(--tab-node-content-border-color);--pinned-tab-node-content-border: var(--pinned-tab-node-content-border-width) solid var(--tab-node-content-border-color);--tab-node-content-background-color: #2b2b2b;--tab-node-content-background: linear-gradient(135deg, var(--tab-node-content-background-color), var(--tab-node-content-background-color));--tab-node-content-background-hover: linear-gradient(135deg, #004a77, color-mix(in srgb, #004a77, gray 20%));--tab-node-content-text-and-icon-color-normal: white;--tab-node-content-text-and-icon-color-hover: white;--tab-node-content-text-and-icon-color-active: white;--tab-node-content-text-and-icon-color-selected: white;--node-content-drag-drop-area-border-width: 2px;--node-content-drag-drop-area-border-color: #ffffff;transition:--tab-node-content-background-color .3s ease;--overlap-background-color: #1c1b22;--modal-background-color: #2b2b2b;--modal-background-color-hover: #004a77;--modal-text-and-icon-color: #ffffff;--branch-node-background-color: #2b2b2b;--branch-node-text-and-icon-color: #ffffff;--popup-menu-background-color: #2b2b2b;--popup-menu-background-color-hover: #004a77;--popup-menu-text-and-icon-color: #ffffff;--modal-underneath-background-color: rgba(230, 230, 230, 0.4196078431);--modal-quick-navigation-node-hover-shadow-box: 0 0 5px 2px white}body.theme-dark{transition:background-color .5s ease;background-color:var(--tree-background-color)}.theme-dark .branch-node{height:100%;background-color:var(--branch-node-background-color);--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-normal);color:var(--branch-node-text-and-icon-color)}.theme-dark .descendant-tab-node-list{height:calc(100vh - 120px);width:-moz-fit-content;width:fit-content}.theme-dark .descendant-tab-node-list .tab-node-container{height:2rem;border-radius:5px}.theme-dark .descendant-tab-node-list .tab-node-container:hover{cursor:pointer;transition:background-color .3s;background:var(--tab-node-content-background-hover)}.theme-dark .descendant-tab-node-list .tab-node-container .tab-node-content{padding:.25rem .25rem .25rem 1rem;display:flex;flex-grow:1}.theme-dark .descendant-tab-node-list .tab-node-container .tab-node-content .tab-title-container{pointer-events:none;position:relative;flex-grow:1;margin-left:.5rem;height:100%;display:flex;align-items:center}.theme-dark .descendant-tab-node-list .tab-node-container .tab-node-content .tab-title-container .tab-title{width:100%;flex-grow:1}.theme-dark .descendant-tab-node-list .tab-node-container .tab-node-content .tab-icon-container{pointer-events:none;position:relative;height:1rem;width:1rem;flex-shrink:0}.theme-dark .descendant-tab-node-list .tab-node-container .tab-node-content .tab-icon-container .tab-icon{position:absolute;left:0;top:0;height:100%;width:100%}.theme-dark .descendant-tab-node-list .tab-node-container .hover-show-close-icon .close-icon-button{visibility:hidden;box-sizing:border-box;--icon-btn-size: 1.5rem;height:var(--icon-btn-size);width:var(--icon-btn-size);border-radius:50%;margin-left:.5rem}.theme-dark .descendant-tab-node-list .tab-node-container .hover-show-close-icon .close-icon-button:hover:not(.disabled){cursor:pointer;background-color:var(--node-content-icon-hover-background-color);transition:var(--node-content-icon-transition)}.theme-dark .descendant-tab-node-list .tab-node-container .hover-show-close-icon .close-icon-button .close-icon{flex-shrink:0;width:1.5rem;height:1.5rem;background-color:#000;--icon-size: 16px;-webkit-mask:url("+b+") no-repeat 50% 50%/var(--icon-size) var(--icon-size);mask:url("+b+") no-repeat 50% 50%/var(--icon-size) var(--icon-size)}.theme-dark .descendant-tab-node-list .tab-node-container .hover-show-close-icon .close-icon-button .close-icon.themeable{background-color:var(--tab-node-content-text-and-icon-color)}.theme-dark .descendant-tab-node-list .tab-node-container .hover-show-close-icon:hover .close-icon-button{visibility:visible}em-emoji-picker{--border-radius: 0 0 10px 10px}",""]);let h=s},85556:(e,t,o)=>{o.r(t),o.d(t,{default:()=>en});var n=o(79474),a=o(50495),r=o.n(a),i=o(22780),d=o.n(i),c=o(8016),l=o.n(c),s=o(44119),b=o.n(s),h=o(33355),u=o.n(h),g=o(96136),m=o.n(g),p=o(21864),f={};f.styleTagTransform=m(),f.setAttributes=b(),f.insert=l().bind(null,"head"),f.domAPI=d(),f.insertStyleElement=u(),r()(p.A,f),p.A&&p.A.locals&&p.A.locals;var v=o(46150),k=o(33030),x=o(58603),y=o(96318),w=o(71437),N=o(8256),A=o(19365),C=o(37390),T=o(56615),S=o(94672),O=o(59953),j=o(99334),E=o(24817),Y=o(81813),z=o(53905),P=o(13526),W=o(27207),I={name:"0",styles:""};let D=(0,n.memo)(function(e){let{branchTabNode:t,descendantTabNodes:o}=e;return(0,W.Y)(W.FK,{children:o&&(0,W.Y)(x.A,{className:"descendant-tab-node-list",css:I,wrap:"wrap",vertical:!0,children:o.map((e,o)=>(0,W.Y)(x.A,{align:"center",justify:"space",className:["tab-node-container"].filter(Boolean).join(" "),children:(0,W.FD)(x.A,{align:"center",className:["tab-node-content","hover-show-close-icon"].filter(Boolean).join(" "),style:{marginLeft:`calc(${(0,E.gJ)(e)-(t?(0,E.gJ)(t):0)-1} * 1.5rem)`},onClick:async()=>{await chrome.tabs.update(e.id,{active:!0})},children:[(0,W.Y)(Y.b,{tabNode:e}),(0,W.Y)("div",{className:"tab-title-container",children:(0,W.Y)(z.CS.div,{className:"tab-title",children:e.title})}),(0,W.Y)("div",{className:(0,P.A)("close-icon-button"),onClick:async t=>{t.stopPropagation(),await (0,T.Xn)(e.id)},children:(0,W.Y)("div",{className:(0,P.A)("close-icon","themeable")})})]})},e.id))})})});var F=o(75070),L=o(93034),Z=o(95908),_=o(27566),$=o(78154),H=o(87521),V=o(83928),B=o(91043),U=o(3735),R=o(26230),q=o(93154),J=o(76832),K=o(2791),M=o(38017);o(65640);let{defaultAlgorithm:G,darkAlgorithm:X}=v.A,Q=(0,L.tZ)(!0,L.W4.reactComponent,en.name);function ee(e,t){return(0,W.Y)(k.Ay,Object.assign({size:"large",type:"text",ref:t,className:(0,P.A)("relative text-[2rem] size-12 !rounded-full")},e))}let et=n.forwardRef((e,t)=>(0,W.Y)(x.A,Object.assign(Object.assign({ref:t},e),{children:e.children}))),eo=J.P.create(et);function en(e){let{branchTabId:t}=e,[o,a]=(0,n.useState)({textWithoutEmoji:"",leadingIcon:void 0,completeTitle:""}),[r,i]=(0,n.useState)(""),[d,c]=(0,n.useState)(!1),l=(0,Z.K)(en.name),s=H.store.nodesTree.useNodes(),{branchTabNode:b,descendantTabNodes:h}=(0,n.useMemo)(()=>s.reduce((e,o)=>((0,E.q8)(o)&&(o.id===t?e.branchTabNode=o:e.descendantTabNodes.push(o)),e),{descendantTabNodes:[]}),[s,t]),u=(0,n.useCallback)(()=>(function(e){let t=(0,C.ON)(null!=e?e:"");return t.textWithoutEmoji||(t.textWithoutEmoji="Branch"),Object.assign(Object.assign({},t),{completeTitle:`${t.leadingIcon}${t.textWithoutEmoji}`})})(new URLSearchParams(window.location.search).get("title")),[]),g=(0,n.useCallback)(e=>{if(!e)return;let{protocol:t,host:o,pathname:n}=window.location,a=`${t}//${o}${n}?title=${e.completeTitle}`;window.history.pushState({},"",a)},[]);(0,n.useEffect)(()=>{o&&((0,C.wE)(o.textWithoutEmoji),function e(t,o){(0,L.tZ)(!0,L.W4.script,e.name).logP({favIconEmoji:t}),(0,C.Iv)(t?(0,C.m8)(t):"")}(o.leadingIcon))},[o]),(0,n.useEffect)(()=>{let e=getComputedStyle(document.body).getPropertyValue(V.OZ.TextAndIconColorNormal);Q.logPT("useEffect",{textAndIconColor:e,deps:{parsePageTitle:u,themeSettings:null==l?void 0:l.themeSettings}});let t=u();a(t),i(t.textWithoutEmoji)},[u,null==l?void 0:l.themeSettings]),(0,n.useEffect)(()=>{let e=(0,L.tZ)(!0,L.W4.reactHook,[en.name,"initialization useEffect"]);e.logP({branchTabId:t}),(async()=>{var o;let n=await (0,T.getChromeCurrentWindowId)();if(e.logP({windowId:n}),n){let a=[],r=[],i=0,d=!1;do i>=1&&(e.logP("Could not find branch tab node, attempt to load tree nodes data again after 500ms,",{triedCount:i,allowedRetryCount:10}),await (0,B.yy)(500)),i++,a=null!==(o=await U.L.load(n))&&void 0!==o?o:[],d=(r=(0,E.uW)(a,t,{includeAncestorNode:!0})).some(e=>e.id===t);while(i<=10&&!d)d?e.logP("Load tree nodes data related to branch tab node.",{tabNodes:structuredClone((0,E.fc)(a)),branchAndDescendantTabNodes:r,triedCount:i}):e.errorP("Could not find branch tab node after retrying.",{branchTabId:t,triedCount:i,allowedRetryCount:10}),H.store.nodesTree.setNodes(r),_.AW.addListener($.yh.BRANCH_NODE,{windowId:n,branchTabId:t},async(e,t)=>{ea(null!=t?t:[])},{ifPrintLog:!0,logTags:[en.name],onlyPrintOnChange:!0}),_.Ss.addListener($._S.BRANCH_NODE,void 0,async(e,t)=>{t&&H.store.options.setOptions(t)})}})()},[]),(0,n.useEffect)(()=>{let e;return d&&(e=t=>{"Escape"===t.key&&(c(!1),window.removeEventListener("keydown",e))},window.addEventListener("keydown",e)),()=>{e&&window.removeEventListener("keydown",e)}},[d]);let m=(0,n.useCallback)(e=>{c(!1);let t=Object.assign(Object.assign({},o),{leadingIcon:e.native,completeTitle:`${e.native}${o.textWithoutEmoji}`});a(t),g(t)},[o,g]),p=(0,n.useCallback)(()=>{c(!1);let e=Object.assign(Object.assign({},o),{leadingIcon:void 0,completeTitle:o.textWithoutEmoji});a(e),g(e)},[o,g]),f=(0,n.useCallback)(e=>{i(e.target.value)},[]),v=(0,n.useCallback)(()=>{let e=Object.assign(Object.assign({},o),{textWithoutEmoji:r,completeTitle:`${o.leadingIcon}${r}`});a(e),g(e)},[o,r,g]),Y=(0,n.useCallback)(()=>{i(o.textWithoutEmoji)},[null==o?void 0:o.textWithoutEmoji]);return Q.renderP({branchNodeTitle:o,branchAndDescendantTabNodes:s,branchTabNode:b,themeInfo:l}),(0,W.Y)(y.Ay,{theme:{algorithm:(null==l?void 0:l.theme)===M.Sx.Dark?X:G},children:(0,W.FD)(x.A,{vertical:!0,className:(0,P.A)("branch-node","p-4"),children:[(0,W.FD)(x.A,{align:"center",children:[(0,W.Y)(w.A,{className:(0,P.A)("text-[2rem]","h-[4rem]","w-full"),value:r,autoFocus:!0,onKeyUp:e=>{"Enter"===e.key?v():"Escape"===e.key&&Y()},onChange:e=>f(e),prefix:(0,W.FD)("div",{className:"relative",children:[(0,W.Y)(k.Ay,{className:(0,P.A)("relative","p-0 pb-[3.25px]","text-[2rem]","size-[3.5rem]","flex flex-col items-center justify-center"),size:"large",shape:"circle",type:"text",onClick:()=>c(!d),children:(null==o?void 0:o.leadingIcon)?o.leadingIcon:(0,W.Y)(F.x,{className:(0,P.A)("default-branch-node-icon","!flex flex-col items-center justify-center")})}),d&&(0,W.FD)("div",{className:(0,P.A)("absolute top-full left-0 flex flex-col","drop-shadow-xl","z-10"),children:[(0,W.FD)(x.A,{align:"center",justify:"center",className:(0,P.A)("p-2","rounded-ss-[10px]","rounded-se-[10px]",(null==l?void 0:l.theme)===M.Sx.Dark&&"bg-[#151617] border-b-[1px] border-[#303233]",(null==l?void 0:l.theme)===M.Sx.Light&&"bg-white shadow-[0_0_1px_1px_#e4e4e4]"),children:[(0,W.Y)(k.Ay,{type:"default",size:"large",className:(0,P.A)(),onClick:()=>p(),children:"Use Default Icon"}),(0,W.Y)(k.Ay,{type:"text",shape:"circle",className:(0,P.A)("absolute right-1 z-10",(null==l?void 0:l.theme)===M.Sx.Dark&&"hover:bg-gray-400"),onClick:()=>c(!1),children:(0,W.Y)(S.A,{})})]}),(0,W.Y)(q.A,{autoFocus:!0,theme:null==l?void 0:l.theme,data:R,onEmojiSelect:m})]})]}),suffix:(0,W.Y)(K.N,{mode:"wait",children:r!==(null==o?void 0:o.textWithoutEmoji)?(0,W.FD)(eo,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,W.Y)(ee,{onClick:()=>v(),children:(0,W.Y)(O.A,{})}),(0,W.Y)(ee,{onClick:()=>Y(),children:(0,W.Y)(S.A,{})})]},"editing"):(0,W.Y)("span",{},"non-editing")})}),(0,W.Y)(N.A,{align:{offset:[-10,0]},title:(0,W.FD)("ul",{className:"list-disc ml-6",children:[(0,W.Y)("li",{children:"Click the emoji icon to change."}),(0,W.Y)("li",{children:'Pressing the "Enter" key on the input field can also confirm changes.'}),(0,W.Y)("li",{children:'Pressing the "Esc" key on the input field can also cancel changes.'})]}),children:(0,W.Y)(j.A,{className:"text-2xl ml-4"})})]}),(0,W.Y)(A.A,{className:"my-4 border-gray-300"}),(0,W.Y)(D,{branchTabNode:b,descendantTabNodes:h})]})})}let ea=(0,B.sg)({delay:100},H.store.nodesTree.setNodes)},61741:(e,t,o)=>{o.d(t,{JH:()=>c,eW:()=>l,wY:()=>s}),o(98366);var n=o(37390);o(87521);var a=o(38017);o(2904);var r=o(86160),i=o(93034),d=o(83928);function c(e){return`theme-${e}`}function l(e){return e===a.Sh.System?(0,n.ud)()?a.Sx.Dark:a.Sx.Light:e}function s(e){let t=(0,i.tZ)(!0,i.W4.script,s.name),o=getComputedStyle(e).getPropertyValue(d.OZ.Height),a=getComputedStyle(e).getPropertyValue(d.mD.Height),c=getComputedStyle(e).getPropertyValue(d.OZ.PinnedTabNodeHeight),l=getComputedStyle(e).getPropertyValue(d.OZ.PinnedTabNodeWidth),b=getComputedStyle(e).getPropertyValue(d.OZ.PinnedTabNodeBorderWidth),h=getComputedStyle(e).getPropertyValue("--tab-node-content-border-width"),u=getComputedStyle(e).getPropertyValue("--nodes-gap"),g=(0,r.b)(o,0),m=(0,r.b)(a,0),p=(0,r.b)(c,32),f=(0,r.b)(l,32),v=(0,r.b)(b,0),k=(0,r.b)(h,void 0),x=(0,r.b)(u,0);function y(t){let o=getComputedStyle(e).getPropertyValue(t);return(0,n.Et)(o)?parseFloat(o):void 0}let w=y(d.OZ.TextOpacityUnread),N={essentialConstructTreeStyles:{tabNodeHeight:g,groupNodeHeight:m,tabNodeContentBorderWidth:k,pinnedTabNodeHeight:p,pinnedTabNodeWidth:f,pinnedTabNodeBorderWidth:v},tabNodeStyles:{nodesGap:x,expandedMarginTop:x>0?0:-((null!=k?k:0)*1),collapsedMarginTop:-g},tabNodeStatusOpacityStyles:{unreadTabNodeTextOpacity:w,unreadTabNodeIconOpacity:y(d.OZ.IconOpacityUnread),unloadedTabNodeTextOpacity:y(d.OZ.TextOpacityUnloaded),unloadedTabNodeIconOpacity:y(d.OZ.IconOpacityUnloaded)}};return t.logP(Object.assign({tabNodeHeightStr:o,pinnedTabNodeContainerWidthStr:l,tabNodeContentBorderWidthStr:h,nodesGapStr:u},N)),N}},98366:(e,t,o)=>{o(65640)},86160:(e,t,o)=>{function n(e,t){if("string"==typeof e){if(!e)return t;if(e.endsWith("rem"))return parseFloat(e)*parseFloat(getComputedStyle(document.documentElement).fontSize);if(!e.endsWith("px"))return parseFloat(e);{let o=parseFloat(e);return isNaN(o)?t:o}}return e}o.d(t,{b:()=>n}),o(93034)}}]);