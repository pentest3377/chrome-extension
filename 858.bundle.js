"use strict";(self.webpackChunktab_nodes_tree_extension=self.webpackChunktab_nodes_tree_extension||[]).push([[858,264],{66984:(e,t,o)=>{o.d(t,{A:()=>p});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r),d=o(3563),s=o.n(d),c=new URL(o(66515),o.b),l=new URL(o(97558),o.b),u=i()(a()),b=s()(c),g=s()(l);u.push([e.id,".audio-play-icon,.audio-mute-icon{flex-shrink:0;width:1.5rem;height:1.5rem}.audio-play-icon{--icon-size: 16px;-webkit-mask:url("+b+") no-repeat 50% 50%/var(--icon-size) var(--icon-size);mask:url("+b+") no-repeat 50% 50%/var(--icon-size) var(--icon-size)}.audio-mute-icon{--icon-size: 16px;-webkit-mask:url("+g+") no-repeat 50% 50%/var(--icon-size) var(--icon-size);mask:url("+g+") no-repeat 50% 50%/var(--icon-size) var(--icon-size)}.audio-play-icon-button{box-sizing:border-box;--icon-btn-size: 1.5rem;height:var(--icon-btn-size);width:var(--icon-btn-size);border-radius:50%}.audio-play-icon-button:hover:not(.disabled){cursor:pointer;background-color:var(--node-content-icon-hover-background-color);transition:var(--node-content-icon-transition)}.audio-play-icon-button .audio-play-icon.themeable,.audio-play-icon-button .audio-mute-icon.themeable{background-color:var(--tab-node-content-text-and-icon-color)}",""]);let p=u},71109:(e,t,o)=>{o.d(t,{A:()=>b});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r),d=o(3563),s=o.n(d),c=new URL(o(84034),o.b),l=i()(a()),u=s()(c);l.push([e.id,".hover-show-plus-icon .plus-icon-button{display:none;box-sizing:border-box;--icon-btn-size: 1.5rem;height:var(--icon-btn-size);width:var(--icon-btn-size);border-radius:50%}.hover-show-plus-icon .plus-icon-button:hover:not(.disabled){cursor:pointer;background-color:var(--node-content-icon-hover-background-color);transition:var(--node-content-icon-transition)}.hover-show-plus-icon .plus-icon-button .plus-icon{flex-shrink:0;width:1.5rem;height:1.5rem;background-color:#000;--icon-size: 16px;-webkit-mask:url("+u+") no-repeat 50% 50%/var(--icon-size) var(--icon-size);mask:url("+u+") no-repeat 50% 50%/var(--icon-size) var(--icon-size)}.hover-show-plus-icon .plus-icon-button .plus-icon.themeable{background-color:var(--tab-node-content-text-and-icon-color)}.hover-show-plus-icon:hover .plus-icon-button{display:block}",""]);let b=l},58970:(e,t,o)=>{o.d(t,{A:()=>b});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r),d=o(3563),s=o.n(d),c=new URL(o(48298),o.b),l=i()(a()),u=s()(c);l.push([e.id,".hover-show-close-icon .close-icon-button{display:none;box-sizing:border-box;--icon-btn-size: 1.5rem;height:var(--icon-btn-size);width:var(--icon-btn-size);border-radius:50%}.hover-show-close-icon .close-icon-button:hover:not(.disabled){cursor:pointer;background-color:var(--node-content-icon-hover-background-color);transition:var(--node-content-icon-transition)}.hover-show-close-icon .close-icon-button .close-icon{flex-shrink:0;width:1.5rem;height:1.5rem;background-color:#000;--icon-size: 16px;-webkit-mask:url("+u+") no-repeat 50% 50%/var(--icon-size) var(--icon-size);mask:url("+u+") no-repeat 50% 50%/var(--icon-size) var(--icon-size)}.hover-show-close-icon .close-icon-button .close-icon.themeable{background-color:var(--tab-node-content-text-and-icon-color)}.hover-show-close-icon:hover .close-icon-button{display:block}",""]);let b=l},90484:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r)()(a());i.push([e.id,".circle-color-container{position:relative}.circle-color-container .color{top:50%;left:50%;transform:translate(-50%, -50%);border-radius:100%;position:absolute}.circle-color-container .border{border:1px solid #a9a9a9;top:50%;left:50%;transform:translate(-50%, -50%);border-radius:50%;position:absolute}.circle-color-container .border.selected{border:1px solid #000;box-shadow:0 0 1px 1px #000}",""]);let d=i},60198:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r)()(a());i.push([e.id,'.group-left-border{position:relative}.group-left-border:before,.group-left-border:after{content:" ";height:100%;position:absolute;top:0;width:6px}.group-left-border.highlight:before{transition:box-shadow .3s;box-shadow:-6px 0 6px -6px inset #fff;left:-6px}.group-left-border.highlight:after{transition:box-shadow .3s;box-shadow:6px 0 6px -6px inset #fff;right:-6px}.group-right-border{transition:box-shadow .3s}.group-right-border.highlight{box-shadow:0 0 5px 2px #fff}.group-bottom-border{transition:box-shadow .3s}.group-bottom-border.highlight{box-shadow:0 0 5px 2px #fff}',""]);let d=i},86551:(e,t,o)=>{o.d(t,{A:()=>b});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r),d=o(3563),s=o.n(d),c=new URL(o(42076),o.b),l=i()(a()),u=s()(c);l.push([e.id,".expand-collapse-icon{flex-shrink:0;visibility:hidden;transition:transform .2s ease;width:1.5rem;height:1.5rem;background-color:#000;--icon-size: 16px;-webkit-mask:url("+u+") no-repeat 50% 50%/var(--icon-size) var(--icon-size);mask:url("+u+") no-repeat 50% 50%/var(--icon-size) var(--icon-size)}.expand-collapse-icon.themeable{background-color:var(--tab-node-content-text-and-icon-color)}.expand-collapse-icon.node-expand-collapse{visibility:visible}.expand-collapse-icon.node-expand-collapse.expanded{transform:rotate(90deg)}.expand-collapse-icon.node-expand-collapse:hover{cursor:pointer}",""]);let b=l},12159:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r)()(a());i.push([e.id,"#pinned-tab-nodes-container{display:flex;flex-direction:row;flex-wrap:wrap;border-bottom:var(--pinned-tab-node-content-border);border-bottom-width:var(--pinned-tab-node-content-border-width)}",""]);let d=i},57661:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r)()(a());i.push([e.id,'@property --tab-node-content-background{syntax:"<transform-function>";inherits:false;initial-value:rgba(255,255,255,0)}@property --tab-node-content-background-color{syntax:"<color>";inherits:false;initial-value:rgba(255,255,255,0)}@property --tab-node-content-background-color-active{syntax:"<color>";inherits:false;initial-value:rgba(255,255,255,0)}@property --tab-node-content-background-color-selected{syntax:"<color>";inherits:false;initial-value:rgba(255,255,255,0)}#tab-nodes-tree{height:100%;display:flex;flex-direction:column}#tab-nodes-tree #tab-nodes-container{overflow-y:auto;overflow-x:hidden}#tab-nodes-tree #tab-nodes-container::-webkit-scrollbar{width:10px}#tab-nodes-tree #tab-nodes-container::-webkit-scrollbar-thumb{background-color:gray}#tab-nodes-tree #tab-nodes-container::-webkit-scrollbar-thumb:hover{background-color:#a9a9a9}#tab-nodes-tree #tab-nodes-container::-webkit-scrollbar-track{background:#d3d3d3}.theme-light{--tree-background-color: #ffffff;--node-start-padding: 0.5rem;--nodes-gap: 0;--tab-node-content-border-width: 1px;--tab-node-content-border-color: #e1e1e1;--tab-node-content-border-radius-left-top: 0.5rem;--tab-node-content-border-radius-left-bottom: 0.5rem;--tab-node-content-border: var(--tab-node-content-border-width) solid var(--tab-node-content-border-color);--pinned-tab-node-content-border: var(--pinned-tab-node-content-border-width) solid var(--tab-node-content-border-color);--tab-node-content-background-color: #ffffff;--tab-node-content-background: linear-gradient(135deg, var(--tab-node-content-background-color), color-mix(in srgb, var(--tab-node-content-background-color), gray 5%));--tab-node-content-background-hover: linear-gradient(135deg, #f3f3f3, color-mix(in srgb, #f3f3f3, gray 5%));--tab-node-content-text-and-icon-color-normal: black;--tab-node-content-text-and-icon-color-hover: black;--tab-node-content-text-and-icon-color-active: black;--tab-node-content-text-and-icon-color-selected: black;--node-content-drag-drop-area-border-width: 2px;--node-content-drag-drop-area-border-color: #000000;transition:--tab-node-content-background-color .3s ease;--overlap-background-color: #ffffff;--modal-background-color: #ffffff;--modal-background-color-hover: #f3f3f3;--modal-text-and-icon-color: #000000;--branch-node-background-color: #ffffff;--branch-node-text-and-icon-color: #000000;--popup-menu-background-color: #ffffff;--popup-menu-background-color-hover: #f3f3f3;--popup-menu-text-and-icon-color: #000000;--modal-underneath-background-color: rgba(0, 0, 0, 0.4470588235);--modal-quick-navigation-node-hover-shadow-box: 0 0 7px 1px gray}body.theme-light{transition:background-color .5s ease;background-color:var(--tree-background-color)}.theme-light #tab-nodes-tree.underneath{filter:blur(1px)}.theme-light .nodes-gap{display:flex;flex-direction:row;height:var(--nodes-gap)}.theme-light .node-container{will-change:opacity,margin-top;padding-left:var(--node-container-padding-left)}.theme-light .node-container.pinned{width:var(--pinned-tab-node-container-width);margin-right:calc(var(--pinned-tab-node-content-border-width)*-1);margin-bottom:calc(var(--pinned-tab-node-content-border-width)*-1)}.theme-light .node-container:not(.pinned) .node-start-padding{width:var(--node-start-padding)}.theme-light .node-container.drag-over-top,.theme-light .node-container.drag-over-right,.theme-light .node-container.drag-over-bottom,.theme-light .node-container.drag-over-left,.theme-light .node-container.drag-over-middle{z-index:var(--zindex-node-container-drag-over) !important}.theme-light .node-container .node-drag-drop-area{box-sizing:border-box}.theme-light .node-container .node-drag-drop-area-boundary{--node-content-drag-drop-area-boundary-border: var(--node-content-drag-drop-area-border-width) solid var(--node-content-drag-drop-area-border-color);box-sizing:border-box;width:100%;height:100%}.theme-light .node-container .node-drag-drop-area-boundary.active-top{border-top:var(--node-content-drag-drop-area-boundary-border)}.theme-light .node-container .node-drag-drop-area-boundary.active-bottom{border-bottom:var(--node-content-drag-drop-area-boundary-border)}.theme-light .node-container .node-drag-drop-area-boundary.active-left{border-left:var(--node-content-drag-drop-area-boundary-border)}.theme-light .node-container .node-drag-drop-area-boundary.active-right{border-right:var(--node-content-drag-drop-area-boundary-border)}.theme-light .node-container .node-drag-drop-area-boundary.active-middle{border:var(--node-content-drag-drop-area-boundary-border)}.theme-light .node-container:not(.group-node-container) .node-drag-drop-area-boundary.active-top{border-top-left-radius:var(--tab-node-content-border-radius-left-top)}.theme-light .node-container:not(.group-node-container) .node-drag-drop-area-boundary.active-bottom{border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-light .node-container:not(.group-node-container) .node-drag-drop-area-boundary.active-middle{border-top-left-radius:var(--tab-node-content-border-radius-left-top);border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-light .node-content{will-change:transform,opacity;flex-grow:1;min-width:0;position:relative;display:flex;flex-direction:row;align-items:center}.theme-light .node-content:not(.pinned){padding-right:.5rem}.theme-light .node-content[data-selected-dragging=true]{opacity:.5}.theme-light .node-content.group-node-content{border-top:1px;border-left:1px;border-right:1px}.theme-light .node-content.group-node-content .group-title{pointer-events:none;flex:1 0}.theme-light .node-content.group-node-content .icon-btn{color:#000}.theme-light .node-content.group-node-content .more-icon{display:none;padding:.3rem}.theme-light .node-content.group-node-content:hover .more-icon{display:block}.theme-light .node-content.tab-node-content{transition:color .3s ease,background-color .3s ease,opacity .3s ease;--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-normal);color:var(--tab-node-content-text-and-icon-color)}.theme-light .node-content.tab-node-content:before{transition:opacity .3s ease;opacity:0;content:"";position:absolute;width:100%;height:100%;top:0;left:0;background:var(--tab-node-content-background-hover);z-index:var(--zindex-node-content-artificial-background-hover)}.theme-light .node-content.tab-node-content:hover:before{opacity:1}.theme-light .node-content.tab-node-content:hover{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-hover, inherit)}.theme-light .node-content.tab-node-content.pinned{border:var(--pinned-tab-node-content-border)}.theme-light .node-content.tab-node-content:not(.pinned){border-top-left-radius:var(--tab-node-content-border-radius-left-top);border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-light .node-content.tab-node-content:not(.pinned):before{border-top-left-radius:var(--tab-node-content-border-radius-left-top);border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-light .node-content.tab-node-content:not(.pinned) .underneath-background{border-top-left-radius:var(--tab-node-content-border-radius-left-top);border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-light .node-content.tab-node-content:not(.pinned) .node-content-border{position:absolute;width:100%;height:100%;top:0;left:0;pointer-events:none;transition:border .3s ease;opacity:1;z-index:1;border:var(--tab-node-content-border);border-top-left-radius:var(--tab-node-content-border-radius-left-top);border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-light .node-content.tab-node-content .underneath-background{position:absolute;width:100%;height:100%;top:0;left:0;pointer-events:none}.theme-light .node-content.tab-node-content .node-content-artificial-background{background:var(--tab-node-content-background);transition:var(--transition-node-content-artificial-background);z-index:var(--zindex-node-content-artificial-background)}.theme-light .node-content.tab-node-content .node-content-artificial-background-active{--tab-node-content-background-color-active-normal: linear-gradient(135deg, #dedede, #dedede);background:var(--tab-node-content-background-color-active-normal);transition:var(--transition-node-content-artificial-background);opacity:0;z-index:var(--zindex-node-content-artificial-background-active-normal)}.theme-light .node-content.tab-node-content .node-content-artificial-background-active-hover{--tab-node-content-background-color-active-hover: linear-gradient(135deg, #d5d5d5, #d5d5d5);background:var(--tab-node-content-background-color-active-hover);transition:var(--transition-node-content-artificial-background);opacity:0;z-index:var(--zindex-node-content-artificial-background-active-hover)}.theme-light .node-content.tab-node-content .node-content-artificial-background-selected{--tab-node-content-background-color-selected-normal: linear-gradient(135deg, #e8e8e8, #e8e8e8);background:var(--tab-node-content-background-color-selected-normal);transition:var(--transition-node-content-artificial-background);opacity:0;z-index:var(--zindex-node-content-artificial-background-selected-normal)}.theme-light .node-content.tab-node-content .node-content-artificial-background-selected-hover{--tab-node-content-background-color-selected-hover: linear-gradient(135deg, #e1e1e1, #e1e1e1);background:var(--tab-node-content-background-color-selected-hover);transition:var(--transition-node-content-artificial-background);opacity:0;z-index:var(--zindex-node-content-artificial-background-selected-hover)}.theme-light .node-content.tab-node-content.active{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-active)}.theme-light .node-content.tab-node-content.active:hover .node-content-artificial-background-active-hover{opacity:1}.theme-light .node-content.tab-node-content.active .node-content-artificial-background-active{opacity:1}.theme-light .node-content.tab-node-content.active .tab-title-container .tab-title{font-weight:var(--tab-node-content-text-style-bold-active);font-style:var(--tab-node-content-text-style-italic-active);-webkit-text-decoration:var(--tab-node-content-text-underline-and-line-through-active);text-decoration:var(--tab-node-content-text-underline-and-line-through-active)}.theme-light .node-content.tab-node-content.selected{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-selected)}.theme-light .node-content.tab-node-content.selected:hover{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-hover, var(--tab-node-content-text-and-icon-color-selected))}.theme-light .node-content.tab-node-content.selected:hover .node-content-artificial-background-selected-hover{opacity:1}.theme-light .node-content.tab-node-content.selected .node-content-artificial-background-selected{opacity:1}.theme-light .node-content.tab-node-content.unread{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-unread, var(--tab-node-content-text-and-icon-color-normal))}.theme-light .node-content.tab-node-content.unread.selected{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-unread, var(--tab-node-content-text-and-icon-color-selected))}.theme-light .node-content.tab-node-content.unread:hover{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-hover, var(--tab-node-content-text-and-icon-color-unread, var(--tab-node-content-text-and-icon-color-normal)))}.theme-light .node-content.tab-node-content.unread:hover .node-content-border{opacity:1 !important}.theme-light .node-content.tab-node-content.unread:hover .tab-title-container .tab-title:not(.enter-transition):not(.exit-transition){opacity:1 !important}.theme-light .node-content.tab-node-content.unread .tab-title-container .tab-title{font-weight:var(--tab-node-content-text-style-bold-unread);font-style:var(--tab-node-content-text-style-italic-unread);-webkit-text-decoration:var(--tab-node-content-text-underline-and-line-through-unread);text-decoration:var(--tab-node-content-text-underline-and-line-through-unread)}.theme-light .node-content.tab-node-content.unread .node-content-artificial-background{opacity:var(--tab-node-content-background-opacity-unread)}.theme-light .node-content.tab-node-content.unread .node-content-border{opacity:var(--tab-node-content-border-opacity-unread)}.theme-light .node-content.tab-node-content.unloaded{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-unloaded, var(--tab-node-content-text-and-icon-color-normal))}.theme-light .node-content.tab-node-content.unloaded.selected{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-unloaded, var(--tab-node-content-text-and-icon-color-selected))}.theme-light .node-content.tab-node-content.unloaded:hover{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-hover, var(--tab-node-content-text-and-icon-color-unloaded, var(--tab-node-content-text-and-icon-color-normal)))}.theme-light .node-content.tab-node-content.unloaded:hover .node-content-border{opacity:1 !important}.theme-light .node-content.tab-node-content.unloaded:hover .tab-title-container .tab-title:not(.enter-transition):not(.exit-transition){opacity:1 !important}.theme-light .node-content.tab-node-content.unloaded .tab-title-container .tab-title{font-weight:var(--tab-node-content-text-style-bold-unloaded);font-style:var(--tab-node-content-text-style-italic-unloaded);-webkit-text-decoration:var(--tab-node-content-text-underline-and-line-through-unloaded);text-decoration:var(--tab-node-content-text-underline-and-line-through-unloaded)}.theme-light .node-content.tab-node-content.unloaded .node-content-artificial-background{opacity:var(--tab-node-content-background-opacity-unloaded)}.theme-light .node-content.tab-node-content.unloaded .node-content-border{opacity:var(--tab-node-content-border-opacity-unloaded)}.theme-light .node-content.tab-node-content .tab-title-container{pointer-events:none;position:relative;width:100%;flex-grow:1;margin-left:.5rem;height:100%;display:flex;align-items:center}.theme-light .node-content.tab-node-content .tab-title-container .tab-title{max-width:100%;position:absolute;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:var(--tab-node-content-text-style-bold);font-style:var(--tab-node-content-text-style-italic);-webkit-text-decoration:var(--tab-node-content-text-underline-and-line-through);text-decoration:var(--tab-node-content-text-underline-and-line-through)}.theme-light .node-content.tab-node-content .tab-title-container .tab-title:not(.transitioning){transition:opacity .3s ease}.theme-light .node-content.tab-node-content .tab-index{pointer-events:none;margin-left:.3rem}.theme-light .node-content.tab-node-content .tab-index:not(.pinned){z-index:1}.theme-light .node-content.tab-node-content.pinned{justify-content:center}.theme-light .node-content.tab-node-content.pinned .tab-index{position:absolute;margin-left:0;top:0}.theme-light .node-content.tab-node-content.debug{border-top:var(--tab-node-content-border-width) solid blue;border-bottom:var(--tab-node-content-border-width) solid green}.theme-light .new-tab-button{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;background:var(--tab-node-content-background);--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-normal);color:var(--tab-node-content-text-and-icon-color);transition:color .3s ease;box-sizing:border-box;border-style:solid;border-color:var(--tab-node-content-border-color);border-bottom:0;z-index:var(--zindex-new-tab-button);cursor:pointer;position:fixed;bottom:0}.theme-light .new-tab-button:hover{background:var(--tab-node-content-background-hover);--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-hover, inherit)}.theme-dark{--tree-background-color: #1c1b22;--node-start-padding: 0;--nodes-gap: 0;--tab-node-content-border-width: 1px;--tab-node-content-border-color: gray;--tab-node-content-border-radius-left-top: 0;--tab-node-content-border-radius-left-bottom: 0;--tab-node-content-border: var(--tab-node-content-border-width) solid var(--tab-node-content-border-color);--pinned-tab-node-content-border: var(--pinned-tab-node-content-border-width) solid var(--tab-node-content-border-color);--tab-node-content-background-color: #2b2b2b;--tab-node-content-background: linear-gradient(135deg, var(--tab-node-content-background-color), var(--tab-node-content-background-color));--tab-node-content-background-hover: linear-gradient(135deg, #004a77, color-mix(in srgb, #004a77, gray 20%));--tab-node-content-text-and-icon-color-normal: white;--tab-node-content-text-and-icon-color-hover: white;--tab-node-content-text-and-icon-color-active: white;--tab-node-content-text-and-icon-color-selected: white;--node-content-drag-drop-area-border-width: 2px;--node-content-drag-drop-area-border-color: #ffffff;transition:--tab-node-content-background-color .3s ease;--overlap-background-color: #1c1b22;--modal-background-color: #2b2b2b;--modal-background-color-hover: #004a77;--modal-text-and-icon-color: #ffffff;--branch-node-background-color: #2b2b2b;--branch-node-text-and-icon-color: #ffffff;--popup-menu-background-color: #2b2b2b;--popup-menu-background-color-hover: #004a77;--popup-menu-text-and-icon-color: #ffffff;--modal-underneath-background-color: rgba(230, 230, 230, 0.4196078431);--modal-quick-navigation-node-hover-shadow-box: 0 0 5px 2px white}body.theme-dark{transition:background-color .5s ease;background-color:var(--tree-background-color)}.theme-dark #tab-nodes-tree.underneath{filter:blur(1px)}.theme-dark .nodes-gap{display:flex;flex-direction:row;height:var(--nodes-gap)}.theme-dark .node-container{will-change:opacity,margin-top;padding-left:var(--node-container-padding-left)}.theme-dark .node-container.pinned{width:var(--pinned-tab-node-container-width);margin-right:calc(var(--pinned-tab-node-content-border-width)*-1);margin-bottom:calc(var(--pinned-tab-node-content-border-width)*-1)}.theme-dark .node-container:not(.pinned) .node-start-padding{width:var(--node-start-padding)}.theme-dark .node-container.drag-over-top,.theme-dark .node-container.drag-over-right,.theme-dark .node-container.drag-over-bottom,.theme-dark .node-container.drag-over-left,.theme-dark .node-container.drag-over-middle{z-index:var(--zindex-node-container-drag-over) !important}.theme-dark .node-container .node-drag-drop-area{box-sizing:border-box}.theme-dark .node-container .node-drag-drop-area-boundary{--node-content-drag-drop-area-boundary-border: var(--node-content-drag-drop-area-border-width) solid var(--node-content-drag-drop-area-border-color);box-sizing:border-box;width:100%;height:100%}.theme-dark .node-container .node-drag-drop-area-boundary.active-top{border-top:var(--node-content-drag-drop-area-boundary-border)}.theme-dark .node-container .node-drag-drop-area-boundary.active-bottom{border-bottom:var(--node-content-drag-drop-area-boundary-border)}.theme-dark .node-container .node-drag-drop-area-boundary.active-left{border-left:var(--node-content-drag-drop-area-boundary-border)}.theme-dark .node-container .node-drag-drop-area-boundary.active-right{border-right:var(--node-content-drag-drop-area-boundary-border)}.theme-dark .node-container .node-drag-drop-area-boundary.active-middle{border:var(--node-content-drag-drop-area-boundary-border)}.theme-dark .node-container:not(.group-node-container) .node-drag-drop-area-boundary.active-top{border-top-left-radius:var(--tab-node-content-border-radius-left-top)}.theme-dark .node-container:not(.group-node-container) .node-drag-drop-area-boundary.active-bottom{border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-dark .node-container:not(.group-node-container) .node-drag-drop-area-boundary.active-middle{border-top-left-radius:var(--tab-node-content-border-radius-left-top);border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-dark .node-content{will-change:transform,opacity;flex-grow:1;min-width:0;position:relative;display:flex;flex-direction:row;align-items:center}.theme-dark .node-content:not(.pinned){padding-right:.5rem}.theme-dark .node-content[data-selected-dragging=true]{opacity:.5}.theme-dark .node-content.group-node-content{border-top:1px;border-left:1px;border-right:1px}.theme-dark .node-content.group-node-content .group-title{pointer-events:none;flex:1 0}.theme-dark .node-content.group-node-content .icon-btn{color:#000}.theme-dark .node-content.group-node-content .more-icon{display:none;padding:.3rem}.theme-dark .node-content.group-node-content:hover .more-icon{display:block}.theme-dark .node-content.tab-node-content{transition:color .3s ease,background-color .3s ease,opacity .3s ease;--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-normal);color:var(--tab-node-content-text-and-icon-color)}.theme-dark .node-content.tab-node-content:before{transition:opacity .3s ease;opacity:0;content:"";position:absolute;width:100%;height:100%;top:0;left:0;background:var(--tab-node-content-background-hover);z-index:var(--zindex-node-content-artificial-background-hover)}.theme-dark .node-content.tab-node-content:hover:before{opacity:1}.theme-dark .node-content.tab-node-content:hover{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-hover, inherit)}.theme-dark .node-content.tab-node-content.pinned{border:var(--pinned-tab-node-content-border)}.theme-dark .node-content.tab-node-content:not(.pinned){border-top-left-radius:var(--tab-node-content-border-radius-left-top);border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-dark .node-content.tab-node-content:not(.pinned):before{border-top-left-radius:var(--tab-node-content-border-radius-left-top);border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-dark .node-content.tab-node-content:not(.pinned) .underneath-background{border-top-left-radius:var(--tab-node-content-border-radius-left-top);border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-dark .node-content.tab-node-content:not(.pinned) .node-content-border{position:absolute;width:100%;height:100%;top:0;left:0;pointer-events:none;transition:border .3s ease;opacity:1;z-index:1;border:var(--tab-node-content-border);border-top-left-radius:var(--tab-node-content-border-radius-left-top);border-bottom-left-radius:var(--tab-node-content-border-radius-left-bottom)}.theme-dark .node-content.tab-node-content .underneath-background{position:absolute;width:100%;height:100%;top:0;left:0;pointer-events:none}.theme-dark .node-content.tab-node-content .node-content-artificial-background{background:var(--tab-node-content-background);transition:var(--transition-node-content-artificial-background);z-index:var(--zindex-node-content-artificial-background)}.theme-dark .node-content.tab-node-content .node-content-artificial-background-active{--tab-node-content-background-color-active-normal: linear-gradient(135deg, #727272, #727272);background:var(--tab-node-content-background-color-active-normal);transition:var(--transition-node-content-artificial-background);opacity:0;z-index:var(--zindex-node-content-artificial-background-active-normal)}.theme-dark .node-content.tab-node-content .node-content-artificial-background-active-hover{--tab-node-content-background-color-active-hover: linear-gradient(135deg, #919191, #919191);background:var(--tab-node-content-background-color-active-hover);transition:var(--transition-node-content-artificial-background);opacity:0;z-index:var(--zindex-node-content-artificial-background-active-hover)}.theme-dark .node-content.tab-node-content .node-content-artificial-background-selected{--tab-node-content-background-color-selected-normal: linear-gradient(135deg, #565656, #565656);background:var(--tab-node-content-background-color-selected-normal);transition:var(--transition-node-content-artificial-background);opacity:0;z-index:var(--zindex-node-content-artificial-background-selected-normal)}.theme-dark .node-content.tab-node-content .node-content-artificial-background-selected-hover{--tab-node-content-background-color-selected-hover: linear-gradient(135deg, #6e6e6e, #6e6e6e);background:var(--tab-node-content-background-color-selected-hover);transition:var(--transition-node-content-artificial-background);opacity:0;z-index:var(--zindex-node-content-artificial-background-selected-hover)}.theme-dark .node-content.tab-node-content.active{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-active)}.theme-dark .node-content.tab-node-content.active:hover .node-content-artificial-background-active-hover{opacity:1}.theme-dark .node-content.tab-node-content.active .node-content-artificial-background-active{opacity:1}.theme-dark .node-content.tab-node-content.active .tab-title-container .tab-title{font-weight:var(--tab-node-content-text-style-bold-active);font-style:var(--tab-node-content-text-style-italic-active);-webkit-text-decoration:var(--tab-node-content-text-underline-and-line-through-active);text-decoration:var(--tab-node-content-text-underline-and-line-through-active)}.theme-dark .node-content.tab-node-content.selected{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-selected)}.theme-dark .node-content.tab-node-content.selected:hover{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-hover, var(--tab-node-content-text-and-icon-color-selected))}.theme-dark .node-content.tab-node-content.selected:hover .node-content-artificial-background-selected-hover{opacity:1}.theme-dark .node-content.tab-node-content.selected .node-content-artificial-background-selected{opacity:1}.theme-dark .node-content.tab-node-content.unread{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-unread, var(--tab-node-content-text-and-icon-color-normal))}.theme-dark .node-content.tab-node-content.unread.selected{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-unread, var(--tab-node-content-text-and-icon-color-selected))}.theme-dark .node-content.tab-node-content.unread:hover{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-hover, var(--tab-node-content-text-and-icon-color-unread, var(--tab-node-content-text-and-icon-color-normal)))}.theme-dark .node-content.tab-node-content.unread:hover .node-content-border{opacity:1 !important}.theme-dark .node-content.tab-node-content.unread:hover .tab-title-container .tab-title:not(.enter-transition):not(.exit-transition){opacity:1 !important}.theme-dark .node-content.tab-node-content.unread .tab-title-container .tab-title{font-weight:var(--tab-node-content-text-style-bold-unread);font-style:var(--tab-node-content-text-style-italic-unread);-webkit-text-decoration:var(--tab-node-content-text-underline-and-line-through-unread);text-decoration:var(--tab-node-content-text-underline-and-line-through-unread)}.theme-dark .node-content.tab-node-content.unread .node-content-artificial-background{opacity:var(--tab-node-content-background-opacity-unread)}.theme-dark .node-content.tab-node-content.unread .node-content-border{opacity:var(--tab-node-content-border-opacity-unread)}.theme-dark .node-content.tab-node-content.unloaded{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-unloaded, var(--tab-node-content-text-and-icon-color-normal))}.theme-dark .node-content.tab-node-content.unloaded.selected{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-unloaded, var(--tab-node-content-text-and-icon-color-selected))}.theme-dark .node-content.tab-node-content.unloaded:hover{--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-hover, var(--tab-node-content-text-and-icon-color-unloaded, var(--tab-node-content-text-and-icon-color-normal)))}.theme-dark .node-content.tab-node-content.unloaded:hover .node-content-border{opacity:1 !important}.theme-dark .node-content.tab-node-content.unloaded:hover .tab-title-container .tab-title:not(.enter-transition):not(.exit-transition){opacity:1 !important}.theme-dark .node-content.tab-node-content.unloaded .tab-title-container .tab-title{font-weight:var(--tab-node-content-text-style-bold-unloaded);font-style:var(--tab-node-content-text-style-italic-unloaded);-webkit-text-decoration:var(--tab-node-content-text-underline-and-line-through-unloaded);text-decoration:var(--tab-node-content-text-underline-and-line-through-unloaded)}.theme-dark .node-content.tab-node-content.unloaded .node-content-artificial-background{opacity:var(--tab-node-content-background-opacity-unloaded)}.theme-dark .node-content.tab-node-content.unloaded .node-content-border{opacity:var(--tab-node-content-border-opacity-unloaded)}.theme-dark .node-content.tab-node-content .tab-title-container{pointer-events:none;position:relative;width:100%;flex-grow:1;margin-left:.5rem;height:100%;display:flex;align-items:center}.theme-dark .node-content.tab-node-content .tab-title-container .tab-title{max-width:100%;position:absolute;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:var(--tab-node-content-text-style-bold);font-style:var(--tab-node-content-text-style-italic);-webkit-text-decoration:var(--tab-node-content-text-underline-and-line-through);text-decoration:var(--tab-node-content-text-underline-and-line-through)}.theme-dark .node-content.tab-node-content .tab-title-container .tab-title:not(.transitioning){transition:opacity .3s ease}.theme-dark .node-content.tab-node-content .tab-index{pointer-events:none;margin-left:.3rem}.theme-dark .node-content.tab-node-content .tab-index:not(.pinned){z-index:1}.theme-dark .node-content.tab-node-content.pinned{justify-content:center}.theme-dark .node-content.tab-node-content.pinned .tab-index{position:absolute;margin-left:0;top:0}.theme-dark .node-content.tab-node-content.debug{border-top:var(--tab-node-content-border-width) solid blue;border-bottom:var(--tab-node-content-border-width) solid green}.theme-dark .new-tab-button{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;background:var(--tab-node-content-background);--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-normal);color:var(--tab-node-content-text-and-icon-color);transition:color .3s ease;box-sizing:border-box;border-style:solid;border-color:var(--tab-node-content-border-color);border-bottom:0;z-index:var(--zindex-new-tab-button);cursor:pointer;position:fixed;bottom:0}.theme-dark .new-tab-button:hover{background:var(--tab-node-content-background-hover);--tab-node-content-text-and-icon-color: var(--tab-node-content-text-and-icon-color-hover, inherit)}',""]);let d=i},20503:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r)()(a());i.push([e.id,".check-entry-progress .ant-progress-steps-outer{flex-wrap:wrap;row-gap:.5rem}",""]);let d=i},63072:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r)()(a());i.push([e.id,".chrome-group-colors-container{display:flex;flex-direction:row;-moz-column-gap:.5rem;column-gap:.5rem;justify-content:space-between}",""]);let d=i},92845:(e,t,o)=>{o.d(t,{A:()=>b});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r),d=o(3563),s=o.n(d),c=new URL(o(42076),o.b),l=i()(a()),u=s()(c);l.push([e.id,":root{--context-menu-border-width: 1px}.popup-menu-layer{position:absolute;width:100%;height:100%;background-color:#d3d3d3;opacity:.5;z-index:var(--zindex-popup-menu-layer)}.popup-menu{position:absolute;background-color:var(--popup-menu-background-color);color:var(--popup-menu-text-and-icon-color);transition:background-color .3s,color .3s;padding:.25rem;border-radius:5px;border:var(--context-menu-border-width) solid #d3d3d3;width:-moz-max-content;width:max-content;box-sizing:border-box;z-index:var(--zindex-popup-menu);margin:0}.popup-menu-separator{display:block;width:100%;background-color:#d3d3d3;height:1px;margin-top:.25rem;margin-bottom:.25rem}.popup-menu-item{display:flex;flex-direction:row;align-items:center;height:2rem;padding-left:.5rem;cursor:default;transition:background-color .2s ease-in-out}.popup-menu-item:hover{background-color:var(--popup-menu-background-color-hover)}.popup-menu-item .leading-elem{width:16px;height:16px;margin-right:.5rem}.popup-menu-item .label{flex:1}.popup-menu-item .tailing-elem{margin-left:.5rem}.popup-menu-item .more-icon{margin-top:.14rem;margin-left:1rem;--icon-size: 16px;width:var(--icon-size);height:var(--icon-size);background-color:var(--popup-menu-text-and-icon-color);-webkit-mask:url("+u+") no-repeat 50% 50%/var(--icon-size) var(--icon-size);mask:url("+u+") no-repeat 50% 50%/var(--icon-size) var(--icon-size)}.popup-menu-item .more-icon.hide{visibility:hidden}",""]);let b=l},37896:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(14671),a=o.n(n),r=o(20848),i=o.n(r)()(a());i.push([e.id,".theme-light{--tree-background-color: #ffffff;--node-start-padding: 0.5rem;--nodes-gap: 0;--tab-node-content-border-width: 1px;--tab-node-content-border-color: #e1e1e1;--tab-node-content-border-radius-left-top: 0.5rem;--tab-node-content-border-radius-left-bottom: 0.5rem;--tab-node-content-border: var(--tab-node-content-border-width) solid var(--tab-node-content-border-color);--pinned-tab-node-content-border: var(--pinned-tab-node-content-border-width) solid var(--tab-node-content-border-color);--tab-node-content-background-color: #ffffff;--tab-node-content-background: linear-gradient(135deg, var(--tab-node-content-background-color), color-mix(in srgb, var(--tab-node-content-background-color), gray 5%));--tab-node-content-background-hover: linear-gradient(135deg, #f3f3f3, color-mix(in srgb, #f3f3f3, gray 5%));--tab-node-content-text-and-icon-color-normal: black;--tab-node-content-text-and-icon-color-hover: black;--tab-node-content-text-and-icon-color-active: black;--tab-node-content-text-and-icon-color-selected: black;--node-content-drag-drop-area-border-width: 2px;--node-content-drag-drop-area-border-color: #000000;transition:--tab-node-content-background-color .3s ease;--overlap-background-color: #ffffff;--modal-background-color: #ffffff;--modal-background-color-hover: #f3f3f3;--modal-text-and-icon-color: #000000;--branch-node-background-color: #ffffff;--branch-node-text-and-icon-color: #000000;--popup-menu-background-color: #ffffff;--popup-menu-background-color-hover: #f3f3f3;--popup-menu-text-and-icon-color: #000000;--modal-underneath-background-color: rgba(0, 0, 0, 0.4470588235);--modal-quick-navigation-node-hover-shadow-box: 0 0 7px 1px gray}body.theme-light{transition:background-color .5s ease;background-color:var(--tree-background-color)}.theme-light .navigation-panel .branch-tab-node{height:100%}.theme-light .navigation-panel .node-spacer{height:.5rem}.theme-light .navigation-panel .group-bottom-border{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.theme-light .navigation-panel .node-container{height:2rem;display:flex;flex-direction:row;position:relative;transition:z-index .3s}.theme-light .navigation-panel .node-container:hover{z-index:2}.theme-light .navigation-panel .node-container .node-content{height:100%;position:relative;display:flex;flex-direction:row;align-items:center;cursor:pointer;color:var(--modal-text-and-icon-color);padding-left:.5rem}.theme-light .navigation-panel .node-container .node-content.tab-node{transition:background-color .3s}.theme-light .navigation-panel .node-container .node-content.tab-node .node-title{margin-left:.25rem}.theme-light .navigation-panel .node-container .node-content.tab-node:hover{background-color:var(--modal-background-color-hover)}.theme-light .navigation-panel .node-container .node-content.group-node{border-top-left-radius:5px;border-top-right-radius:5px;transition:box-shadow .3s}.theme-light .navigation-panel .node-container .node-content.group-node.no-children{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.theme-light .navigation-panel .node-container .node-content.group-node:hover{box-shadow:var(--modal-quick-navigation-node-hover-shadow-box)}.theme-light .navigation-panel .node-container .node-content .level-padding{height:100%}.theme-light .navigation-panel .unlock-msg{color:#fff;text-align:center;transition:text-shadow .25s}.theme-light .navigation-panel .unlock-msg:hover{color:#fff;text-shadow:0 0 20px #fff}.theme-dark{--tree-background-color: #1c1b22;--node-start-padding: 0;--nodes-gap: 0;--tab-node-content-border-width: 1px;--tab-node-content-border-color: gray;--tab-node-content-border-radius-left-top: 0;--tab-node-content-border-radius-left-bottom: 0;--tab-node-content-border: var(--tab-node-content-border-width) solid var(--tab-node-content-border-color);--pinned-tab-node-content-border: var(--pinned-tab-node-content-border-width) solid var(--tab-node-content-border-color);--tab-node-content-background-color: #2b2b2b;--tab-node-content-background: linear-gradient(135deg, var(--tab-node-content-background-color), var(--tab-node-content-background-color));--tab-node-content-background-hover: linear-gradient(135deg, #004a77, color-mix(in srgb, #004a77, gray 20%));--tab-node-content-text-and-icon-color-normal: white;--tab-node-content-text-and-icon-color-hover: white;--tab-node-content-text-and-icon-color-active: white;--tab-node-content-text-and-icon-color-selected: white;--node-content-drag-drop-area-border-width: 2px;--node-content-drag-drop-area-border-color: #ffffff;transition:--tab-node-content-background-color .3s ease;--overlap-background-color: #1c1b22;--modal-background-color: #2b2b2b;--modal-background-color-hover: #004a77;--modal-text-and-icon-color: #ffffff;--branch-node-background-color: #2b2b2b;--branch-node-text-and-icon-color: #ffffff;--popup-menu-background-color: #2b2b2b;--popup-menu-background-color-hover: #004a77;--popup-menu-text-and-icon-color: #ffffff;--modal-underneath-background-color: rgba(230, 230, 230, 0.4196078431);--modal-quick-navigation-node-hover-shadow-box: 0 0 5px 2px white}body.theme-dark{transition:background-color .5s ease;background-color:var(--tree-background-color)}.theme-dark .navigation-panel .branch-tab-node{height:100%}.theme-dark .navigation-panel .node-spacer{height:.5rem}.theme-dark .navigation-panel .group-bottom-border{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.theme-dark .navigation-panel .node-container{height:2rem;display:flex;flex-direction:row;position:relative;transition:z-index .3s}.theme-dark .navigation-panel .node-container:hover{z-index:2}.theme-dark .navigation-panel .node-container .node-content{height:100%;position:relative;display:flex;flex-direction:row;align-items:center;cursor:pointer;color:var(--modal-text-and-icon-color);padding-left:.5rem}.theme-dark .navigation-panel .node-container .node-content.tab-node{transition:background-color .3s}.theme-dark .navigation-panel .node-container .node-content.tab-node .node-title{margin-left:.25rem}.theme-dark .navigation-panel .node-container .node-content.tab-node:hover{background-color:var(--modal-background-color-hover)}.theme-dark .navigation-panel .node-container .node-content.group-node{border-top-left-radius:5px;border-top-right-radius:5px;transition:box-shadow .3s}.theme-dark .navigation-panel .node-container .node-content.group-node.no-children{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.theme-dark .navigation-panel .node-container .node-content.group-node:hover{box-shadow:var(--modal-quick-navigation-node-hover-shadow-box)}.theme-dark .navigation-panel .node-container .node-content .level-padding{height:100%}.theme-dark .navigation-panel .unlock-msg{color:#fff;text-align:center;transition:text-shadow .25s}.theme-dark .navigation-panel .unlock-msg:hover{color:#fff;text-shadow:0 0 20px #fff}",""]);let d=i},66858:(e,t,o)=>{let n,a,r;o.r(t),o.d(t,{default:()=>nq});var i=o(80996),d=o(93034),s=o(87521),c=o(79474),l=o(95908),u=o(3022),b=o(56615),g=o(87855),p=o(62567),h=o(3735),m=o(24817),v=o(44788),f=o(91043);async function y(e,t){var o;let n=(0,d.tZ)(!0,d.W4.script,[...e,y.name]),a=await (0,b.getChromeCurrentWindowId)();n.gcP("Initialise nodes tree.",{windowId:a});try{if(a){let e=await (0,v.w)({type:"queryWindowState",windowId:a});if(n.search("Checking if restoring tab nodes data.",{restoringTreeNodesState:null==e?void 0:e.restoringTreeNodesState}),null==e?void 0:e.restoringTreeNodesState)for(;(null===(o=null==e?void 0:e.restoringTreeNodesState)||void 0===o?void 0:o.status)==="progress";)n.wait("Restoring tab nodes data. Waiting..."),await (0,f.yy)(1e3),e=await (0,v.w)({type:"queryWindowState",windowId:a},{printLog:!1}),t(null==e?void 0:e.restoringTreeNodesState);else n.false("Not restoring tab nodes data.")}let e=await h.L.load(a);e?n.success("Found tree nodes data.",e):n.failure("No tree data found."),await h.L.cleanUpTreeNodesDataOrphans(),await (0,p.O)({fixMissingParents:!0,oldNodes:e,setNodesFirstLoaded:!0,onFinished:t=>{e||(n.log("First load, mark all tab nodes as read."),t.forEach(e=>{(0,m.q8)(e)&&(e.isRead=!0)}))}})}catch(e){n.error(e)}finally{n.ge()}}var x=o(2791),w=o(38017),k=o(96318),T=o(40075),N=o(12594),C=o(33030),S=o(13526),A=o(79408);let O=JSON.parse('{"v":"5.7.5","fr":100,"ip":0,"op":400,"w":1000,"h":1000,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":1,"k":[{"t":0,"s":[800,200],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":50,"s":[650,200],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":100,"s":[650,200],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[650,200],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[650,200],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[650,200],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[650,200],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[800,200],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":1,"k":[{"t":100,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}},{"ty":"fl","c":{"a":1,"k":[{"t":100,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"o":{"a":1,"k":[{"t":100,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":1,"k":[{"t":100,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"e":{"a":1,"k":[{"t":100,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"o":{"a":1,"k":[{"t":100,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":0,"s":[500,200],"i":{"x":[0.5],"y":[1.5]},"o":{"x":[0.8],"y":[0]}},{"t":50,"s":[570,500],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":100,"s":[570,500],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[570,800],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":200,"s":[570,800],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[570,500],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[570,500],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[500,200],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"a":{"a":1,"k":[{"t":0,"s":[0,0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":50,"s":[0,0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":100,"s":[0,0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[0,0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0,0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0,0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[0,0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0,0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"s":{"a":1,"k":[{"t":0,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":50,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":100,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"r":{"a":1,"k":[{"t":100,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"o":{"a":1,"k":[{"t":100,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":1,"k":[{"t":100,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sa":{"a":1,"k":[{"t":100,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":1,"k":[{"t":300,"s":[800,200],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[800,200],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":1,"k":[{"t":300,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}},{"ty":"fl","c":{"a":1,"k":[{"t":300,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"o":{"a":1,"k":[{"t":300,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":1,"k":[{"t":300,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"e":{"a":1,"k":[{"t":300,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"o":{"a":1,"k":[{"t":300,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":0,"s":[500,500],"i":{"x":[0.58],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":50,"s":[500,200],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":300,"s":[500,200],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[494,500],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"a":{"a":1,"k":[{"t":300,"s":[0,0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0,0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"s":{"a":1,"k":[{"t":300,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"r":{"a":1,"k":[{"t":300,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"o":{"a":1,"k":[{"t":300,"s":[50],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[50],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":1,"k":[{"t":300,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sa":{"a":1,"k":[{"t":300,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":350,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":2},"r":{"a":0,"k":0,"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":2},"s":{"a":0,"k":[100,100],"ix":2}},"ao":0,"hd":false,"shapes":[{"ty":"gr","hd":false,"it":[{"ty":"rc","hd":false,"d":1,"s":{"a":1,"k":[{"t":100,"s":[800,200],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[800,200],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[800,200],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[800,200],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":1,"k":[{"t":100,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}},{"ty":"fl","c":{"a":1,"k":[{"t":100,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0.43529411764705883,0.43529411764705883,0.43529411764705883],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"o":{"a":1,"k":[{"t":100,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tm","s":{"a":1,"k":[{"t":100,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"e":{"a":1,"k":[{"t":100,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"o":{"a":1,"k":[{"t":100,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"m":1,"hd":false},{"ty":"tr","hd":false,"p":{"a":1,"k":[{"t":100,"s":[500,800],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":150,"s":[500,500],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[500,500],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[500,800],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"a":{"a":1,"k":[{"t":100,"s":[0,0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[0,0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0,0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0,0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"s":{"a":1,"k":[{"t":100,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[100,100],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[100,100],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"r":{"a":1,"k":[{"t":100,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"o":{"a":1,"k":[{"t":100,"s":[50],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[50],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[50],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[50],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sk":{"a":1,"k":[{"t":100,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2},"sa":{"a":1,"k":[{"t":100,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":150,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}},{"t":200,"s":[0],"i":{"x":[0.2],"y":[1]},"o":{"x":[0.5],"y":[-0.5]}},{"t":250,"s":[0],"i":{"x":[1],"y":[1]},"o":{"x":[0],"y":[0]}}],"ix":2}}]}],"ip":0,"op":400,"st":0,"bm":0}],"markers":[]}');var I=o(76832),P=o(56392);let{defaultAlgorithm:_,darkAlgorithm:E}=o(46150).A;function L(e){return{algorithm:e===w.Sx.Dark?E:_}}var D=o(50495),M=o.n(D),B=o(22780),W=o.n(B),Y=o(8016),z=o.n(Y),F=o(44119),j=o.n(F),R=o(33355),U=o.n(R),$=o(96136),G=o.n($),Z=o(20503),H={};H.styleTagTransform=G(),H.setAttributes=j(),H.insert=z().bind(null,"head"),H.domAPI=W(),H.insertStyleElement=U(),M()(Z.A,H),Z.A&&Z.A.locals&&Z.A.locals;var q=o(27207);function K(e){let{theme:t,restoringTabNodesState:o,onContinueButtonClick:n,onSuccess:a}=e;(0,c.useEffect)(()=>{"success"===o.status&&setTimeout(async()=>{a();let e=await (0,b.getChromeCurrentWindowId)();e&&await (0,v.w)({type:"removeWindowState",windowId:e})},2e3)},[n,a,o]);let r=(0,c.useMemo)(()=>t===w.Sx.Dark?"#CCCCCC":void 0,[t]);return(0,q.Y)(q.FK,{children:(0,q.Y)(k.Ay,{theme:L(t),children:(0,q.FD)(I.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:(0,S.A)("flex flex-col items-center justify-center","fixed","bg-[var(--overlap-background-color)]","inset-x-0 inset-y-0","z-[var(--zindex-tab-nodes-tree-loader)]"),children:[(()=>{switch(o.status){case"progress":return(0,q.Y)(A.Do,{className:(0,S.A)({"text-gray-100":t===w.Sx.Dark,"text-gray-300":t===w.Sx.Light},"w-[100px] h-[100px]"),animationData:O});case"success":return(0,q.Y)(P.A,{className:(0,S.A)("text-[100px]","text-[#52c41a]","size-[100px]")});case"failure":return(0,q.Y)("div",{className:"flex flex-col items-center justify-center text-[75px] text-center size-[100px]",children:"\uD83D\uDE22"})}})(),(0,q.Y)(T.A.Text,{className:(0,S.A)("my-2 mx-8 flex flex-col text-center justify-center items-center h-[45px]"),children:(()=>{var e;switch(o.status){case"progress":return 1===o.totalCandidateTreeNodesDataEntriesCount?"Restoring tab nodes...":`Restoring tab nodes from ${o.totalCandidateTreeNodesDataEntriesCount} available saved data entries...`;case"success":return"Restored tab nodes successfully.";case"failure":return null!==(e=o.exceptionMessage)&&void 0!==e?e:"";default:return""}})()}),o.totalCandidateTreeNodesDataEntriesCount>1&&(0,q.FD)(q.FK,{children:[(0,q.Y)(N.A,{showInfo:!1,className:(0,S.A)("check-entry-progress","flex flex-col items-stretch justify-center","px-4 mt-4"),trailColor:r,percent:Math.round(o.treeNodesDataEntriesProcessedCount/o.totalCandidateTreeNodesDataEntriesCount*100),steps:o.totalCandidateTreeNodesDataEntriesCount,size:15,strokeColor:Array(o.treeNodesDataEntriesProcessedCount).fill("").map((e,t)=>t<o.treeNodesDataEntriesProcessedCount-1?"red":"")}),(0,q.FD)(T.A.Text,{className:"text-center",children:["Checking entry ",o.treeNodesDataEntriesProcessedCount+" of "+o.totalCandidateTreeNodesDataEntriesCount,"..."]})]}),(0,q.Y)(N.A,{className:(0,S.A)("flex flex-col items-stretch justify-center","px-6 my-4"),percentPosition:{align:"center",type:"outer"},percent:o.progressPercentage,trailColor:r,size:["100%",21],status:"success"===o.status?"success":"failure"===o.status?"exception":"active"}),(0,q.Y)(C.Ay,{type:"primary",className:(0,S.A)("transition-opacity duration-1000","failure"!==o.status&&["opacity-0","invisible pointer-events-none"]),onClick:async()=>{let e=await (0,b.getChromeCurrentWindowId)();e&&await (0,v.w)({type:"removeWindowState",windowId:e}),n()},children:"Open Help Page and Continue"})]})})})}var V=o(57661),J={};J.styleTagTransform=G(),J.setAttributes=j(),J.insert=z().bind(null,"head"),J.domAPI=W(),J.insertStyleElement=U(),M()(V.A,J),V.A&&V.A.locals&&V.A.locals;var X=o(53905),Q=o(57866),ee=o(37390),et=o(65542),eo=o(92935),en=o.n(eo),ea=o(74363),er=o(60198),ei={};function ed(e){let{tabNode:t,position:o,nodeContentBorderLineWidth:n,style:a}=e,r="";switch(o){case"left":r="group-left-border",a=Object.assign({height:"auto",width:"4px"},a);break;case"right":r="group-right-border",a=Object.assign({height:"auto",width:"4px"},a);break;case"bottom":r="group-bottom-border",a=Object.assign({bottom:0,height:"4px",width:"100%",position:"relative",boxSizing:"border-box"},a)}return(0,q.Y)(X.CS.div,{className:r,style:a,css:(0,ea.AH)({borderLeft:"1px",borderRight:"1px",backgroundColor:t.groupColor},"","")})}ei.styleTagTransform=G(),ei.setAttributes=j(),ei.insert=z().bind(null,"head"),ei.domAPI=W(),ei.insertStyleElement=U(),M()(er.A,ei),er.A&&er.A.locals&&er.A.locals;var es={name:"1ff36h2",styles:"flex-grow:1"};let ec=(0,c.forwardRef)((e,t)=>{let{node:o,style:n,isContentVisible:a}=e,r=(0,c.useMemo)(()=>(0,m.q8)(o)&&(0,m.y7)(o),[o]);return(0,q.Y)(X.CS.div,{ref:t,className:"nodes-gap",style:n,children:a&&(0,q.FD)(q.FK,{children:[(0,m.q8)(o)&&r&&(0,q.Y)(ed,{tabNode:o,position:"left"}),(0,q.Y)("span",{css:es}),(0,m.q8)(o)&&r&&(0,q.Y)(ed,{tabNode:o,position:"right"})]})})});function el(...e){return t=>{!function(e,...t){t.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}(t,...e)}}o(48088),o(41615);var eu=o(81813),eb=o(68687);function eg(e){return(0,m.q8)(e)&&e.isSelected?Object.assign(Object.assign({},e),{isSelected:!1}):e}function ep(e){let t=!e.areChildrenExpanded,o=(0,eb.WB)(s.store.nodesTree.nodes,e,t);o=o.map(eg),s.store.nodesTree.setNodes(o)}var eh=o(86551),em={};em.styleTagTransform=G(),em.setAttributes=j(),em.insert=z().bind(null,"head"),em.domAPI=W(),em.insertStyleElement=U(),M()(eh.A,em),eh.A&&eh.A.locals&&eh.A.locals;let ev=(0,c.memo)(({node:e,themeable:t})=>{let o=e.directChildrenNodeIds.length>0;return(0,q.Y)(q.FK,{children:(0,q.Y)("div",{className:(0,S.A)("icon-btn",{disabled:!o},"leading"),onClick:t=>{0!==e.directChildrenNodeIds.length&&ep(e)},children:(0,q.Y)("div",{className:["expand-collapse-icon",t&&"themeable",o&&"node-expand-collapse",e.areChildrenExpanded&&"expanded"].filter(Boolean).join(" ")})})})},(e,t)=>{let o=e.node,n=t.node;return(0,ee.r$)(o,n,{logTags:"MemoNodeExpandCollapseIcon",ifPrint:!1})});var ef=o(58970),ey={};ey.styleTagTransform=G(),ey.setAttributes=j(),ey.insert=z().bind(null,"head"),ey.domAPI=W(),ey.insertStyleElement=U(),M()(ef.A,ey),ef.A&&ef.A.locals&&ef.A.locals;let ex=(0,c.memo)(function(e){let{themeable:t,onClick:o}=e;return(0,q.Y)(q.FK,{children:(0,q.Y)("div",{className:(0,S.A)("close-icon-button"),onClick:o,children:(0,q.Y)("div",{className:(0,S.A)("close-icon",t&&"themeable")})})})});var ew=o(66984),ek={};ek.styleTagTransform=G(),ek.setAttributes=j(),ek.insert=z().bind(null,"head"),ek.domAPI=W(),ek.insertStyleElement=U(),M()(ew.A,ek),ew.A&&ew.A.locals&&ew.A.locals;let eT=(0,c.memo)(({muted:e,themeable:t,onClick:o})=>(0,q.Y)(q.FK,{children:(0,q.Y)("div",{className:["audio-play-icon-button"].filter(Boolean).join(" "),onClick:o,children:(0,q.Y)("div",{className:["audio-icon",e?"audio-mute-icon":"audio-play-icon",t&&"themeable"].filter(Boolean).join(" ")})})}));var eN=o(61643),eC=o(69173);function eS(e){let{node:t}=e;return(0,q.Y)(x.N,{children:t.descendantNodesCount>0&&!t.areChildrenExpanded&&(0,q.FD)(I.P.span,{className:"pb-0.5 mr-1.5 pointer-events-none",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},children:["(",t.descendantNodesCount,")"]})})}var eA=o(71109),eO={};eO.styleTagTransform=G(),eO.setAttributes=j(),eO.insert=z().bind(null,"head"),eO.domAPI=W(),eO.insertStyleElement=U(),M()(eA.A,eO),eA.A&&eA.A.locals&&eA.A.locals;var eI=o(8256);let eP=(0,c.memo)(function(e){let{themeable:t,tooltip:o,onClick:n}=e;return(0,q.Y)(eI.A,{mouseEnterDelay:1,title:o,children:(0,q.Y)("div",{className:(0,S.A)("plus-icon-button"),onClick:n,children:(0,q.Y)("div",{className:(0,S.A)("plus-icon",t&&"themeable")})})})});var e_=o(79868);let eE={AsFirstChild:"As first child",AsLastChild:"As last child"};var eL=o(83840),eD=o(94475);function eM(e,t){let o;return(0,ee.mt)(e)&&e.shiftKey&&e.altKey?o=t(eL.A.WinLinuxCtrlOrMacCmd_ALT_Shift):(0,ee.mt)(e)&&e.shiftKey?o=t(eL.A.WinLinuxCtrlOrMacCmd_Shift):(0,ee.mt)(e)&&e.altKey?o=t(eL.A.WinLinuxCtrlOrMacCmd_Alt):e.altKey&&e.shiftKey?o=t(eL.A.ALT_Shift):(0,ee.mt)(e)?o=t(eL.A.WinLinuxCtrlOrMacCmd):e.shiftKey?o=t(eL.A.Shift):e.altKey&&(o=t(eL.A.Alt)),o||t(eL.A.None)}var eB=o(59721),eW=o(6320);let eY=(0,d.tZ)(!0,d.W4.script,ez.name);async function ez(e,t,o,n){if(!s.store.licenseCache.isValidProEntitlement){eY.returnP("Not a PRO license. Skip.");return}if(o.settingType===eW.WQ.ChromeDefault){eY.returnP("Using Chrome default setting. Skip.");return}let a=(0,ee.eC)(t).find(e=>e.active);if(!a){eY.logP("No active tab node. Skip.");return}let r=(0,m.fc)(e);try{let t;eY.gP({settingType:o.settingType,rulesOrder:o.rulesConditionOrder,nodes:(0,m.Op)(e),tabNodes:(0,m.Op)(r),activeTabNode:a}),eY.loop("Iterate treeBehaviourOptions.activateNextTabNodeAfterTabNodeClosedSettings");e:for(let e of o.rulesConditionOrder)switch(eY.search("Check setting:",e),e){case"WhenHasChildren":if(t=function e(t,o,n){let a;let r=(0,d.tZ)(!0,d.W4.script,e.name),i=(0,m.DN)(t,o);switch(r.gP(),r.search("Search for child tab nodes.",{setting:n,children:i}),n){case"ActivateFirstChild":(a=en().first(i))&&r.check("Found the child tab node at first position.",a);break;case"ActivateLastChild":(a=en().last(i))&&r.check("Found the child tab node at last position.",a);break;case"Ignore":r.false("Ignore.")}return a||r.false("Cannot find any child tab nodes.",a),r.ge(),a}(a,r,o[eW._3.WhenHasChildren]))break e;break;case"WhenHasParentAndSiblings":if(t=function e(t,o,n,a){let r;let i=(0,d.tZ)(!0,d.W4.script,e.name),s=(0,m.pc)(t,o);if(!s){i.logP("Parent tab node does exists. Condition is not met.",{hasUnreadSiblingsRule:n,hasSiblingsRule:a});return}return i.gP(),i.log("Parent tab node exists. Search for siblings.",{parentTabNode:s}),n!==eW.ev.Ignore?(i.search("Search for unread siblings.",{hasUnreadSiblingsSetting:n}),(r=function(e,t,o,n){let a=t.filter(t=>o.directChildrenNodeIds.includes(t.id)&&!t.isRead&&t.id!==e.id);if(0!==a.length)switch(n){case eW.ev.ActivateFirstUnread:return en().first(a);case eW.ev.ActivateLastUnread:return en().last(a)}}(t,o,s,n))?i.check(`Found the unread sibling tab node with ${n} rule.`,r):i.false("Cannot find any unread sibling nodes.",r)):i.false("Ignore unread siblings by rule.",{hasUnreadSiblingsSetting:n}),r||(a!==eW.pI.Ignore?(i.search("Search for siblings.",{hasSiblingsSetting:a}),(r=function(e,t,o,n){let a,r;let i=t.filter(e=>o.directChildrenNodeIds.includes(e.id)),d=i.findIndex(t=>t.id===e.id);if(eY.log("getSiblingTabNode.",{allSiblings:i,indexOfActiveTabNode:d}),0!==i.length){switch(n){case eW.pI.ActivateAbove:a=i[d-1];break;case eW.pI.ActivateBelow:a=i[d+1];break;case eW.pI.ActivateAboveElseBelow:for(r=d-1;!a&&r>=0;)a=i[r],r--;for(r=d+1;!a&&r<i.length;)a=i[r],r++;break;case eW.pI.ActivateBelowElseAbove:for(r=d+1;!a&&r<i.length;)a=i[r],r--;for(r=d-1;!a&&r>=0;)a=i[r],r++}return a}}(t,o,s,a))?i.check(`Found the sibling tab node with ${a} rule.`,r):i.false("Cannot find any unread sibling nodes.",r)):i.false("Ignore unread siblings by rule.",{hasSiblingsSetting:a}),i.ge()),r}(a,r,o[eW._3.WhenHasParentAndSiblings].hasUnreadSiblingsRule,o[eW._3.WhenHasParentAndSiblings].hasSiblingsRule))break e;break;case"WhenHasParent":if(t=function e(t,o){var n;let a=(0,d.tZ)(!0,d.W4.script,e.name);a.gP(),a.search("Search for the parent tab node.",{activeTabNode:t,tabNodes:o});let r=null!==(n=(0,m.pc)(t,o))&&void 0!==n?n:(0,m.ae)(t,o);return r?a.check("Found the parent tab node.",{parentTabNode:r}):a.false("Cannot find the parent tab node.",{parentTabNode:r}),a.ge(),r}(a,r))break e}return t||(t=function e(t,o,n){let a;let r=(0,d.tZ)(!0,d.W4.script,e.name);switch(r.gP(),r.search("Search for above or below tab node.",{setting:n}),n){case"ActivateAboveSibling":let i=(0,m.gJ)(t);(a=o.findLast(e=>e.index<t.index&&(0,m.gJ)(e)===i))&&r.check("Found above sibling tab node.",a);break;case"ActivateAbove":(a=o[t.index-1])&&r.check("Found above tab node.",a);break;case"ActivateBelow":(a=o[t.index+1])&&r.check("Found below tab node.",{"activeTabNode.index":t.index,tabNode:a})}return a||r.false("Cannot find above or below tab node does.",a),r.ge(),a}(a,r,o[eW._3.WhenHasNeitherParentNorChildren])),t&&await (0,b.Nz)(t.id,n),t}catch(e){eY.error(e)}finally{eY.ge()}}var eF=o(11080);let ej=(0,d.tZ)(!0,d.W4.action,[eR.name]);async function eR(e){let t=s.store.nodesTree.nodes,o=s.store.options.nodesTreeSettings;try{s.store.chromeEventListeners.toggleAllListeners(!1);let n=(0,ee.eC)(e);await ez(t,n,o.whichTabNodeToActivateAfterTabNodeClosedSettings,!1),await (0,b.Xn)(n.map(e=>e.id)),await eU(n[0].windowId)}catch(e){ej.errorP(e)}finally{s.store.chromeEventListeners.toggleAllListeners(!0)}}async function eU(e){var t;let o=s.store.nodesTree.nodes,n=await chrome.tabs.query({active:!0,windowId:e});n.length>2&&ej.warnP("Multiple active tabs. This is unusual.",{activeTabs:n});let a=await (0,eF.d)({fixMissingParents:!0,oldNodes:o,nodesWithNewProperties:(null===(t=n[0])||void 0===t?void 0:t.id)?{[n[0].id]:{isRead:!0}}:void 0,nodeTransformers:[eg]});s.store.nodesTree.selectionStartTabId&&(ej.log("Clear selected tab node."),s.store.nodesTree.setSelectionStartTabId(void 0)),s.store.nodesTree.setNodes(a)}async function e$(e){let t=s.store.nodesTree.nodes.filter(m.C_);if(e.isSelected&&t.length>1){t.forEach(e=>{e.descendantNodesCount>0&&!e.areChildrenExpanded&&t.push(...(0,m.Js)(e,s.store.nodesTree.nodes).filter(e=>-1===t.indexOf(e)))});let e=t.filter(e=>!e.isExpanded).length;return s.store.dialogs.setDialogState({type:"confirm",title:"Close tabs",content:`Close ${t.length} selected tabs ${e>0?`(including ${e} collapsed tab${(0,ee.ve)(e,"","s")})`:""}?`,positiveButton:{onClick:async()=>{await eR(t)}}}),!0}return!1}async function eG(e,t){return e.descendantNodesCount>0&&(!t||!!t&&!e.areChildrenExpanded)&&(s.store.dialogs.setDialogState({type:"confirm",title:"Close subtree",content:`Close tab "${(0,eo.truncate)(e.title,{length:20})}" and its ${e.descendantNodesCount} child tab${(0,ee.ve)(e.descendantNodesCount,"","s")}?`,positiveButton:{onClick:async()=>{await eR([e,...(0,m.Js)(e,s.store.nodesTree.nodes)])}}}),!0)}async function eZ(e,t){if(await e$(t)||await eG(t,!0))return;if(0===t.descendantNodesCount){await eR(t);return}let o=s.store.options.nodesTreeSettings.subtreeSettings.parentTabNodeCloseButtonActionModifierKeysMappings;switch(eM(e,e=>{var t;return null===(t=Object.entries(o).find(([,t])=>t===e))||void 0===t?void 0:t[0]})){case eB.Ic.CloseParentTabNode:await eR(t);break;case eB.Ic.CloseParentTabNodeAndChildren:await eG(t,!1)}}let eH=(0,d.tZ)(!0,d.W4.action,eq.name);function eq(e=s.store.nodesTree.nodes){if(s.store.nodesTree.selectionStartTabId&&s.store.nodesTree.setSelectionStartTabId(void 0),(0,m.Gu)(e)){eH.logP("Some tab nodes selected. Clear up selection.");let t=e.map(eg);s.store.nodesTree.setNodes(t)}}function eK(e=s.store.nodesTree.nodes){return(0,m.fc)(e).filter(e=>e.isSelected)}class eV{}function eJ(e,t){switch(e.dataTransfer.setData(u.We.dragNodeId,t.id.toString()),((0,m.q8)(t)&&!t.isSelected||(0,m.mI)(t))&&eq(),s.store.nodesTree.setDraggingNode(t),t.nodeType){case"tabNode":let o=s.store.options.nodesTreeSettings.subtreeSettings.parentTabNodeDraggingActionModifierKeysMappings;switch(eM(e,e=>{var t,n;return null!==(n=null===(t=Object.entries(o).find(([,t])=>t===e))||void 0===t?void 0:t[0])&&void 0!==n?n:eB.Tw.DragWholeSubTree})){case eB.Tw.DragWholeSubTree:s.store.nodesTree.setSelectionStartTabId(t.id);let n=[];if(t.isSelected){let e=eK();n=e.filter(t=>0!==t.descendantNodesCount&&!e.some(e=>(0,m.UW)(e,t)))}else n=[t];!function e(t){let o=(0,d.tZ)(!0,d.W4.action,e.name);if(o.logP({parentTabNodes:t}),0===t.length)return;let n=new Set(t.map(e=>e.id)),a=s.store.nodesTree.nodes.map(e=>{let t;return(0,m.q8)(e)&&(n.has(e.id)||e.ancestralNodeIds.some(e=>n.has(e)))&&(o.logP({node:e}),t=Object.assign(Object.assign({},e),{isSelected:!0})),null!=t?t:e});o.logP(a),s.store.nodesTree.setNodes(a)}(n);break;case eB.Tw.DragParentTabNode:!function(e){let t=s.store.nodesTree.nodes.map(t=>{var o;return null!==(o=e(t))&&void 0!==o?o:t});s.store.nodesTree.setNodes(t)}(e=>{if((0,m.q8)(e)&&e.id===t.id)return Object.assign(Object.assign({},e),{isSelected:!0})})}s.store.nodesTree.nodes.forEach(e=>{(0,m.q8)(e)&&(e.id===t.id||e.isSelected)&&(0,m.CB)(e,eV.NodeContentSelectedDragging.key,"true")});break;case"groupNode":(0,m.CB)(t,eV.NodeContentSelectedDragging.key,"true")}}function eX(e,t){e.dataTransfer.clearData(u.We.dragNodeId),(0,ee.wL)(eV.NodeContentSelectedDragging),s.store.nodesTree.setDraggingNode(void 0),eq()}function eQ(e,t){return chrome.i18n.getMessage(e,t)}async function e0(e,t){let o=(0,d.tZ)(!0,d.W4.script,e0.name),n=(0,m.fc)(e).filter(e=>t.includes(e.id));o.logP({duplicatingTabNodes:(0,m.Op)(n)});let a={};for(let e=0;e<t.length;e++){let r=t[e],i=await chrome.tabs.duplicate(r);if(!i||!i.id)continue;let d=n.find(e=>e.title===i.title);if(!d)continue;let s=i.index+d.descendantNodesCount+1;await (0,b.ie)([{id:i.id,index:i.index}],s,!0),o.logP("Moved tab.",{duplicatedTabIndex:i.index,toIndex:s}),a=Object.assign(Object.assign({},a),{[i.id]:{ancestralNodeIds:[...d.ancestralNodeIds]}})}return a}async function e1(e){try{let t=s.store.nodesTree.nodes;s.store.chromeEventListeners.toggleAllListeners(!1);let o=await e0(t,e),n=await (0,eF.d)({oldNodes:t,nodesWithNewProperties:o});s.store.nodesTree.setNodes(n)}catch(e){}finally{s.store.chromeEventListeners.toggleAllListeners(!0)}}eV.NodeContentSelectedDragging={key:"selectedDragging",attributeName:"selected-dragging"},o(65640);let e5=(0,d.tZ)(!0,d.W4.action,e2.name);async function e2(e,t){s.store.chromeEventListeners.toggleAllListeners(!1);try{for(let o of e)await (0,b.Oz)(async()=>{await chrome.tabs.update(o.id,{pinned:t})},[o.id]);await (0,p.O)({fixMissingParents:!0})}catch(e){e5.error(e)}finally{s.store.chromeEventListeners.toggleAllListeners(!0)}}let e3=(0,d.tZ)(!0,d.W4.message,[e4.name]);async function e4(e,t,o){var n;if(!e||!e.id){e3.endP("Target window or window id is undefined.",{window:e});return}return await (0,v.w)({type:"toggleAllChromeEventListeners",windowId:e.id,enabled:t},{logTags:[...null!==(n=null==o?void 0:o.logTags)&&void 0!==n?n:[]],onLogFailure:e=>(null==o?void 0:o.onLogFailure)?o.onLogFailure(e):e3.warnP("Error sending message. This could be due to side panel is not opened.",e)})}let e8=(0,d.tZ)(!0,d.W4.message,[e6.name]);async function e6(e,t){let o=await (0,b.getChromeCurrentWindowId)();if(!o||!e||!e.id){e8.log("current window's id or target window's id is undefined",{currentWindowId:o,targetWindowId:null==e?void 0:e.id});return}let n={type:"buildNodesTree",windowId:e.id,buildNodesTreeArguments:t};e8.sendP("Send message.",{msg:n});try{let e=await chrome.runtime.sendMessage(n);e8.receiveP("received message",e)}catch(e){e8.check("Error sending message. This could be due to side panel is not opened.",e)}}let e7=(0,d.tZ)(!0,d.W4.message,[e9.name]);async function e9(e,t,o,n){let a=await (0,b.getChromeCurrentWindowId)();if(!a||!e||!e.id){e7.log("current window's id or target window's id is undefined",{currentWindowId:a,targetWindowId:null==e?void 0:e.id});return}let r={type:"expandCollapseGroupNode",windowId:e.id,groupId:t,expand:o,buildNodesTreeArguments:n};e7.sendP("Send message.",{msg:r});try{let e=await chrome.runtime.sendMessage(r);e7.receiveP("received message",e)}catch(e){e7.check("Error sending message. This could be due to side panel is not opened.",e)}}var te=o(65640);async function tt(e,t,o){let n,a,r;let i=!t,d=e.filter(e=>e.groupId!==t);if(0!==d.length){if(i)r=!0;else{let e=await chrome.tabGroups.get(t);if(!e){te.error("chrome tab group not found",{groupId:t});return}let o=await (0,b.Yc)();(r=(n=await chrome.windows.get(e.windowId)).id===o.id)&&(a=(0,m.j7)(s.store.nodesTree.nodes,t))}r?s.store.chromeEventListeners.toggleAllListeners(!1):await e4(n,!1);try{let e=await (0,b.n7)({tabIds:d.map(e=>e.id),groupId:t});null==o||o(e);let i=d.reduce((e,t)=>(e[t.id]=Object.assign({ancestralNodeIds:(0,m.f9)(t,d)},{}),e),{});if(r){let e=a&&(null==a?void 0:a.areChildrenExpanded)!==!0?(0,eb.WB)(s.store.nodesTree.nodes,a,!0):void 0;await (0,p.O)({oldNodes:e,nodesWithNewProperties:i})}else e?await e9(n,e,!0,i):await e6(n,{nodesWithNewProperties:i});return e}catch(e){te.error(e)}finally{r?s.store.chromeEventListeners.toggleAllListeners(!0):await e4(n,!0)}}}let to=(0,d.tZ)(!0,d.W4.action,[tn.name]);async function tn(e){s.store.chromeEventListeners.toggleAllListeners(!1);try{let t=e.filter(e=>(0,m.y7)(e)).reverse();for(let e=0;e<t.length;e++){let o=t[e];await (0,b.gZ)([o.id]);let n=await chrome.tabs.get(o.id),a=await chrome.tabs.query({groupId:o.groupId});if(a.length>0){let e=a[a.length-1];await (0,b.ie)([{id:o.id,index:n.index}],e.index+1,!1)}}let o=e.reduce((t,o)=>Object.assign(Object.assign({},t),{[o.id]:{ancestralNodeIds:(0,m.f9)(o,e)}}),{});await (0,p.O)({fixMissingParents:!0,nodesWithNewProperties:o})}catch(e){throw to.error(e),e}finally{s.store.chromeEventListeners.toggleAllListeners(!0)}}var ta=o(90484),tr={};tr.styleTagTransform=G(),tr.setAttributes=j(),tr.insert=z().bind(null,"head"),tr.domAPI=W(),tr.insertStyleElement=U(),M()(ta.A,tr),ta.A&&ta.A.locals&&ta.A.locals;let ti=e=>{let{color:t,style:o,size:n=24,highlight:a,onClick:r}=e,{containerSize:i,colorSize:d,borderSize:s}=(0,c.useMemo)(()=>({containerSize:{width:n,height:n},colorSize:{width:n-4,height:n-4},borderSize:{width:n-5,height:n-5}}),[n]);return(0,q.FD)("div",{className:"circle-color-container",style:Object.assign(Object.assign({},o),i),onClick:()=>null==r?void 0:r(t),children:[(0,q.Y)("div",{className:"color",style:Object.assign({backgroundColor:t},d)}),(0,q.Y)("div",{className:["border",a&&"selected"].filter(Boolean).join(" "),style:Object.assign({},s)})]})};var td=o(62576),ts=o(60624),tc=o(65640);class tl extends td.wc{constructor(){super(...arguments),this.storageKey=ts.A.DitchedTreeNodes}async save(e){let t=(0,d.tZ)(!0,d.W4.storage,[tl.name,this.save.name]);this.trimNodes(e),t.logP("Save removed tree nodes.",e),await td.jY.save(this.storageKey,e)}async add(e){var t;let o=(0,d.tZ)(!0,d.W4.state,[tl.name,this.add.name]);if(o.gP("Adding removed tree nodes to the top of the saved removed tab nodes.",{removedNodes:e}),0===e.length){o.end("No removed nodes to add."),o.ge();return}let n=e.filter(Boolean),a=null!==(t=await this.load())&&void 0!==t?t:[],r=(0,ee.J8)(a,"exclude",n,"id");o.log("Get distinct removed nodes.",{removedNodesDistinct:r}),null==r||r.unshift(...n),this.trimNodes(r),await this.saveData(r),o.logP("Save removed tree nodes.",r),o.ge()}trimNodes(e){e.length>u.Di&&e.splice(u.Di)}get defaultData(){return[]}async load(){try{return await this.loadData()}catch(e){return tc.error(e),[]}}}let tu=new tl(tl.name);var tb=o(94778);let tg=(0,d.tZ)(!0,d.W4.script,[tp.name]);async function tp(){let e=await chrome.storage.local.get();tg.logP(e)}var th=o(44264);let tm=(0,d.tZ)(!1,d.W4.script,"debug");function tv(e){return[{type:"separator"},{id:"reset-tree",label:"Reset tree",onClick:async e=>{await tu.removeData(),await h.L.removeData(),window.location.reload()}},{id:"empty-options-storage",label:"Empty Options Storage",onClick:async e=>{await tb.O.removeData(),window.location.reload()}},{id:"fix-node-missing-parents",label:"Fix node missing parents",onClick:async e=>{await (0,p.O)({fixMissingParents:!0})}},{id:"log-storage-data",label:"Log storage data",onClick:async e=>{await tp()}},{id:"log-window-data",label:"Log Window data",onClick:async e=>{let t=await chrome.windows.getCurrent();tm.logP({"window.id":t.id,window:t})}},{id:"lodash-uuid",label:"log lodash-uuid",onClick:async e=>{tm.logP({uuid:(0,eo.uniqueId)()})}},{id:"send-test-message",label:"Send Test Message",onClick:async e=>{let t=await (0,v.w)({type:"whoIsThere"});tm.logP({response:t})}},{id:"connect-port-service-worker",label:"Connect port to service Worker",onClick:async e=>{let t=await chrome.windows.getCurrent();chrome.runtime.connect({name:(0,th.f)(t,window)})}},{id:"create-new-tab",label:"Create new tab",onClick:async e=>{await tf()}}].filter(Boolean).map(e=>e)}async function tf(){a&&chrome.tabs.onCreated.removeListener(a),a=e=>{tm.logP("chrome.tabs.onCreated",{tab:e})},chrome.tabs.onCreated.addListener(a),n&&chrome.tabs.onUpdated.removeListener(n),n=(e,t,o)=>{tm.logP("chrome.tabs.onUpdated",{tabId:e,changeInfo:t,tab:o})},chrome.tabs.onUpdated.addListener(n);let e=await chrome.tabs.create({openerTabId:(await chrome.tabs.query({active:!0,currentWindow:!0}))[0].id});tm.logP("New tab created",{tab:e})}function ty(e){return[{type:"separator"},{id:"reload-nodes-tree",label:eQ("context_menu_common_reload_nodes_tree"),onClick:async e=>{window.location.reload()}},{id:"options",label:eQ("context_menu_common_options"),onClick:async e=>{await chrome.runtime.openOptionsPage()}}].filter(Boolean).map(e=>e)}async function tx(e,t,o,n){let a=await chrome.windows.getCurrent(),r=(await chrome.windows.getAll({populate:!0})).filter(e=>e.id!==a.id);return 0===r.length?{id:"move-to-new-window",label:eQ("context_menu_tab_node_move_to_new_window"),disabled:n,onClick:async e=>{t(e)}}:{id:"move-to-another-window",label:eQ("context_menu_tab_node_move_to_another_window"),items:[{id:"move-to-new-window",label:eQ("context_menu_tab_node_move_to_another_window_new_window"),onClick:async e=>{t(e)}},{type:"separator"},...r.map(e=>{let t="(Window without tabs)";if(e.tabs){let o=e.tabs.find(e=>e.active);t=en().truncate(null==o?void 0:o.title,{length:25})+" ";let n=e.tabs.length-1;1===n?t+=eQ("context_menu_tab_node_move_to_another_windows_title_and_1_other_tab"):t+=eQ("context_menu_tab_node_move_to_another_windows_title_and_n_other_tabs",n.toString())}return{id:`move-to-window-${e.id.toString()}`,label:t,onClick:async t=>{o(t,e)}}})]}}var tw=o(26549);function tk(e,t,o,n){let a=(0,d.tZ)(!1,d.W4.script,tk.name);a.gP({tabId:e});try{let a=(null==o?void 0:o.map(e=>e.id))||[];return(0,m.fc)(t).filter(e=>!a.includes(e.id)).forEach(t=>{if(t.ancestralNodeIds.includes(e)){let o=t.ancestralNodeIds.filter(t=>t!==e);n?n=Object.assign(Object.assign({},n),{[t.id]:{ancestralNodeIds:o}}):t.ancestralNodeIds=o}}),n||{}}catch(e){throw e}finally{a.ge()}}let tT=(0,d.tZ)(!0,d.W4.action,tN.name);async function tN(e){var t;let o=Array.isArray(e)?e:[e];o=o.filter(e=>!e.pinned),tT.gP("targetTabNodes:",o);try{if(0===o.length){tT.log("No target tab nodes after excluding pinned tab nodes. Do nothing.");return}let e={url:u.F1,index:o[0].index};s.store.chromeEventListeners.toggleAllListeners(!1),tT.log("Create a new branch tab node.");let n=await chrome.tabs.create(en().pick(e,"url"));if(tT.log("New branch tab node created.",n),!n.id)return;let a=null===(t=(0,m.b7)(o,e=>e.groupId!==chrome.tabGroups.TAB_GROUP_ID_NONE))||void 0===t?void 0:t.groupId;if(a&&await chrome.tabs.group({groupId:a,tabIds:n.id}),e.index){await chrome.tabs.move(n.id,{index:e.index});let t=await (0,tw.Tj)(o,async(e,t)=>({id:e.id,index:(await chrome.tabs.get(e.id)).index}));await (0,b.ie)(t,e.index+1,!1)}let r=o[0].ancestralNodeIds,i={[n.id]:{ancestralNodeIds:structuredClone(r)}};for(let e of o)i=Object.assign(Object.assign(Object.assign({},i),{[e.id]:{ancestralNodeIds:[...e.ancestralNodeIds.filter(e=>o.some(t=>t.id===e)),n.id,...structuredClone(r)],areChildrenExpanded:!0}}),tk(e.id,s.store.nodesTree.nodes,o,{}));let d={oldNodes:s.store.nodesTree.nodes,fixMissingParents:!1,nodesWithNewProperties:i};tT.log({targetTabNodes:o,buildNodesTreeArg:d}),d&&await (0,p.O)(d)}catch(e){tT.error(e)}finally{tT.ge(),s.store.chromeEventListeners.toggleAllListeners(!0)}}let tC=function(e){return e.TOP="TOP",e.BOTTOM="BOTTOM",e.MIDDLE="MIDDLE",e.LEFT="LEFT",e.RIGHT="RIGHT",e}({});DOMRect.prototype.contains=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom};let tS=(0,d.tZ)(!0,d.W4.script,"moveTabGroup");async function tA(e,t){let o=s.store.nodesTree.nodes;tS.gP({groupNode:e,toIndex:t});try{s.store.chromeEventListeners.toggleListeners(!1,Q.B.ANY);let n=t,a=(0,m.b7)(o,t=>(0,m.q8)(t)&&t.groupId===e.id);if(!a)return;a.index<t&&(n-=e.descendantNodesCount),await chrome.tabGroups.move(e.id,{index:n})}catch(e){throw tS.error(e),e}finally{s.store.chromeEventListeners.toggleListeners(!0,Q.B.ANY),tS.ge()}}let tO=(0,d.tZ)(!0,d.W4.action,tI.name);async function tI(e,t,o){tO.gP({dragTabId:e,dropNode:(0,d.mm)(t),dropPosition:o});try{let n,a,r,i,c;let l=s.store.nodesTree.nodes;tO.action("Find drag node.",{dragTabId:e,nodes:l});let u=l.find(t=>t.id===e);if(!u){tO.failure("Cannot find drag node.",{dragTabId:e,nodes:l});return}tO.success("Drag node found.",u),tO.log("Details:",{dragNode:(0,d.mm)(u),dropNode:(0,d.mm)(t),dropPosition:o});let g=[];switch(s.store.chromeEventListeners.toggleAllListeners(!1),u.nodeType){case"groupNode":switch(t.nodeType){case"groupNode":if(o===tC.TOP){if(a=t.directChildrenNodeIds[0],!(r=(0,m.zv)(a,l))){tO.failure("Unable to find first group node child tab node. Stopped.");return}n=r.index,await tA(u,n),await (0,p.O)()}else{tO.warn("Group node cannot be dropped to a group node. This should not happen because we should already block it in DragDropAreas.");return}break;case"tabNode":switch(o){case tC.TOP:n=t.index;break;case tC.BOTTOM:n=t.index+1;break;default:return}tO.log("Move group and send action.",{dragNode:(0,d.mm)(u),dragTabNodes:(0,m.Op)(g),toIndex:n}),await tA(u,n),await (0,p.O)()}break;case"tabNode":u.isSelected&&l.forEach(e=>{(0,m.q8)(e)&&e.isSelected&&!g.some(t=>t.id===e.id)&&(g.push(e),e.areChildrenExpanded||g.push(...(0,m.uW)(l,e.id,{includeAncestorNode:!1})))}),tO.action("Collect drag tab IDS.",{dragTabNodes:g});let h=g.map(e=>e.id);switch(tO.success("Drag tab IDS collected.",{dragTabIds:h}),t.nodeType){case"groupNode":switch(o){case tC.TOP:if(i=t.directChildrenNodeIds[0],!(c=(0,m.zv)(i,l)))return;n=c.index;for(let e=0;e<g.length;e++){let t=g[e];g[e].groupId!==chrome.tabGroups.TAB_GROUP_ID_NONE&&await (0,b.gZ)(t.id)}break;case tC.BOTTOM:if(i=t.directChildrenNodeIds[0],!(c=(0,m.zv)(i,l)))return;n=c.index,u.groupId!==t.id?await (0,b.n7)({groupId:t.id,tabIds:h}):await (0,b.ie)(g,n,!0);break;case tC.MIDDLE:await (0,b.n7)({groupId:t.id,tabIds:h});let v=t.directChildrenNodeIds[t.directChildrenNodeIds.length-1],f=(0,m.zv)(v,l);for(tO.log("Found group lastTabNode. Now find out its deepest child.",{lastTabNodeId:v,lastTabNode:f});f&&f.directChildrenNodeIds.length>0;)v=f.directChildrenNodeIds[f.directChildrenNodeIds.length-1],f=(0,m.zv)(v,l),tO.log("Found new lastTabNode.",{lastTabNodeId:v,lastTabNode:f});if(tO.log("Final lastTabNode:",f),!f)return;n=f.index+1}break;case"tabNode":if(u.pinned){if(!t.pinned){tO.failure("Drag tab node is pinned, but drop tab node is not. Can only drop a pinned tab node to another pinned tab node. Skit it.",{dragNode:u,dropNode:t});return}switch(o){case tC.LEFT:n=t.index;break;case tC.RIGHT:n=t.index+1;break;case tC.MIDDLE:return}}else{let e=[];switch(g.forEach(o=>{(null==o?void 0:o.groupId)!==t.groupId&&e.push(o.id)}),e.length>0&&(t.groupId===chrome.tabGroups.TAB_GROUP_ID_NONE?await (0,b.gZ)(e):await (0,b.n7)({tabIds:e,groupId:t.groupId})),o){case tC.TOP:case tC.BOTTOM:case tC.LEFT:case tC.RIGHT:o===tC.TOP?n=t.index:o===tC.BOTTOM&&(n=t.index+t.descendantNodesCount+1);break;case tC.MIDDLE:switch(s.store.options.nodesTreeSettings.dropTabNodeOntoTabNodePositionSetting){case eB.$K.LastChild:n=(0,m.rL)(t,(0,m.fc)(l));break;case eB.$K.FirstChild:n=t.index+1}}}}tO.log("Move tabs and send action.",{toIndex:n}),void 0!==n&&await (0,b.ie)(g,n,!0),await (0,p.O)({onNewTreeNodesBuiltBeforeFixMissingAncestors:e=>{!function(e,t,o,n){let a=e.find(e=>e.id===o.id),r=(0,m.fc)(e),i=r.filter(e=>t.some(t=>t.id===e.id));function d(e){e.ancestralNodeIds=e.ancestralNodeIds.filter(e=>i.some(t=>t.id===e))}switch(i.forEach(e=>{tk(e.id,r,i)}),null==a?void 0:a.nodeType){case"groupNode":i.forEach(e=>{d(e),0===e.ancestralNodeIds.length&&a.areChildrenExpanded!==e.isExpanded&&(e.isExpanded=a.areChildrenExpanded)});break;case"tabNode":switch(n){case tC.TOP:case tC.BOTTOM:i.forEach(e=>{d(e),(0,m.UW)(a,e)?e.ancestralNodeIds=[...e.ancestralNodeIds,...a.ancestralNodeIds.filter(t=>t!==e.id)]:e.ancestralNodeIds=[...e.ancestralNodeIds,...a.ancestralNodeIds]});break;case tC.MIDDLE:i.forEach(e=>{d(e),a.ancestralNodeIds.includes(e.id)?e.ancestralNodeIds=[...e.ancestralNodeIds,o.id,...a.ancestralNodeIds.filter(t=>t!==e.id)]:e.ancestralNodeIds=[...e.ancestralNodeIds,o.id,...a.ancestralNodeIds],e.ancestralNodeIds[0]===a.id&&a.areChildrenExpanded!==e.isExpanded&&(e.isExpanded=a.areChildrenExpanded)})}}}(e,g,t,o)}})}}catch(e){throw tO.error(e),e}finally{s.store.chromeEventListeners.toggleAllListeners(!0),tO.ge()}}var tP=o(84590),t_=o(83246);async function tE(e){try{await e()}catch(e){s.store.message.setMessageState({type:"error",content:e})}}async function tL(e,t){await (0,v.w)(e,t)}var tD=o(98543),tM=o(2530);let tB={color:"#d46b4a",backgroundColor:"#fff7e6",borderColor:"#ffd591"},tW=function(e){let{entitlement:t,tooltipText:o}=e;return(0,q.Y)(q.FK,{children:o?(0,q.FD)(eI.A,{title:o((0,q.Y)(tz,{entitlement:t})),children:[" ",(0,q.Y)(tY,Object.assign(Object.assign({},e),{className:"cursor-default"}))]}):(0,q.Y)(tY,Object.assign({},e))})};function tY(e){let{entitlement:t,style:o,className:n,size:a="medium"}=e,r=t===tP.h.PRO?tB:void 0;return(0,q.Y)(tD.A,{className:(0,S.A)({"text-[0.7rem] leading-[0.5rem] p-1":"small"===a,"text-[1.3rem] p-1":"large"===a},n),style:Object.assign(Object.assign({},o),r),children:t})}function tz(e){return(0,q.Y)("a",{rel:"noreferrer",target:"_blank",className:"append-open-new-window-icon text-white",href:tM.A.webSitePurchaseProLicense,children:e.entitlement})}function tF(e){return(0,q.Y)(tW,Object.assign({entitlement:tP.h.PRO},e))}async function tj(e,t,o){return{data:o,menuItems:o?o.isSelected?await tU(o,t):await tR(o):[],anchor:{type:"xy",posX:e.clientX,posY:e.clientY}}}async function tR(e){var t;let o=await chrome.windows.getCurrent();(await chrome.windows.getAll({populate:!0})).filter(e=>e.id!==o.id);let n=s.store.licenseCache.isValidProEntitlement?void 0:(0,q.Y)(tF,{}),a=[{id:"create-a-new-tab-at-same-level",label:eQ("context_tab_node_menu_create_new_tab_at_same_level"),onClick:async e=>{await (0,eD.S)(u.ru,e_.z2.SameLevelSibling,e)}},{id:"create-a-new-tab-as-a-child",label:eQ("context_menu_tab_node_create_new_tab_as_child"),onClick:async e=>{await (0,eD.S)(u.ru,e_.z2.AsFirstChild,e)}},{id:"create-a-new-branch-at-the-same-level",label:eQ("context_menu_tab_node_create_branch_at_same_level"),tailingComponent:n,onClick:(0,t_.MA)(tP.h.PRO,async e=>{await (0,eD.S)(u.F1,e_.z2.SameLevelSibling,e)})},{id:"create-a-new-branch-as-a-child",label:eQ("context_menu_tab_node_create_branch_as_a_child"),tailingComponent:n,onClick:(0,t_.MA)(tP.h.PRO,async e=>{await (0,eD.S)(u.F1,e_.z2.AsFirstChild,e)})},{type:"separator"},{id:"reload",label:eQ("context_menu_tab_node_reload"),onClick:async e=>{await tE(async()=>{await chrome.tabs.reload(e.id)})}},{id:"duplicate",label:eQ("context_menu_tab_node_duplicate"),onClick:async e=>{await e1([e.id])}},{id:"pin-unpin",label:eQ(e.pinned?"context_menu_tab_node_unpin":"context_menu_tab_node_pin"),onClick:async e=>{await e2([e],!e.pinned)}},{id:"mute-unmute",label:eQ((null===(t=e.mutedInfo)||void 0===t?void 0:t.muted)?"context_menu_tab_node_unmute_site":"context_menu_tab_node_mute_site"),onClick:async e=>{await (0,b.hK)(e)}},{type:"separator"},{id:"add-to-group",label:eQ("context_menu_tab_node_add_to_group"),items:tG(e,[e])},(0,m.y7)(e)&&{id:"remove-from-group",label:eQ("context_menu_tab_node_remove_from_group"),onClick:async e=>{try{await tn([e])}catch(e){s.store.message.setMessageState({type:"error",content:e})}}},!e.pinned&&{id:"add-to-branch",label:eQ("context_menu_tab_node_add_to_branch"),tailingComponent:n,items:t$(e,[e]),onClick:(0,t_.MA)(tP.h.PRO,async e=>{})},await tx(e,async e=>{await tL({type:"moveTreeNodes",groupNodeOrTabNodes:[e],fromWindow:await (0,b.Yc)()})},async(e,t)=>{await tL({type:"moveTreeNodes",groupNodeOrTabNodes:[e],fromWindow:await (0,b.Yc)(),toWindow:t})})];return a.push(...ty(e)),s.store.options.developerSettings.showDevelopItemsOnNodesTreeContextMenu&&a.push(...tv(e)),a.filter(Boolean).map(e=>e)}async function tU(e,t){var o;let n=eK(t),a=n.filter(e=>!e.pinned),r=n.every(e=>e.pinned),i=n.some(e=>e.groupId!==chrome.tabGroups.TAB_GROUP_ID_NONE),d=n.filter(e=>e.groupId!==chrome.tabGroups.TAB_GROUP_ID_NONE).some(e=>n.some(t=>e.id!==t.id&&e.groupId!==t.groupId)),c=s.store.licenseCache.isValidProEntitlement?void 0:(0,q.Y)(tF,{});return[{id:"reload",label:eQ("context_menu_tab_node_reload"),onClick:async e=>{await tE(async()=>{for(let e of n)await chrome.tabs.reload(e.id)})}},{id:"duplicate",label:eQ("context_menu_tab_node_duplicate"),onClick:async e=>{await e1(n.map(e=>e.id))}},{id:"pin-unpin",label:eQ(r?"context_menu_tab_node_unpin":"context_menu_tab_node_pin"),onClick:async e=>{await e2(r?n.reverse():n,!r)}},{id:"mute-unmute",label:eQ((null===(o=e.mutedInfo)||void 0===o?void 0:o.muted)?"context_menu_tab_node_unmute_site":"context_menu_tab_node_mute_site"),onClick:async e=>{var t;let o=null===(t=e.mutedInfo)||void 0===t?void 0:t.muted;n.forEach(e=>{(0,b.zi)(e,void 0===o||!o)})}},...function(e,t,o,n,a,r){let i=[{id:"add-to-group",label:eQ("context_menu_tab_node_add_to_group"),items:tG(e,t)},n&&{id:"remove-from-group",label:eQ("context_menu_tab_node_remove_from_group"),onClick:async e=>{try{await tn(t)}catch(e){s.store.message.setMessageState({type:"error",content:e})}}},!a&&o.length>0&&{id:"add-to-branch",label:eQ("context_menu_tab_node_add_to_branch"),tailingComponent:r,items:t$(e,t),onClick:(0,t_.MA)(tP.h.PRO,async e=>{})}].filter(Boolean).map(e=>e);return i.length>0&&i.unshift({type:"separator"}),i}(e,n,a,i,d,c),await tx(e,async e=>{await tL({type:"moveTreeNodes",groupNodeOrTabNodes:n,fromWindow:await (0,b.Yc)()})},async(e,t)=>{await tL({type:"moveTreeNodes",groupNodeOrTabNodes:n,fromWindow:await (0,b.Yc)(),toWindow:t})})].filter(Boolean).map(e=>e)}function t$(e,t){return()=>{if(!s.store.licenseCache.isValidProEntitlement)return[];let e=(0,m.Dw)(s.store.nodesTree.nodes);return[{id:"add-to-new-branch",label:eQ("context_menu_tab_node_add_to_branch_new_branch"),onClick:async e=>{await tN(t)}},e.length>0&&{type:"separator"},...e.map(e=>({id:e.id.toString(),label:e.title&&e.title.length>0?e.title:"(No title)",leadingComponent:e.favIconUrl?(0,q.Y)("img",{src:e.favIconUrl,alt:e.title}):void 0,onClick:async t=>{try{await tI(t.id,e,tC.MIDDLE)}catch(e){s.store.message.setMessageState({type:"error",content:e})}}}))].filter(Boolean).map(e=>e)}}function tG(e,t){return async()=>{let o=await chrome.tabGroups.query({});return o=o.filter(t=>t.id!==e.groupId),[{id:"add-to-new-group",label:eQ("context_menu_tab_node_add_to_group_new_group"),onClick:async e=>{s.store.dialogs.setGroupNodeConfigDialogState({mode:"create",tabNodes:t})}},o.length>0&&{type:"separator"},...o.map(e=>({id:e.id.toString(),leadingComponent:(0,q.Y)(ti,{size:18,color:u.vJ[e.color].color}),label:e.title&&e.title.length>0?e.title:"(No title)",onClick:async o=>{await tt(t,e.id)}}))].filter(Boolean).map(e=>e)}}(0,d.tZ)(!1,d.W4.script,tU.name);var tZ=o(65640);async function tH(e,t){s.store.chromeEventListeners.toggleAllListeners(!1);try{let o=s.store.nodesTree.nodes,n=null!=t?t:(0,m.en)(o,t=>t.groupId===e).map(e=>e.id);await (0,b.gZ)(n),await (0,p.O)()}catch(e){tZ.error(e)}finally{s.store.chromeEventListeners.toggleAllListeners(!0)}}async function tq(e){let t=(0,m.J9)(s.store.nodesTree.nodes,e.id);s.store.dialogs.setDialogState({type:"confirm",title:eQ("confirm_dialog_close_group_title"),content:(0,q.FD)("div",{children:[eQ("confirm_dialog_close_group_message1"),' "',e.title,'"?',(0,q.Y)("br",{}),eQ(1===t.length?"confirm_dialog_close_group_message2_single_tab":"confirm_dialog_close_group_message2_multiple_tabs",t.length.toString())]}),positiveButton:{onClick:async()=>{await eR(t)}}})}async function tK(e,t){return{data:t,menuItems:await tV(t),anchor:{type:"xy",posX:e.clientX,posY:e.clientY}}}async function tV(e){let t=1===(await chrome.tabGroups.query({windowId:(await chrome.windows.getCurrent()).id})).length,o=[{id:"edit-group",label:eQ("context_menu_group_node_edit_group"),onClick:async e=>{s.store.dialogs.setGroupNodeConfigDialogState({mode:"edit",groupNode:e})}},{id:"ungroup",label:eQ("context_menu_group_node_ungroup"),onClick:async e=>{await tH(e.id)}},{id:"close-group",label:eQ("context_menu_group_node_close_group"),onClick:async e=>{await tq(e)}},await tx(e,async e=>{await tL({type:"moveTreeNodes",groupNodeOrTabNodes:e,fromWindow:await (0,b.Yc)()})},async(e,t)=>{await tL({type:"moveTreeNodes",groupNodeOrTabNodes:e,fromWindow:await (0,b.Yc)(),toWindow:t})},t)];return o.push(...ty(e)),s.store.options.developerSettings.showDevelopItemsOnNodesTreeContextMenu&&o.push(...tv(e)),o.filter(Boolean).map(e=>e)}async function tJ(e,t){let o=s.store.nodesTree.nodes;switch(o.find(e=>"tabNode"===e.nodeType&&e.isSelected)&&("tabNode"===t.nodeType&&!t.isSelected||"groupNode"===t.nodeType)&&eq(),t.nodeType){case"tabNode":let n=await tj(e,o,t);s.store.popupMenu.popupMenu&&await s.store.popupMenu.setPopupMenu(void 0),await s.store.popupMenu.setPopupMenu(n);break;case"groupNode":let a=await tK(e,t);s.store.popupMenu.popupMenu&&await s.store.popupMenu.setPopupMenu(void 0),await s.store.popupMenu.setPopupMenu(a)}}var tX=o(90005);function tQ(e,t){return t.map(t=>(function(e,t){if((0,m.q8)(t)){let o;if(t.id===e?o=Object.assign(Object.assign({},t),{active:!0,isRead:!0,isSelected:!1}):(t.active||t.isSelected)&&(o=Object.assign(Object.assign({},t),{active:!1,isSelected:!1})),o)return o}return t})(e,t))}(0,d.tZ)(!0,d.W4.script,[tQ.name]);let t0=(0,d.tZ)(!0,d.W4.action,t1.name);async function t1(e,t=s.store.nodesTree.nodes,o=!0){let n=await chrome.tabs.get(e);t0.gP({tab:(0,d.mm)(n),treeNodes:(0,m.Op)(t),updateStore:o}),s.store.chromeEventListeners.toggleAllListeners(!1);try{t0.log("Activate tab.",{tabId:e}),await (0,b.Nz)(e),t0.log("Update tab node to be active, mark isReady, clean up selected status.",{tabId:e}),t=tQ(e,t),s.store.nodesTree.selectionStartTabId&&(t0.log("Clear selected tab node."),s.store.nodesTree.setSelectionStartTabId(void 0)),o&&s.store.nodesTree.setNodes(t)}catch(e){t0.error(e)}finally{s.store.chromeEventListeners.toggleAllListeners(!0),t0.ge()}return t}let t5=(0,d.tZ)(!0,d.W4.action,t2.name);function t2(e,t){t5.logP({clickedTabNode:t});let o=function(e,t,o,n){let a;a=t?e.find(e=>(0,m.q8)(e)&&e.id===t):e.find(e=>(0,m.q8)(e)&&e.active);let r=n.index<a.index;return e.map(e=>{let t;return(0,m.q8)(e)&&((0,ee.mt)(o)||o.shiftKey)&&(t=Object.assign({},e),(0,ee.mt)(o)?e.id===n.id&&(t.isSelected=!t.isSelected):o.shiftKey&&(r&&e.index>=n.index&&e.index<=a.index||!r&&e.index<=n.index&&e.index>=a.index?t.isSelected=!0:t.isSelected=!1)),null!=t?t:e})}(s.store.nodesTree.nodes,s.store.nodesTree.selectionStartTabId,e,t);(0,ee.mt)(e)&&s.store.nodesTree.setSelectionStartTabId(t.id),s.store.nodesTree.setNodes(o)}let t3=e=>{let{className:t}=e;return(0,q.Y)("div",{className:[t,"underneath-background"].join(" ")})};function t4(e){let{className:t}=e;return(0,q.Y)("div",{className:(0,S.A)(t,"node-content-border")})}var t8={name:"8rhq2q",styles:"z-index:1000;box-sizing:border-box"};let t6=(0,c.forwardRef)(({node:e,dragDropPosition:t,style:o,onNodeDragEnter:n,onNodeDragLeave:a,onNodeDrop:r},i)=>{var s;let c=(0,d.tZ)(!!((0,m.q8)(e)&&(null===(s=e.url)||void 0===s?void 0:s.includes("branch-tab-node.html?title=AAA"))),d.W4.reactComponent,"DragDropArea");c.logP({ref:i});let l=t=>{var o;null===(o=document.querySelector(`${(0,m.wX)(e)}`))||void 0===o||o.classList.add(`drag-over-${t.toLowerCase()}`)},b=t=>{var o;null===(o=document.querySelector(`${(0,m.wX)(e)}`))||void 0===o||o.classList.remove(`drag-over-${t.toLowerCase()}`)};return(0,q.Y)("div",{ref:i,className:["node-drag-drop-area"].filter(Boolean).join(" "),style:o,css:t8,onDragEnter:e=>{e.preventDefault(),n(t),l(t)},onDragOver:e=>{e.preventDefault()},onDragLeave:e=>{e.preventDefault(),a(t),b(t)},onDrop:async o=>{for(let e in r(t),tC)b(e);let n=o.dataTransfer.getData(u.We.dragNodeId);if(!n){c.error("no dragNodeId");return}let a=parseInt(n);await tE(()=>tI(a,e,t))}})}),t7=(tC.MIDDLE,e=>{let t="";switch(e){case tC.TOP:t="top";break;case tC.BOTTOM:t="bottom";break;case tC.LEFT:t="left";break;case tC.RIGHT:t="right";break;case tC.MIDDLE:t="middle"}return`active-${t}`});function t9(e,t){return Object.assign(Object.assign({},e),t)}let oe=(0,c.memo)(function e(t){let{node:o,dragDropAreaWidth:n,dragDropAreaHeight:a,containerStyle:r}=t,l=(0,i.U)(o.title.includes("DebugBear"),d.W4.reactComponent,e.name),u=s.store.nodesTree.useDraggingNode(),b=(0,m.mI)(o),g=(0,m.q8)(o),p=(0,m.mI)(u),h=(0,m.q8)(u),[v,f]=(0,c.useReducer)(t9,{});l.gP(Object.assign(Object.assign({dragOverPosition:v},t),{draggingNode:u}));let y={[tC.LEFT]:1,[tC.RIGHT]:1},x={[tC.TOP]:1,[tC.MIDDLE]:2,[tC.BOTTOM]:1},w={};if(!u)return l.ge(),null;if(u.id===o.id||(h&&!u.pinned||p)&&g&&o.pinned||p&&g&&o.pinned||h&&u.pinned&&(!g||g&&!o.pinned)||g&&o.isSelected)return null;if(p){if(b&&(w={[tC.TOP]:1}),g){if((0,m.y7)(o)||0!==(0,m.gJ)(o))return null;w=0===(0,m.gJ)(o)&&0!==o.directChildrenNodeIds.length?{[tC.TOP]:1}:{[tC.TOP]:1,[tC.BOTTOM]:1}}}else h&&(w=g&&o.pinned?y:x);if(!w)return l.ge(),null;let k=Object.entries(w).reduce((e,[t,o])=>e+=o,0),T=[];for(let e in v)if(v[e]){T=[...T,t7(e)];break}let N=["node-drag-drop-area-boundary",...T].filter(Boolean).join(" ");return l.ge(),(0,q.FD)("div",{style:r,children:[(0,q.Y)("div",{className:N}),Object.entries(w).map(([e,t])=>{var r,i,d,s;let c={};switch(e){case tC.TOP:c=Object.assign(Object.assign({height:a/k*t+"px",width:"100%"},void 0),{top:0});break;case tC.BOTTOM:c=Object.assign({height:a/k*t+"px",width:"100%",bottom:0},void 0);break;case tC.LEFT:c=Object.assign(Object.assign({height:"100%",width:n/k*t+"px"},void 0),{top:0});break;case tC.RIGHT:c=Object.assign(Object.assign({height:"100%",width:n/k*t+"px",right:0},void 0),{top:0});break;case tC.MIDDLE:c=Object.assign({height:a/k*t+"px",top:a/k*(null!==(r=w[tC.TOP])&&void 0!==r?r:0)+"px",bottom:a/k*(null!==(i=w[tC.BOTTOM])&&void 0!==i?i:0)+"px",left:n/k*(null!==(d=w[tC.LEFT])&&void 0!==d?d:0)+"px",right:n/k*(null!==(s=w[tC.RIGHT])&&void 0!==s?s:0)+"px"},{})}return(0,q.Y)(t6,{node:o,dragDropPosition:e,style:Object.assign(Object.assign({},c),{position:"absolute"}),onNodeDragEnter:e=>{f({[e]:!0})},onNodeDragLeave:e=>{f({[e]:!1})},onNodeDrop:e=>{f({[e]:!1})}},e)})]})});function ot(e){switch(e){case eL.A.None:return"None";case eL.A.Shift:return"Shift";case eL.A.WinLinuxCtrlOrMacCmd:return(0,ee.cX)()?"Cmd":"Ctrl";case eL.A.WinLinuxCtrlOrMacCmd_Shift:return((0,ee.cX)()?"Cmd":"Ctrl")+" + Shift";case eL.A.Alt:return"Alt";case eL.A.ALT_Shift:return"Alt + Shift";case eL.A.WinLinuxCtrlOrMacCmd_Alt:return((0,ee.cX)()?"Cmd":"Ctrl")+" + Alt";case eL.A.WinLinuxCtrlOrMacCmd_ALT_Shift:return((0,ee.cX)()?"Cmd":"Ctrl")+" + Alt + Shift"}}let oo="enter-transition",on="exit-transition",oa=(0,c.memo)(function e(t){var o,n,a,r,l;let{tabNode:g,transitionStyle:p,shouldShowContent:h}=t,v=(0,i.U)(858618918===g.id,d.W4.reactComponent,[e.name,g.id.toString(),null!==(o=g.pendingUrl)&&void 0!==o?o:"",null!==(n=g.url)&&void 0!==n?n:""]),[f,{height:y,width:w}]=(0,tX.A)(),k=(0,c.useRef)(),T=s.store.options.useDeveloperSettings(),N=s.store.options.nodesTreeSettings.useMiddleClickCloseTabNodeSetting(),C=s.store.options.nodesTreeSettings.subtreeSettings.useExpandCollapseClickActionSettings(),A=s.store.options.nodesTreeSettings.branchTabNodeSettings.useCreateNewTabNodeButtonPositionModifierKeysMappings(),O=(0,eN.y)(g,"text",v),[P,_]=(0,c.useState)([]);async function E(){await (0,b.hK)(g)}(0,c.useEffect)(()=>{var e;let t=Object.assign(Object.assign({},g),{title:null!==(e=g.title)&&void 0!==e?e:g.pendingUrl});t.title&&!P.some(e=>e.title===t.title)&&(v.logPT("useEffect",`Title '${t.title}' does not exist, add to tab node transition list.`,{tabNodeList:P,"ensureTitleTabNode.title":t.title,ensureTitleTabNode:t,logger:v}),_([t]))},[P,g,v]);let L=(0,c.useCallback)(()=>{let e=(0,m.Cy)(g),t=null==e?void 0:e.querySelector(".tab-title");e&&t&&t.parentElement&&(parseFloat(window.getComputedStyle(t).width)===parseFloat(window.getComputedStyle(t.parentElement).width)?e.setAttribute("title",g.title+(T.showTabIdUponHoveringTabNode?` (${g.id})`:"")):T.showTabIdUponHoveringTabNode?e.setAttribute("title",g.id.toString()):e.removeAttribute("title"))},[T.showTabIdUponHoveringTabNode,g]),D=(0,c.useCallback)(async e=>{let t=eM(e,e=>{var t;let o=null===(t=Object.entries(A).find(([t,o])=>o===e))||void 0===t?void 0:t[0];return o===e_.yp.AsFirstChild?e_.z2.AsFirstChild:o===e_.yp.AsLastChild?e_.z2.AsLastChild:void 0});t&&await (0,eD.S)(u.ru,t,g)},[A,g]),M=(0,c.useCallback)(e=>{0!==g.descendantNodesCount&&C&&C.enabled&&C.clickAction===e&&ep(g)},[C,g]),B=(0,c.useCallback)(async e=>{e.target===k.current&&((0,ee.mt)(e)||e.shiftKey?t2(e,g):g.active?M(eL.C.Single):await t1(g.id))},[M,g]),W=(0,c.useCallback)(e=>{M(eL.C.Double)},[M]),{offsetTop:Y,offsetLeft:z}=null!==(a=k.current)&&void 0!==a?a:{offsetTop:0,offsetLeft:0},F=(0,c.useMemo)(()=>({position:"absolute",width:w,height:y,left:z,top:Y}),[y,z,Y,w]);return(v.renderP({tabNodeList:structuredClone(P),tabNode:structuredClone(g),"tabNode.title":g.title,"tabNode.status":g.status,opacity:O}),!1!==h||(null===(l=null===(r=k.current)||void 0===r?void 0:r.dataset)||void 0===l?void 0:l[eV.NodeContentSelectedDragging.key]))?(0,q.FD)(q.FK,{children:[(0,q.FD)(X.CS.div,{ref:e=>{el(f,k)(e),L()},style:Object.assign({},p),className:(0,S.A)("node-content","tab-node-content",`level-${(0,m.gJ)(g)}`,{pinned:g.pinned,active:g.active,selected:g.isSelected,unloaded:"unloaded"===g.status,unread:!g.isRead&&"unloaded"!==g.status,"cursor-pointer":g.active&&g.descendantNodesCount>0&&C.enabled&&C.clickAction===eL.C.Single}),onMouseUp:async e=>{N&&1===e.button&&(0,m.q8)(g)&&await eZ(e,g),e.stopPropagation()},onClick:async e=>{v.logPT("onClick",{title:g.title,target:e.target,rootRef:k.current}),e.target===k.current&&await B(e)},onDoubleClick:W,draggable:!0,onDragStart:async e=>{eJ(e,g)},onDragEnd:async e=>{eX(e,g)},onContextMenu:async e=>{e.preventDefault(),e.stopPropagation(),await tJ(e,g)},children:[(0,q.Y)(t3,{className:"node-content-artificial-background"}),(0,q.Y)(t3,{className:"node-content-artificial-background-active"}),(0,q.Y)(t3,{className:"node-content-artificial-background-active-hover"}),(0,q.Y)(t3,{className:"node-content-artificial-background-selected"}),(0,q.Y)(t3,{className:"node-content-artificial-background-selected-hover"}),(0,q.Y)(t4,{}),g.pinned?(0,q.FD)(q.FK,{children:[T.showNodeIndex&&(0,q.FD)("div",{className:(0,S.A)("tab-index pinned"),children:["(",g.index,")"]}),(0,q.Y)(eu.b,{tabNode:g})]}):(0,q.FD)(q.FK,{children:[(0,q.Y)(ev,{node:g,themeable:!0}),(0,q.Y)(eu.b,{tabNode:g}),T.showNodeIndex&&(0,q.FD)("div",{className:"tab-index",children:["(",g.index,")"]}),(0,q.Y)("div",{className:(0,S.A)("tab-title-container"),children:(0,q.Y)(x.N,{onExitComplete:()=>{},children:P.map((e,t,o)=>{var n,a;let r="tab-title-transition-"+(0,eC.Ak)();return(0,q.Y)(I.P.div,{className:(0,S.A)("tab-title",oo),id:r,initial:{opacity:0},animate:{opacity:O},exit:{opacity:0},transition:{duration:u.TX},onAnimationStart:t=>{var o;let n=document.getElementById(r);n&&"object"==typeof t&&"opacity"in t&&(0===t.opacity||n.classList.contains(oo)||n.classList.add(oo),0!==t.opacity||n.classList.contains(on)||n.classList.add(on)),v.logPT("onAnimationStart",{title:e.title,id:r,definition:t,"elem.classList":Array.from(null!==(o=null==n?void 0:n.classList)&&void 0!==o?o:[])})},onAnimationComplete:t=>{var o;let n=document.getElementById(r);n&&"object"==typeof t&&"opacity"in t&&(0!==t.opacity&&n.classList.contains(oo)&&n.classList.remove(oo),0===t.opacity&&n.classList.contains(on)),v.logPT("onAnimationComplete",{title:e.title,id:r,definition:t,"elem.classList":Array.from(null!==(o=null==n?void 0:n.classList)&&void 0!==o?o:[])})},children:null!==(n=e.title)&&void 0!==n?n:e.pendingUrl},null!==(a=e.title)&&void 0!==a?a:e.pendingUrl)})})}),(0,q.Y)(eS,{node:g}),(0,m.mc)(g)&&(0,q.Y)(eP,{tooltip:(0,q.FD)(q.FK,{children:["New tab positions with modifier keys:",(0,q.Y)("ul",{className:"list-disc ml-4",children:[e_.yp.AsFirstChild,e_.yp.AsLastChild].map((e,t)=>(0,q.FD)("li",{className:"ml-2",children:[eE[e],": ",ot(A[e])]},e))})]}),onClick:D}),(0,q.Y)(ex,{themeable:!0,onClick:e=>eZ(e,g)}),g.audible&&g.mutedInfo?(0,q.Y)(eT,{muted:g.mutedInfo.muted,themeable:!0,onClick:E}):null]})]}),(0,q.Y)(oe,{node:g,containerStyle:F,dragDropAreaWidth:w,dragDropAreaHeight:y})]}):null},function(e,t){let o=e.tabNode,n=t.tabNode,a=(0,m.q8)(n)&&(0,b.mR)(n,"https://www.reddit.com/r/ICPTrader"),r=(0,d.tZ)(a&&!0,d.W4.reactComponent,["TabNodeView.propsAreEqual",n.title,n.uuid]),i=(0,ee.r$)(e,t,{logTags:["TabNodeView.propsAreEqual",n.title,n.uuid],ifPrint:a,ifPrintComparingDetails:!1});return i||r.logP({prevNode:o,nextNode:n,areEqual:i}),i});async function or(e,t){let o={data:t,menuItems:[{id:"ungroup",label:eQ("group_node_more_menu_ungroup"),onClick:async e=>{await tH(e.id)}},{id:"close-group",label:eQ("group_node_more_menu_close_group"),onClick:async e=>{await tq(e)}}].filter(Boolean).map(e=>e),anchor:{type:"domRect",domRect:e.getBoundingClientRect(),anchorPosition:ee.RV.LeftTop}};s.store.popupMenu.popupMenu&&await s.store.popupMenu.setPopupMenu(void 0),await s.store.popupMenu.setPopupMenu(o)}let oi={AsFirstChild:"As first child",AsLastChild:"As last child"},od=(0,c.memo)(function e(t){var o;let n=(0,i.U)(!0,d.W4.reactComponent,[e.name]),{groupNode:a,shouldShowContent:r}=t,l=s.store.options.nodesTreeSettings.groupNodeSettings.useCreateNewTabNodeButtonPositionModifierKeysMappings(),b=s.store.options.nodesTreeSettings.groupNodeSettings.useExpandCollapseClickActionSettings(),g=s.store.nodesTree.useDraggingNode(),[p,{height:h,width:v}]=(0,tX.A)(),f=(0,c.useRef)(),y=u.vJ[a.color],x={backgroundColor:y.color,color:y.textColor},w=(0,c.useCallback)(()=>{let e=(0,m.Cy)(a),t=null==e?void 0:e.querySelector(".group-title");e&&t&&t.parentElement&&(parseFloat(window.getComputedStyle(t).width)===parseFloat(window.getComputedStyle(t.parentElement).width)?e.setAttribute("title",a.title):e.removeAttribute("title"))},[a]),k=(0,c.useCallback)(async e=>{let t=eM(e,e=>{var t;let o=null===(t=Object.entries(l).find(([,t])=>t===e))||void 0===t?void 0:t[0];return o===e_.yp.AsFirstChild?e_.z2.AsFirstChild:o===e_.yp.AsLastChild?e_.z2.AsLastChild:void 0});t&&await (0,eD.S)(u.ru,t,a)},[l,a]),T=(0,c.useCallback)(e=>{b&&b.enabled&&b.clickAction===e&&ep(a)},[b,a]),N=(0,c.useCallback)(async e=>{n.logPT("handleClick",{title:a.title,target:e.target,rootRef:f.current}),e.target===f.current&&T(eL.C.Single)},[T,n,a]),C=(0,c.useCallback)(e=>{T(eL.C.Double)},[T]),{offsetTop:A,offsetLeft:O}=null!==(o=f.current)&&void 0!==o?o:{offsetTop:0,offsetLeft:0};return r||a.id===(null==g?void 0:g.id)?(0,q.FD)(q.FK,{children:[(0,q.FD)(X.CS.div,{ref:e=>{el(p,f)(e),w()},style:Object.assign({},x),className:(0,S.A)("node-content","group-node-content",{"cursor-pointer":b.enabled&&b.clickAction===eL.C.Single}),onClick:async e=>{n.logPT("onClick",{title:a.title,target:e.target,rootRef:f.current}),e.target===f.current&&await N(e)},onDoubleClick:C,draggable:!0,onDragStart:async e=>{eJ(e,a)},onDragEnd:async e=>{eX(e,a)},onContextMenu:async e=>{e.preventDefault(),e.stopPropagation(),await tJ(e,a)},children:[(0,q.Y)(ev,{node:a}),(0,q.Y)("img",{className:"group-icon",src:a.icon,alt:""}),(0,q.Y)("div",{className:"group-title",children:a.title}),(0,q.Y)(eS,{node:a}),(0,q.Y)(eP,{tooltip:(0,q.FD)(q.FK,{children:["New tab positions with modifier keys:",(0,q.Y)("ul",{className:"list-disc ml-4",children:[e_.i3.AsFirstChild,e_.i3.AsLastChild].map((e,t)=>(0,q.FD)("li",{className:"ml-2",children:[oi[e],": ",ot(l[e])]},e))})]}),onClick:k}),(0,q.Y)(ex,{onClick:async e=>{e.stopPropagation(),await or(e.target,a)}})]}),(0,q.Y)(oe,{node:a,containerStyle:{position:"absolute",width:v,height:h,left:O,top:A},dragDropAreaWidth:v,dragDropAreaHeight:h})]}):null});var os={name:"zwy39f",styles:"display:flex;flex-direction:row;position:relative;overflow:hidden"},oc={name:"ozd7xs",styles:"flex-shrink:0"};let ol=(0,c.memo)(function e(t){var o,n,a,r,l,u,b,g;let{node:p,treeNodeIndex:h,transitionState:v,enterExistTransitionStyle:f}=t,y=(0,m.q8)(p),x=(0,m.mI)(p),w=(0,i.U)(y&&858618918===p.id,d.W4.reactComponent,[e.name,p.title]),k=s.store.nodesTree.useGroupNode(y?p.groupId:void 0),T=s.store.options.nodesTreeSettings.usePerformanceSettings(w.ifPrint),N=(0,c.useRef)(null),{ref:C,inView:A,entry:O}=(0,et.Wx)({root:document.getElementById("tab-nodes-container"),initialInView:!1,rootMargin:`${T.offscreenExtendedPercentage}% 0px ${T.offscreenExtendedPercentage}% 0px`}),[I,P]=(0,c.useState)(A),_=s.store.nodesTree.useTreeFinishedInitialTransition(),E=s.store.nodesTree.useStyles();(0,c.useEffect)(()=>{let e;return A?P(!0):e=setTimeout(()=>{P(!1),e=void 0},1e3*T.hideTabNodeContentDeferredSeconds),w.logPT("useEffect[inView]",{inView:A,timerId:e}),()=>{w.logPT("useEffect[inView] cleanup",{inView:A,timerId:e}),e&&clearTimeout(e)}},[p.isExpanded,A,w,T.hideTabNodeContentDeferredSeconds]);let{nodeContainerStyle:L,tabNodeContentStyle:D,groupNodeContentStyle:M,nodeGapStyle:B,bottomNodeGapStyle:W,bottomGroupBorderStyle:Y}=function(e,t,o,n,a,r,i){var l;let u,b,g;let p=(0,m.q8)(r);u=(0,m.mI)(r)||p&&(r.isFirstTabNodeInGroup||r.isFirstTabNodeAfterGroup||r.isFirstNonPinnedTabNodeInTree&&0!==e.tabNodeStyles.nodesGap)?0:p&&r.isFirstNonPinnedTabNodeInTree&&0===e.tabNodeStyles.nodesGap?-1*e.essentialConstructTreeStyles.pinnedTabNodeBorderWidth:e.tabNodeStyles.expandedMarginTop;let h=function(e,t,o,n,a,r){let i=(0,c.useRef)(!1);return(0,X.zh)({immediate:(!a.isExpanded||!o)&&!a.isExpandingOrCollapsing,from:{marginTop:0,opacity:0},to:{marginTop:a.isExpanded?t:e,opacity:o&&a.isExpanded?1:0},onStart:()=>{},onRest:()=>{a.isExpandingOrCollapsing&&function(e){let t=s.store.nodesTree.nodes.map(t=>t.id===e.id?Object.assign(Object.assign({},t),{isExpandingOrCollapsing:!1}):t);s.store.nodesTree.setNodes(t)}(a),(0,m.q8)(a)&&a.groupId!==chrome.tabGroups.TAB_GROUP_ID_NONE&&0===a.indexInGroup&&!i.current&&(async()=>{let e=await chrome.tabGroups.get(a.groupId),t=s.store.nodesTree.nodes.find(e=>(0,m.mI)(e)&&e.id===a.groupId);if(e&&t&&!t.areChildrenExpanded!==e.collapsed){r.logP("Chrome tab group collapsed state is different with node group collapsed state.",{chromeTabGroup:(0,d.mm)(e),groupNode:(0,d.mm)(t),chromeTabGroupCollapsed:e.collapsed,groupNodeCollapsed:!t.areChildrenExpanded}),i.current=!0;try{s.store.chromeEventListeners.toggleListeners(!1,Q.B.TAB_GROUP_UPDATED),await chrome.tabGroups.update(e.id,{collapsed:!t.areChildrenExpanded})}catch(e){r.errorP("Failed to update Chrome tab group collapsed state.",e)}finally{i.current=!1,s.store.chromeEventListeners.toggleListeners(!0,Q.B.TAB_GROUP_UPDATED)}}})()}})}(e.tabNodeStyles.collapsedMarginTop,u,t,0,r,i),v=(l=e.tabNodeStyles.nodesGap,(0,X.zh)({immediate:(!r.isExpanded||!t)&&!r.isExpandingOrCollapsing,from:{opacity:0,height:0},update:{opacity:t&&r.isExpanded?1:0,height:r.isExpanded?l:0},to:{opacity:t&&r.isExpanded?1:0,height:r.isExpanded?l:0}})),f=function(e,t,o){let n=(0,m.q8)(e),a=n&&!0===e.isGroupExpanded,r=n&&e.isLastTabNodeInTree;return(0,X.zh)({immediate:(!a||!t)&&!e.isExpandingOrCollapsing,from:{opacity:0,height:0},update:{opacity:t&&(a||r)?1:0,height:a?o:0},to:{opacity:t&&(a||r)?1:0,height:a||r?o:0}})}(r,t,e.tabNodeStyles.nodesGap),y=function(e,t,o){let n=(0,m.q8)(e)&&!0===e.isGroupExpanded;return(0,X.zh)({immediate:!t&&o,from:{opacity:0,height:0},to:{opacity:n&&t?1:0,height:n?4:0}})}(r,t,n),x={height:null==a?void 0:a.height,zIndex:r.zIndex},w=Object.assign({},v),k=Object.assign({},f),T=Object.assign({},y);return n?(x=Object.assign(Object.assign({},x),h),b={transform:a.transform},g={transform:a.transform,opacity:a.opacity}):(x=Object.assign(Object.assign({},x),h),b={transform:a.transform},g={}),{nodeContainerStyle:x,tabNodeContentStyle:b,groupNodeContentStyle:g,nodeGapStyle:w,bottomNodeGapStyle:k,bottomGroupBorderStyle:T}}(E,I,0,_,f,p,w),z=(0,c.useMemo)(()=>{switch(p.nodeType){case"tabNode":if((0,m.gJ)(p)>=0)return{"data-tab-uuid":p.uuid,"data-tab-id":p.id,"data-level":(0,m.gJ)(p)};break;case"groupNode":return{"data-group-id":p.id}}return{}},[p]),F=function e(t){let o=(0,m.q8)(t),n=(0,i.U)(!1,d.W4.reactHook,[e.name,`TreeNode[title=${t.title}`]),a=(0,c.useMemo)(()=>o?(0,m.gJ)(t):0,[o,t]),r=s.store.nodesTree.treeFinishedInitialTransition;n.renderP({status:o?t.status:"not tab node","store.nodesTree.treeFinishedInitialTransition":r});let l=(0,c.useCallback)(()=>a>0?Array.from({length:a},(e,t)=>t):[],[a]),u=(0,c.useMemo)(()=>({config:X.$W.gentle,delay:r?0:500,from:{flexBasis:0,width:0},enter:{flexBasis:16,width:16},leave:{flexBasis:0,width:0}}),[r]);return(0,X.pn)(l(),u)}(p),j=y&&(0,m.y7)(p),R=I&&p.isExpanded||p.isExpandingOrCollapsing;return w.renderP({inView:A,nodeGapStyle:B,tabNodeContentStyle:D,groupNodeContentStyle:M,nodesTreeStyles:E,entry:en().pick(O,["intersectionRatio","isIntersecting","boundingClientRect","intersectionRect","rootBounds"]),isContentVisible:I,enterExistTransitionStyleOpacity:[null===(n=null===(o=null==f?void 0:f.opacity)||void 0===o?void 0:o.animation)||void 0===n?void 0:n.from,null===(r=null===(a=null==f?void 0:f.opacity)||void 0===a?void 0:a.animation)||void 0===r?void 0:r.to],enterExistTransitionStyleMarginTop:[null===(u=null===(l=null==f?void 0:f.marginTop)||void 0===l?void 0:l.animation)||void 0===u?void 0:u.from,null===(g=null===(b=null==f?void 0:f.marginTop)||void 0===b?void 0:b.animation)||void 0===g?void 0:g.to],nodeGroup:k,nodeTitle:p.title,node:(0,d.mm)(p),transitionState:v,isExpandingOrCollapsing:p.isExpandingOrCollapsing}),(0,q.FD)(q.FK,{children:[(y||x&&0!==h)&&(0,q.Y)(ec,{node:p,isContentVisible:I,style:B}),(0,q.FD)(X.CS.div,Object.assign(Object.assign({className:(0,S.A)("node-container",y&&"tab-node-container",x&&["group-node-container","hover-show-plus-icon"],(0,m.mc)(p)&&"hover-show-plus-icon","hover-show-close-icon")},z),{ref:el(C,N),css:os,style:L,children:[R&&(0,q.FD)(q.FK,{children:[j&&(0,q.Y)(ed,{tabNode:p,position:"left"}),y&&(0,q.Y)("span",{className:"node-start-padding"}),F((e,t,o,n)=>(0,q.Y)(X.CS.div,{className:"level-padding",style:e,css:oc},n))]}),y&&(0,q.Y)(oa,{tabNode:p,shouldShowContent:R,transitionStyle:D}),x&&(0,q.Y)(od,{groupNode:p,shouldShowContent:R}),R&&(0,q.Y)(q.FK,{children:j&&(0,q.Y)(ed,{tabNode:p,position:"right",style:{zIndex:1}})})]})),y&&0!==h&&(p.isLastTabNodeInGroup||p.isLastTabNodeInTree)&&(0,q.Y)(ec,{node:p,style:W,isContentVisible:(!!p.isLastTabNodeInGroup&&!!p.isGroupExpanded||!!p.isLastTabNodeInTree)&&I}),y&&p.isLastTabNodeInGroup&&(0,q.Y)(q.FK,{children:(0,q.Y)(ed,{nodeContentBorderLineWidth:E.essentialConstructTreeStyles.tabNodeContentBorderWidth,tabNode:p,style:Y,position:"bottom"})})]})},(e,t)=>{let o=e.node,n=t.node,a=(0,m.q8)(n)&&858618918===n.id,r=(0,d.tZ)(!1,d.W4.reactComponent,["MemoTreeNodeComponent",n.title,n.uuid]),i=(0,ee.r$)(e,t,{logTags:["MemoTreeNodeComponent",n.title,n.uuid],ifPrint:a,ifPrintComparingDetails:!1});return r.logP({prevNode:o,nextNode:n,areEqual:i}),i});var ou=o(12159),ob={};ob.styleTagTransform=G(),ob.setAttributes=j(),ob.insert=z().bind(null,"head"),ob.domAPI=W(),ob.insertStyleElement=U(),M()(ou.A,ob),ou.A&&ou.A.locals&&ou.A.locals;let og="DebugBear";var op={name:"1ocqdsv",styles:"display:flex;flex-direction:row;position:relative;will-change:margin-top;overflow:hidden"};let oh=(0,c.memo)(function e(t){var o,n;let{tabNode:a,treeNodeIndex:r,transitionState:c,transitionStyle:l}=t,u=(0,i.U)(null!==(n=null===(o=a.title)||void 0===o?void 0:o.startsWith(og))&&void 0!==n&&n,d.W4.reactComponent,e.name),b=s.store.nodesTree.useEssentialStyles(),g={height:null==l?void 0:l.height,width:null==l?void 0:l.width,zIndex:a.zIndex},p={};return(0,m.gJ)(a)>=0&&(p=Object.assign(Object.assign({},p),{"data-tab-uuid":a.uuid,"data-tab-id":a.id,"data-level":(0,m.gJ)(a)})),u.renderP({animatedStyle:g,nodeTitle:a.title,node:(0,d.mm)(a),transitionState:c,isExpandingOrCollapsing:a.isExpandingOrCollapsing,nodeContentBorderLineWidth:b.tabNodeContentBorderWidth,"transitionStyle?.marginTop":null==l?void 0:l.marginTop}),(0,q.Y)(q.FK,{children:(0,q.Y)(X.CS.div,Object.assign(Object.assign({className:(0,S.A)("node-container","pinned")},p),{css:op,style:g,children:(0,q.Y)(oa,{tabNode:a,transitionStyle:{opacity:null==l?void 0:l.opacity,transform:null==l?void 0:l.transform}})}))})},(e,t)=>{var o,n;let a=e.tabNode,r=t.tabNode,i=(0,m.q8)(r)&&null!==(n=null===(o=r.title)||void 0===o?void 0:o.startsWith(og))&&void 0!==n&&n,s=(0,d.tZ)(i,d.W4.reactComponent,["MemoPinnedTabNode",r.title,r.uuid]),c=(0,ee.r$)(e,t,{logTags:["MemoPinnedTabNode",r.title,r.uuid],ifPrint:!0,ifPrintComparingDetails:!1});return s.logP({prevNode:a,nextNode:r,areEqual:c}),c});function om(e){let{tabNodes:t,pinnedTabNodeHeight:o,pinnedTabNodeWidth:n,pinnedTabNodeBorderWidth:a}=e,r=(0,c.useMemo)(()=>t.filter(e=>(0,m.q8)(e)&&e.pinned),[t]),i=(0,X.pn)(r,{config:X.$W.gentle,from:{opacity:0,transform:"translate3d(-25%, 0px, 0px)",height:1===r.length?0:32,width:n,marginRight:-1*a,marginBottom:-1*a},update:{height:32},enter:{opacity:1,transform:"translate3d(0%, 0px, 0px)",height:o,width:n,marginRight:-1*a,marginBottom:-1*a},leave:{opacity:0,height:0===r.length?0:o,width:n,marginRight:-1*a,marginBottom:-1*a,config:{duration:200}},keys:r.map((e,t)=>e.uuid)});return(0,q.Y)(q.FK,{children:(0,q.Y)("div",{id:"pinned-tab-nodes-container",children:i((e,t,o,n)=>(0,q.Y)(oh,{transitionState:o,transitionStyle:e,treeNodeIndex:n,tabNode:t}))})})}(0,d.tZ)(!1,d.W4.reactComponent,om.name);var ov=o(92845),of={};function oy(e,t){let o=(0,d.tZ)(!0,d.W4.action,oy.name);o.gP({state:e,action:t});let n={};switch(t.type){case"ShowSubMenuAction":n=function(e,t){var o;let{anchorElem:n,parentMenuItem:a,menuItems:r}=t,i={};return(null===(o=e.subPopupMenu)||void 0===o?void 0:o.parentMenuItem)!==a&&(i={subPopupMenu:{anchorElem:n,parentMenuItem:a,menuItems:r}}),i}(e,t);break;case"HideSubMenuAction":n={subPopupMenu:void 0}}return o.ge(),Object.assign(Object.assign({},e),n)}of.styleTagTransform=G(),of.setAttributes=j(),of.insert=z().bind(null,"head"),of.domAPI=W(),of.insertStyleElement=U(),M()(ov.A,of),ov.A&&ov.A.locals&&ov.A.locals;let ox=c.memo(function e(t){var o;let n=(0,i.U)(!1,d.W4.reactComponent,e.name),[a,r]=(0,c.useReducer)(oy,{}),{subPopupMenu:s}=a,{data:l,level:u,anchor:b,menuItems:g,onItemClickedAndProcessed:p,parentMenuItem:h,onSubMenuGainFocus:m,onSubMenuLostFocus:v}=t;n.gP({props:{level:u,parentMenuItem:h,menuItems:g},originalProps:t,popupMenuState:a,"popupMenuState.subPopupMenu.anchorElem":null===(o=a.subPopupMenu)||void 0===o?void 0:o.anchorElem});let f={};f=Object.assign(Object.assign({},f),{position:"absolute"});let y=(0,eo.debounce)(async(e,t,o,n)=>{(null==s?void 0:s.anchorElem)!==e.target&&(s&&r({type:"HideSubMenuAction"}),r({type:"ShowSubMenuAction",anchorElem:e.target,parentMenuItem:o,menuItems:n}))},500),x=c.useRef(),w=(0,c.useCallback)(()=>{x.current||(x.current=setTimeout(()=>{r({type:"HideSubMenuAction"})},1e3))},[]),k=(0,c.useCallback)(()=>{n.logPT("stopClosingSubMenuFunc"),x.current&&(clearTimeout(x.current),x.current=void 0)},[n]),T=g.some(e=>!e.type&&e.leadingComponent),N=(0,c.useCallback)(async(e,t)=>{let o;if(y.cancel(),t.items){if(Array.isArray(t.items))o=t.items;else if("function"==typeof t.items){let e=t.items();o=e instanceof Promise?await e:e}}if(o)k(),y(e,u,t,o);else{s&&w();return}},[y,u,w,k,s]);return n.end(),n.ge(),(0,q.FD)(q.FK,{children:[(0,q.Y)("ul",Object.assign(Object.assign({id:ok(u,h)},{"data-tn-cm-level":u}),{ref:e=>{if(n.logPT("render content",{menuElem:e,level:u}),e&&""===e.style.left&&""===e.style.top){let t,o;switch(b.type){case"domRect":({left:t,top:o}=(0,ee.yB)(b.domRect,b.anchorPosition,e));break;case"xy":({left:t,top:o}=(0,ee.sn)(b.posX,b.posY,e))}t&&o&&(e.style.left=`${t}px`,e.style.top=`${o}px`)}},className:"popup-menu",style:Object.assign(Object.assign({},f),{zIndex:1e5+u}),onMouseEnter:e=>{h&&m&&m(h,g)},onMouseLeave:e=>{y.cancel(),h&&v&&v(h,g)},children:g.map(e=>{switch(e.type){case void 0:var t;let o=`pm-[level:${u}][label:${e.id}]`;return(0,q.FD)("li",{id:o,className:"popup-menu-item",onMouseEnter:t=>N(t,e),onClick:async t=>{var o,n;t.stopPropagation(),p(!await (null===(o=e.onClick)||void 0===o?void 0:o.call(e,l)))},children:[T&&(0,q.Y)("div",{className:"leading-elem",children:e.leadingComponent}),(0,q.Y)("span",{className:"label",children:e.label}),(0,q.Y)("div",{className:"tailing-elem",children:e.tailingComponent}),(0,q.Y)("div",{className:["more-icon",(t=e.items)&&(Array.isArray(t)&&t.length>0||"function"==typeof t)?"show":"hide"].filter(Boolean).join(" ")})]},o);case"separator":return(0,q.Y)("li",{className:"popup-menu-separator"},"separator-"+Math.random());default:return null}})})),s&&s.anchorElem&&s.parentMenuItem&&s.menuItems&&s.menuItems.length>0&&(0,q.Y)(ox,{data:l,level:u+1,anchor:{type:"domRect",domRect:s.anchorElem.getBoundingClientRect(),anchorPosition:ee.RV.RightTop},parentMenuItem:s.parentMenuItem,menuItems:s.menuItems,onItemClickedAndProcessed:p,onSubMenuLostFocus:()=>{s&&w()},onSubMenuGainFocus:()=>{n.logPT("onSubMenuGainFocus",{level:u,subPopupMenu:s}),k()}},ok(u+1,s.parentMenuItem))]})}),ow=c.memo(function e(){let t=(0,i.U)(!1,d.W4.reactComponent,e.name),o=s.store.popupMenu.usePopupMenu(),n=function(){let e=(0,c.useCallback)(async t=>{t.stopPropagation(),await s.store.popupMenu.setPopupMenu(void 0),window.document.removeEventListener("click",e)},[]);return e}(),a=function(){let e=(0,c.useCallback)(async t=>{t.stopPropagation(),await s.store.popupMenu.setPopupMenu(void 0),window.document.removeEventListener("keydown",e)},[]);return e}(),r=s.store.options.useDeveloperSettings(),l=(0,c.useRef)();t.gP({developerOptions:r,popupMenu:o}),(0,c.useEffect)(()=>(t.logT("effect",{popupMenu:o}),o&&(t.log("'window.document.addEventListener('click')'"),window.document.addEventListener("click",n),window.document.addEventListener("keydown",a)),t.ge(),()=>{t.gPT("useEffect","Initialization"),t.logT("removeEventListener",{contextMenuInfoContext:o}),o&&(window.document.removeEventListener("click",n),window.document.removeEventListener("keydown",a))}),[o,n,a,t]),(0,c.useEffect)(()=>{(0,d.tZ)(!1,d.W4.reactHook,["PopupMenu","useEffect","init right click"]).logP({"developerOptions?.preventDefaultContextMenu":null==r?void 0:r.preventDefaultContextMenu}),l.current&&window.document.removeEventListener("contextmenu",l.current),r.preventDefaultContextMenu&&(l.current=e=>{e.preventDefault()},window.document.addEventListener("contextmenu",l.current))},[r.preventDefaultContextMenu]),t.log({contextMenuInfo:o,windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight});let u=(null==o?void 0:o.data)&&o.menuItems.length>0?(0,q.Y)(ox,{data:o.data,anchor:o.anchor,level:0,menuItems:o.menuItems,onItemClickedAndProcessed:async e=>{t.logT("onItemClickedAndProcessed",{dismissMenu:e}),e&&(eq(),await s.store.popupMenu.setPopupMenu(void 0))}}):null;return t.end(),t.ge(),u});function ok(e,t){let o=`cm-[level:${e}]`;return(null==t?void 0:t.id)?o+=`[subMenuOf:${t.id}]`:o+="[root]",o}var oT=o(54248),oN=o(58603),oC=o(71437);async function oS(e,t,o,n){await chrome.tabGroups.update(e,{title:t,color:o}),await (0,p.O)({fixMissingParents:n})}var oA=o(63072),oO={};oO.styleTagTransform=G(),oO.setAttributes=j(),oO.insert=z().bind(null,"head"),oO.domAPI=W(),oO.insertStyleElement=U(),M()(oA.A,oO),oA.A&&oA.A.locals&&oA.A.locals;let oI={cssVar:!0,components:{Modal:{colorBgMask:"var(--modal-underneath-background-color)",headerBg:"var(--modal-background-color)",contentBg:"var(--modal-background-color)",footerBg:"var(--modal-background-color)",titleColor:"var(--modal-text-and-icon-color)"},Button:{colorText:"#000000",defaultBg:"var(--modal-background-color)",defaultColor:"var(--modal-text-and-icon-color)",defaultHoverBg:"transparent"},Input:{colorBgContainer:"var(--modal-background-color)"}},token:{colorText:"var(--modal-text-and-icon-color)",colorTextSecondary:"var(--modal-text-and-icon-color)",colorTextHeading:"var(--modal-text-and-icon-color)",colorTextDescription:"var(--modal-text-and-icon-color)",colorIcon:"var(--modal-text-and-icon-color)",colorFillSecondary:"var(--modal-background-color)",borderRadius:4,paddingContentHorizontalLG:8,paddingMD:12,zIndexPopupBase:5e6}},{Text:oP}=T.A,o_=["grey","blue","red","yellow","green","pink","purple","cyan","orange"];function oE(e){let t=(0,i.U)(!0,d.W4.reactComponent,[oE.name]),o=s.store.dialogs.useGroupConfigDialogState(),[n,a]=(0,c.useState)(""),[r,b]=(0,c.useState)(void 0),g=(0,c.useRef)(null);(0,l.K)(oE.name),(0,c.useEffect)(()=>{var e,t;switch(null==o?void 0:o.mode){case"create":a(""),b(void 0);break;case"edit":a(null===(e=o.groupNode)||void 0===e?void 0:e.title),b(null===(t=o.groupNode)||void 0===t?void 0:t.color)}setTimeout(()=>{var e;null===(e=g.current)||void 0===e||e.focus({cursor:"all"})},1)},[o]);let p=(0,c.useCallback)(async()=>{switch(s.store.dialogs.setGroupNodeConfigDialogState(void 0),null==o?void 0:o.mode){case"create":await tt(o.tabNodes,void 0,async e=>{e&&await oS(e,n,r,!0)});break;case"edit":r&&await oS(o.groupNode.id,n,r,!1)}},[r,o,n]),h=(0,c.useCallback)(()=>{s.store.dialogs.setGroupNodeConfigDialogState(void 0)},[]);return(0,c.useEffect)(()=>{let e=e=>{"Enter"===e.key&&p().catch(t.error)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p,t.error]),(0,q.Y)(k.Ay,{theme:oI,children:(0,q.Y)(oT.A,{title:(null==o?void 0:o.mode)==="edit"?"Edit Group":"New Group",centered:!0,open:void 0!==o,okText:"Save",onOk:p,onCancel:h,children:(0,q.FD)(oN.A,{vertical:!0,gap:16,children:[(0,q.FD)("div",{children:[(0,q.Y)(oP,{children:"Group Name"}),(0,q.Y)(oC.A,{ref:g,value:n,onChange:e=>a(e.target.value)})]}),(0,q.FD)("div",{children:[(0,q.Y)(oP,{children:"Color"}),(0,q.Y)("div",{className:"chrome-group-colors-container",children:o_.map(e=>(0,q.Y)(ti,{color:u.vJ[e].color,style:{cursor:"pointer"},highlight:r===e,onClick:()=>{b(e)}},e))})]})]})})})}var oL=o(75933),oD=o(40185);let oM={openQuickNavigationPanel:"open_quick_navigation_panel",createNewTabAtTheSameLevel:"create_new_tab_at_the_same_level",createNewTabAsAChild:"create_new_tab_as_a_child",addToBranch:"add_to_branch",duplicateActiveTab:"duplicate_active_tab"};var oB=o(37896),oW={};oW.styleTagTransform=G(),oW.setAttributes=j(),oW.insert=z().bind(null,"head"),oW.domAPI=W(),oW.insertStyleElement=U(),M()(oB.A,oW),oB.A&&oB.A.locals&&oB.A.locals;var oY={name:"18oz6le",styles:"flex-shrink:0;width:1rem;flex-basis:1rem"};let oz=function(e){let{node:t,index:o,isLastLastChildOfGroup:n,groupNodeNoChildrenNodes:a,onClick:r,onMouseEnter:i,onMouseLeave:d}=e,s=(0,m.mI)(t),c=(0,m.q8)(t),l=0!==o&&s,b=c&&t.groupId!==chrome.tabGroups.TAB_GROUP_ID_NONE,g={},p="";switch(t.nodeType){case"groupNode":p=["node-content","group-node",a&&"no-children"].filter(Boolean).join(" ");let h=u.vJ[t.color];g={backgroundColor:h.color,color:h.textColor};break;case"tabNode":p=["node-content","tab-node",t.pinned&&"pinned"].filter(Boolean).join(" ")}return(0,q.FD)(q.FK,{children:[l&&(0,q.Y)("div",{className:"node-spacer"},`node-spacer-${t.id}`),(0,q.FD)("div",{className:(0,S.A)("node-container",{"group-node-container":s,"tab-node-container":c}),children:[b&&(0,q.Y)(ed,{tabNode:t,position:"left"}),(0,q.FD)(oN.A,{className:p,style:g,onClick:r,onMouseEnter:()=>i(t),onMouseLeave:()=>d(t),children:[Array.from({length:c?(0,m.gJ)(t):0},(e,t)=>(0,q.Y)("div",{className:"level-padding",css:oY},t)),c?(0,q.Y)(eu.b,{tabNode:t}):null,(0,q.Y)("span",{className:"node-title text-nowrap text-ellipsis overflow-hidden",children:t.title})]}),b&&(0,q.Y)(ed,{tabNode:t,position:"right"})]}),c&&n&&(0,q.Y)(q.FK,{children:(0,q.Y)(ed,{nodeContentBorderLineWidth:1,tabNode:t,position:"bottom"})})]})};var oF=o(90561);let oj=function e(t){let o=(0,i.U)(!0,d.W4.reactComponent,e.name),{onModalOpenChange:n}=t,[a,r]=(0,c.useState)(!1),[l,u]=(0,c.useState)(!1),[g,p]=(0,c.useState)(),h=s.store.licenseCache.useIsValidProEntitlement(),v=s.store.nodesTree.useNodes(),f=(0,c.useMemo)(()=>null==v?void 0:v.filter(e=>"groupNode"===e.nodeType||(0,m.mc)(e)),[v]);(0,c.useEffect)(()=>{o.logP("useEffect",{modalOpen:a});let e=async(e,t)=>{o.logP("Command triggered",{command:e,tab:t});let n=await (0,b.getChromeCurrentWindowId)();if(t.windowId!==n){o.logP("Triggered tab is in another window, skip it.",{command:e,currentWindowId:n,tabWindowId:t.windowId});return}if(e===oM.openQuickNavigationPanel){if(a){r(!1);return}r(!0)}};return chrome.commands.onCommand.addListener(e),()=>{o.logP("Effect cleanup, remove listener."),chrome.commands.onCommand.removeListener(e)}},[o,a]),(0,c.useEffect)(()=>{o.logPT("useEffect:[modalOpen, onModalOpenChange]",{modalOpen:a}),n(a)},[o,a,n]);let y=(0,t_.FT)(async e=>{var t;r(!1);let o="groupNode"===e.nodeType,n=(0,m.Cy)(e);if(o){let o=null===(t=v.find(t=>"tabNode"===t.nodeType&&t.groupId===e.id))||void 0===t?void 0:t.id;o&&await t1(o)}else e.active||await t1(e.id);null==n||n.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})},()=>{u(!0)}),x=e=>{(0,m.mI)(e)&&p(e)},w=e=>{p(void 0)};return(0,q.FD)(k.Ay,{theme:oI,children:[(0,q.Y)(oT.A,{className:(0,S.A)("navigation-panel"),title:(0,q.FD)(oL.A,{size:"small",children:[(0,q.Y)("span",{children:"Quick Navigation"}),!h&&(0,q.Y)(tW,{entitlement:tP.h.PRO})]}),centered:!0,open:a,footer:null,onCancel:()=>r(!1),children:0===f.length?(0,q.Y)("div",{children:"Yon don't have any group or branch nodes yet."}):f.map((e,t)=>{let o=f[t+1],n=(0,m.mI)(e)&&!f.some(t=>(0,m.q8)(t)&&t.groupId===e.id),a=(0,m.q8)(e)&&e.groupId!==chrome.tabGroups.TAB_GROUP_ID_NONE&&((0,m.mI)(o)||e.groupId!==(null==o?void 0:o.groupId));return(0,q.Y)(oz,{node:e,index:t,isLastLastChildOfGroup:a,groupNodeNoChildrenNodes:n,onClick:()=>y(e),onMouseEnter:()=>x(e),onMouseLeave:()=>w(e)},e.id)})}),(0,q.Y)(oT.A,{className:[].filter(Boolean).join(" "),title:"Pro License Required",centered:!0,open:l,footer:null,onCancel:()=>u(!1),children:(0,q.Y)(oD.Ay,{icon:(0,q.Y)(oF.A,{}),subTitle:(0,q.FD)(q.FK,{children:["Want to navigate between different groups and branches without getting lost in tens or hundreds of tabs?",(0,q.Y)("br",{}),(0,q.Y)("br",{}),'Unlock the "Quick Navigation Panel" feature with a PRO license.',(0,q.Y)("br",{})]}),extra:(0,q.Y)(C.Ay,{type:"primary",onClick:()=>{window.open(`${tM.A.webSitePurchaseProLicense}`,"_blank")},children:"Purchase Pro License"})})})]})},oR="TabNodesTreeHooks",oU=(0,f.sg)({delay:100},(e,t,o,n)=>{(0,v.w)({type:"saveTreeNodesData",windowId:e,reason:o,nodes:t}).catch(e=>n.error(e))});var o$=o(78154),oG=o(27566),oZ=o(72552),oH=o(52605),oq=o(53183),oK=o(1689);function oV(){let e=s.store.dialogs.useDialogState(),[t,o]=oT.A.useModal(),n=(0,c.useMemo)(()=>{switch(null==e?void 0:e.type){case"confirm":case"info":return(0,q.Y)(oZ.A,{});case"success":return(0,q.Y)(oH.A,{});case"warning":return(0,q.Y)(oq.A,{});case"error":return(0,q.Y)(oK.A,{});default:return}},[null==e?void 0:e.type]);return(0,c.useEffect)(()=>{var o,a,r;if(e){let i={title:null==e?void 0:e.title,content:null==e?void 0:e.content,icon:n,centered:null===(o=null==e?void 0:e.centered)||void 0===o||o,okText:null===(a=null==e?void 0:e.positiveButton)||void 0===a?void 0:a.title,onOk:()=>{var t,o;s.store.dialogs.setDialogState(void 0),null===(o=null===(t=null==e?void 0:e.positiveButton)||void 0===t?void 0:t.onClick)||void 0===o||o.call(t)},cancelText:(null==e?void 0:e.type)==="confirm"?null===(r=null==e?void 0:e.negativeButton)||void 0===r?void 0:r.title:void 0,onCancel:(null==e?void 0:e.type)==="confirm"?()=>{var t,o;s.store.dialogs.setDialogState(void 0),null===(o=null===(t=null==e?void 0:e.negativeButton)||void 0===t?void 0:t.onClick)||void 0===o||o.call(t)}:void 0};switch(null==e?void 0:e.type){case"info":t.info(i);break;case"success":t.success(i);break;case"warning":t.warning(i);break;case"error":t.error(i);break;case"confirm":t.confirm(i)}}return()=>{s.store.dialogs.setDialogState(void 0)}},[e,n,t]),(0,q.Y)(k.Ay,{theme:oI,children:o})}var oJ=o(66550),oX=o(84987),oQ=o(77473),o0=o(9826),o1=o(61190),o5=o(53775);let o2=(0,d.tZ)(!0,d.W4.reactComponent,[o3.name]);function o3(){let e=s.store.message.useMessageState(),[t,o]=oJ.Ay.useMessage(),n=(0,c.useMemo)(()=>{switch(null==e?void 0:e.type){case"loading":return(0,q.Y)(oX.A,{});case"info":return(0,q.Y)(oQ.A,{});case"success":return(0,q.Y)(oH.A,{twoToneColor:"#52c41a"});case"warning":return(0,q.Y)(o0.A,{twoToneColor:"orange"});case"error":return(0,q.Y)(o1.A,{twoToneColor:"red"});default:return}},[null==e?void 0:e.type]);return(0,c.useEffect)(()=>{if(e){let o={content:(0,o5.wn)(s.store.nodesTree.nodes,e.content),icon:n,onClick:null==e?void 0:e.onClick,onClose:()=>{var t;o2.logP("Message onClose."),s.store.message.setMessageState(void 0),null===(t=null==e?void 0:e.onClose)||void 0===t||t.call(e)}};(async()=>{switch(null==e?void 0:e.type){case"info":await t.info(o,null==e?void 0:e.duration);break;case"success":await t.success(o,null==e?void 0:e.duration);break;case"warning":await t.warning(o,null==e?void 0:e.duration);break;case"error":await t.error(o,null==e?void 0:e.duration);break;case"loading":await t.loading(o,null==e?void 0:e.duration)}})()}},[e,n,t]),(0,q.Y)(q.FK,{children:o})}var o4=o(61741),o8=o(98366),o6=o(83928);let o7="theme-customised",o9=e=>{let t=e.tabNodeBackgroundColorHover.colorStops[0].colorHex,o=en().last(e.tabNodeBackgroundColorHover.colorStops).colorHex,n=e.tabNodeBackgroundColorActive.colorStops[0].colorHex,a=en().last(e.tabNodeBackgroundColorActive.colorStops).colorHex,r=e.tabNodeBackgroundColorSelected.colorStops[0].colorHex,i=en().last(e.tabNodeBackgroundColorSelected.colorStops).colorHex,d=(e,t=.5,o=.25,n=.35,a=.15)=>{let r=(0,o8.sN)(e);return(0,o8.FO)(e,r?t:-n,r?o:a)};return{startIconHoverBgColor:d(t),endIconHoverBgColor:d(o),activeStartIconHoverBgColor:d(n),activeEndIconHoverBgColor:d(a),selectedStartIconHoverBgColor:d(r),selectedEndIconHoverBgColor:d(i)}},ne=(e,t)=>{let o=(0,o4.yi)(t.tabNodeBackgroundColorActive,t.tabNodeBackgroundColorActiveHoverBrightnessPercentage),n=(0,o4.yi)(t.tabNodeBackgroundColorSelected,t.tabNodeBackgroundColorSelectedHoverBrightnessPercentage),{startIconHoverBgColor:a,endIconHoverBgColor:r,activeStartIconHoverBgColor:i,activeEndIconHoverBgColor:d,selectedStartIconHoverBgColor:s,selectedEndIconHoverBgColor:c}=o9(t),l="";return l+=`.${e} {
  --tree-background-color: ${t.treeBackgroundColor};
  
  --node-start-padding: ${t.nodeStartPadding}px;
  
  --nodes-gap: ${t.nodesGap}px;

  ${o6.OZ.Height}: ${t.tabNodeHeight}px;
  ${o6.mD.Height}: ${t.groupNodeHeight}px;
  
  --tab-node-content-border-width: ${t.nodeBorderWidth}px;
  --tab-node-content-border-color: ${t.nodeBorderColor};
  --tab-node-content-border-radius-left-top: ${t.nodeBorderLeftTopRadius}px;
  --tab-node-content-border-radius-left-bottom: ${t.nodeBorderLeftBottomRadius}px;
  
  --tab-node-content-background: ${(0,o4.og)(t.tabNodeBackgroundColor)};
  --tab-node-content-background-hover: ${(0,o4.og)(t.tabNodeBackgroundColorHover)};
  
  --tab-node-content-text-and-icon-color-active: ${t.tabNodeTextAndIconColorActive};
  --tab-node-content-text-and-icon-color-selected: ${t.tabNodeTextAndIconColorSelected};
  
  --node-content-drag-drop-area-border-width: ${t.nodeDragDropAreaBorderWidth}px;
  --node-content-drag-drop-area-border-color: ${t.nodeDragDropAreaBorderColor};

  ${o6.OZ.TextStyleBold}: ${t.tabNodeTextStyle.bold?"bold":"unset"};
  ${o6.OZ.TextStyleItalics}: ${t.tabNodeTextStyle.italic?"italic":"unset"};
  ${o6.OZ.TextStyleUnderlineAndLineThrough}: ${t.tabNodeTextStyle.underline||t.tabNodeTextStyle.lineThrough?`${t.tabNodeTextStyle.underline?"underline":""} ${t.tabNodeTextStyle.lineThrough?"line-through":""}`:"unset"};
  ${o6.OZ.TextAndIconColorNormal}: ${t.tabNodeTextAndIconColor};

  ${o6.OZ.TextStyleBoldActive}: ${t.tabNodeTextStyleActive.bold?"bold":"unset"};
  ${o6.OZ.TextStyleItalicsActive}: ${t.tabNodeTextStyleActive.italic?"italic":"unset"};
  ${o6.OZ.TextStyleUnderlineAndLineThroughActive}: ${t.tabNodeTextStyleActive.underline||t.tabNodeTextStyleActive.lineThrough?`${t.tabNodeTextStyleActive.underline?"underline":""} ${t.tabNodeTextStyleActive.lineThrough?"line-through":""}`:"unset"};
  ${o6.OZ.TextAndIconColorActive}: ${t.tabNodeTextAndIconColorActive};

  ${o6.OZ.TextAndIconColorHover}: ${t.tabNodeTextAndIconColorHover?t.tabNodeTextAndIconColorHover:"unset"};

  ${o6.OZ.TextAndIconColorUnread}: ${t.tabNodeTextAndIconColorUnread?`${t.tabNodeTextAndIconColorUnread}`:"initial"};`,t.tabNodeStylesUnreadEnabled&&(l+=nt(o6.OZ.TextStyleBoldUnread,o6.OZ.TextStyleItalicsUnread,o6.OZ.TextStyleUnderlineAndLineThroughUnread,t.tabNodeTextStyleUnread)+no(o6.OZ.BorderOpacityUnread,o6.OZ.BackgroundOpacityUnread,o6.OZ.TextOpacityUnread,o6.OZ.IconOpacityUnread,t.tabNodeOpacityStylesUnread)),l+=`

  ${o6.OZ.TextAndIconColorUnloaded}: ${t.tabNodeTextAndIconColorUnloaded?`${t.tabNodeTextAndIconColorUnloaded}`:"initial"};`,t.tabNodeStylesUnloadedEnabled&&(l+=nt(o6.OZ.TextStyleBoldUnloaded,o6.OZ.TextStyleItalicsUnloaded,o6.OZ.TextStyleUnderlineAndLineThroughUnloaded,t.tabNodeTextStyleUnloaded)+no(o6.OZ.BorderOpacityUnloaded,o6.OZ.BackgroundOpacityUnloaded,o6.OZ.TextOpacityUnloaded,o6.OZ.IconOpacityUnloaded,t.tabNodeOpacityStylesUnloaded)),l+=`
}

.${e} .node-content.tab-node-content .node-content-artificial-background-active  {
  --tab-node-content-background-color-active-normal: ${o.linearGradient};
}

.${e} .node-content.tab-node-content .node-content-artificial-background-active-hover  {
  --tab-node-content-background-color-active-hover: ${o.linearGradientLightenOrDarken};
}

.${e} .node-content.tab-node-content .node-content-artificial-background-selected  {
  --tab-node-content-background-color-selected-normal: ${n.linearGradient};
}

.${e} .node-content.tab-node-content .node-content-artificial-background-selected-hover  {
  --tab-node-content-background-color-selected-hover: ${n.linearGradientLightenOrDarken};
}

.${e} .node-content.tab-node-content .icon-btn  {
  --node-content-start-icon-hover-background-color: ${a};
  --node-content-end-icon-hover-background-color: ${r};
}

.${e} .node-content.tab-node-content.active .icon-btn  {
  --node-content-start-icon-hover-background-color: ${i};
  --node-content-end-icon-hover-background-color: ${d};
}

.${e} .node-content.tab-node-content.selected .icon-btn  {
  --node-content-start-icon-hover-background-color: ${s};
  --node-content-end-icon-hover-background-color: ${c};
}
`};function nt(e,t,o,n){return`
  ${e}: ${n.bold?"bold":"reset"};
  ${t}: ${n.italic?"italic":"reset"};
  ${o}: ${n.underline||n.lineThrough?`${n.underline?"underline":""} ${n.lineThrough?"line-through":""}`:"reset"};`}function no(e,t,o,n,a){return`
  ${e}: ${100!==a.borderOpacityPercentage?a.borderOpacityPercentage/100:"reset"};
  ${t}: ${100!==a.backgroundOpacityPercentage?a.backgroundOpacityPercentage/100:"reset"};
  ${o}: ${100!==a.textOpacityPercentage?a.textOpacityPercentage/100:"reset"};
  ${n}: ${100!==a.iconOpacityPercentage?a.iconOpacityPercentage/100:"reset"};`}var nn=o(2613);let na=(0,d.tZ)(!0,d.W4.action,nr.name);async function nr(e,t,o){na.logP({nodes:(0,m.Op)(e),tabId:t});let n=(0,m.fc)(e).find(e=>e.id===t);if(!n){na.falseP("movingTabNode not found");return}let a=await (0,eF.d)({oldNodes:e,onNewTreeNodesBuiltBeforeFixMissingAncestors:e=>{let t=(0,m.zv)(n.id,e);if(!t||void 0===t.index||null===t.index)return e;t.directChildrenNodeIds=[],tk(t.id,e);let o=e[t.index+1];if(!o||"groupNode"===o.nodeType)return e;"tabNode"===o.nodeType&&(t.ancestralNodeIds=[...o.ancestralNodeIds])}});return na.endP("done",{newNodes:(0,m.Op)(a)}),a}async function ni(e,t){let o=s.store.nodesTree.nodes,n=await nr(o,e,t);void 0!==n&&s.store.nodesTree.setNodes(n)}var nd=o(24508);function ns(e,t){let{includeOpenerTabNode:o}=t;return e.pinned?[]:o?[e.id,...e.ancestralNodeIds]:[...e.ancestralNodeIds]}var nc=o(65343);function nl(e,t,o){let{includeOpenerTabNode:n}=o;if(t.openerTabId&&t.id){let o=(0,m.zv)(t.openerTabId,e);if(o)return(0,nc.c)(o,{includeOpenerTabNode:n})}return[]}chrome.tabs.TabActiveInfo,chrome.tabs.TabChangeInfo,chrome.tabs.Tab,chrome.tabs.TabMoveInfo,chrome.tabs.TabRemoveInfo,chrome.tabs.TabAttachInfo,chrome.tabs.TabDetachInfo;let nu={};function nb(e){return s.store.chromeEventListeners.isListenerDisabled(e)}let ng=(0,f.sg)({delay:10},async(e,t)=>{await (0,p.O)(t),e(null)});function np(e){return new Promise(t=>{ng(t,e)})}let nh=(0,f.sg)({delay:10},t1),nm=(0,f.sg)({delay:10},async(e,t)=>{let o=(0,d.tZ)(!0,d.W4.script,"debounceRemovingTabNode");o.logP({tabId:e});try{let o=(0,m.b7)(s.store.nodesTree.nodes,t=>t.id===e);o&&(await ez(s.store.nodesTree.nodes,o,s.store.options.nodesTreeSettings.whichTabNodeToActivateAfterTabNodeClosedSettings,!0),await eU(t.windowId))}catch(e){o.errorP(e)}}),nv=[];(0,f.sg)({delay:10},async()=>{try{let e=(0,m.b7)(s.store.nodesTree.nodes,e=>nv.includes(e.id));e&&await ez(s.store.nodesTree.nodes,e,s.store.options.nodesTreeSettings.whichTabNodeToActivateAfterTabNodeClosedSettings,!0)}catch(e){(0,d.tZ)(!0,d.W4.chromeEvent,"debounceActivateAnotherTabNodeBeforeRemoving").errorP(e)}finally{nv=[]}});let nf=Q.B.TAB_ATTACHED,ny=Q.B.TAB_DETACHED,nx=Q.B.TAB_CREATED,nw=Q.B.TAB_UPDATED,nk=Q.B.TAB_ACTIVATED,nT={listenerType:nk,logTags:"chrome.tabs.onActivated"},nN=Q.B.TAB_MOVED,nC=Q.B.TAB_REPLACED,nS=Q.B.TAB_REMOVED,nA={listenerType:nS,logTags:"chrome.tabs.onRemoved"},nO=Q.B.TAB_GROUP_CREATED,nI=Q.B.TAB_GROUP_UPDATED,nP=Q.B.TAB_GROUP_REMOVED,n_=Q.B.TAB_GROUP_MOVED,nE=(0,d.tZ)(!0,d.W4.chromeEvent,[]);function nL(e,...t){let{listenerType:o,logTags:n}=e;nE.logPT(...nE.tagsToLogParams(void 0,...(0,ee.eC)(n),...nb(o)?["disabled"]:[]),...t)}function nD(e,t,o){let n=[nD.name,...(0,ee.eC)(t.extraTags)];nb(e)?nE.logPT(...nE.tagsToLogParams(void 0,...n,"disabled"),t):(nE.logPT(...nE.tagsToLogParams(void 0,...n),"Add task to queue.",t),g.s.push(Object.assign(Object.assign({},t),{logger:nE}),e=>{null==o||o(e)}))}async function nM(e){let t=(0,d.tZ)(!0,d.W4.script,nM.name),o={};try{t.gP(e),e.id&&(e=await chrome.tabs.get(e.id));let a=s.store.nodesTree.nodes;if(e.id){let r,i=await tu.load(),d=!!e.favIconUrl,c=e.title&&!e.openerTabId&&!e.favIconUrl,l=!e.title&&e.openerTabId;if(t.log({savedRemovedNodes:(0,m.Op)(i),isDuplicate:d,isReopened:c,isCreated:l}),c&&i){if(r=(0,m.b7)(i,t=>t.title===e.title&&t.url===e.url,!0)){if(t.log("Found matched removed tab node, and unset some properties that should come from recovered tab",{"node.title":r.title,matchedRemovedNode:r}),await tu.save(i),r.openerTabId){let o;try{o=await chrome.tabs.get(r.openerTabId)}catch(e){t.error(`Error getting opener tab with id: ${r.openerTabId}`,e)}o&&(s.store.chromeEventListeners.toggleListeners(!1,Q.B.TAB_UPDATED),await chrome.tabs.update(e.id,{openerTabId:r.openerTabId}),s.store.chromeEventListeners.toggleListeners(!0,Q.B.TAB_UPDATED))}o[e.id]=Object.assign(Object.assign({},(0,f.cJ)(r,["id","status","index"])),{id:e.id,status:e.status,index:e.index,areChildrenExpanded:!0,previousTabId:r.id})}else t.log("Unable to find matched removed tab nodes")}else{let r=e.openerTabId,i=!r&&!e.active,d=!r&&e.active,c=!!r,l=c&&(e.pendingUrl===u.ru||e.url===u.ru);if(t.log(`Tab is ${c?"opened from from another tab":d?"an external link":i?"a bookmark":""}.`,{isOpenFromBookmark:i,isOpenFromExternalLink:d,isOpenFromOpenerTab:c}),l){t.log("Tab node has opener tab id. Check setting to see if we should move it.",{openerTabId:e.openerTabId});let n=(0,m.zv)(r,a);if(n){let r;let i=s.store.options.nodesTreeSettings.newTabNodePositionNewPageByOpenerTabSetting;switch(i){case eB.FR.ChromeDefault:break;case eB.FR.NextRootOfActiveTabNode:r=(0,m.Z0)(n,a);break;case eB.FR.NextSiblingOfActiveTabNode:o[e.id]=Object.assign(Object.assign({},o[e.id]),{ancestralNodeIds:nl(a,e,{includeOpenerTabNode:!1})}),r=(0,m.rL)(n,a)}r&&(r>e.index&&(r+=1),t.log("Move the new tab node by the setting.",{openerTabNodeIndex:n.index,fromIndex:e.index,toIndex:r,newTabPositionSetting:i}),await (0,b.ie)([{id:e.id,index:e.index}],r,!0))}else t.false("Could not find opener tab node. No need to move tab node.")}else if(c){t.log("Tab has opener tab id. Checking if it not pinned and is not new page. If not, add ancestral node IDs.",{openerTabId:e.openerTabId});let n=(0,m.zv)(r,a);if(t.search("Check settings to see if we should move tab node.",{openerTabNode:n}),n){let r;if(o[e.id]=Object.assign(Object.assign({},o[e.id]),{ancestralNodeIds:nl(a,e,{includeOpenerTabNode:!0})}),n.groupId!==chrome.tabGroups.TAB_GROUP_ID_NONE){t.action("Opener tab node is in a group. Add new tab to the same group.",{"openerTabNode.groupId":n.groupId});try{s.store.chromeEventListeners.toggleAllListeners(!1),await chrome.tabs.group({groupId:n.groupId,tabIds:e.id})}catch(e){t.error(e)}finally{s.store.chromeEventListeners.toggleAllListeners(!0)}t.success("New tab is added to the same group.")}let i=s.store.options.nodesTreeSettings.newTabNodePositionByOpenerTabSetting;switch(i){case eB.O8.ChromeDefault:break;case eB.O8.FirstChildOfActiveTabNode:r=n.index+1;break;case eB.O8.LastChildOfActiveTabNode:r=(0,m.rL)(n,a)}r&&(r>e.index&&(r+=1),t.action("Move the new tab node by the setting.",{openerTabNodeIndex:n.index,fromIndex:e.index,toIndex:r,newTabPositionSetting:i}),await (0,b.ie)([{id:e.id,index:e.index}],r,!0),t.success("New tab node is moved."))}else t.false("Could not find opener tab node. No need to move tab node.")}else{t.search("Check settings to see if we should move tab node.");let r=(0,m.Id)(a);if(i&&s.store.options.nodesTreeSettings.activateNewTabOpenedFromBookmarkSetting&&(t.log('Bookmark tab is created, and "activateOpenedBookmarkTabSetting" is enabled. Activate the new tab.'),a=await t1(e.id,a,!1),e.active=!0),r){let c,l;async function n(o){if(o.groupId!==chrome.tabGroups.TAB_GROUP_ID_NONE){t.action("Active tab node is in a group. Add new tab to the same group.",{"activeTabNode.groupId":o.groupId});try{s.store.chromeEventListeners.toggleAllListeners(!1),await chrome.tabs.group({groupId:o.groupId,tabIds:e.id})}catch(e){t.error(e)}finally{s.store.chromeEventListeners.toggleAllListeners(!0)}t.success("New tab is added to the same group.")}else t.false("Active tab node is not in a group. No need to add new tab to the a group.")}switch(d?l=s.store.options.nodesTreeSettings.newTabNodePositionExternalLinkSetting:i&&(l=s.store.options.nodesTreeSettings.newTabNodePositionBookmarkSetting),l){case eB.qS.NextRootOfActiveTabNode:case eB.B8.NextRootOfActiveTabNode:await n(r),c=(0,m.Z0)(r,a);break;case eB.qS.NextSiblingOfActiveTabNode:case eB.B8.NextSiblingOfActiveTabNode:await n(r),c=(0,m.rL)(r,a),o[e.id]=Object.assign(Object.assign({},o[e.id]),{ancestralNodeIds:ns(r,{includeOpenerTabNode:!1})});break;case eB.qS.FirstChildOfActiveTabNode:case eB.B8.FirstChildOfActiveTabNode:await n(r),c=r.index+1,o[e.id]=Object.assign(Object.assign({},o[e.id]),{ancestralNodeIds:ns(r,{includeOpenerTabNode:!0})});break;case eB.qS.LastChildOfActiveTabNode:case eB.B8.LastChildOfActiveTabNode:await n(r),c=(0,m.rL)(r,a),o[e.id]=Object.assign(Object.assign({},o[e.id]),{ancestralNodeIds:ns(r,{includeOpenerTabNode:!0})})}c?(c>e.index&&(c+=1),t.log("Move the new tab node by the setting.",{fromIndex:e.index,toIndex:c,newTabPositionSetting:l}),await (0,b.ie)([{id:e.id,index:e.index}],c,!0)):t.log("No need to move the new tab node by the setting.")}else t.error("Could not find active tab node. This should not happen. Check the code.",(0,m.Op)(a))}}e.active&&(o[e.id]=Object.assign(Object.assign({},o[e.id]),{isRead:e.active}))}t.log("Call buildNodesTree nodes new properties:",o),await (0,p.O)({oldNodes:a,fixMissingParents:!0,nodesWithNewProperties:o})}catch(e){t.error(e)}finally{t.end("End of handleChromeTabCreatedEvent."),t.ge()}}var nB=o(86160);let nW={bold:!1,italic:!1,underline:!1,lineThrough:!1},nY={borderOpacityPercentage:100,backgroundOpacityPercentage:100,textOpacityPercentage:100,iconOpacityPercentage:100};function nz(e,t,o,n,a){let r="unread"===a?o6.OZ.TextStyleBoldUnread:o6.OZ.TextStyleBoldUnloaded,i="unread"===a?o6.OZ.TextStyleItalicsUnread:o6.OZ.TextStyleItalicsUnloaded,d="unread"===a?o6.OZ.TextStyleUnderlineAndLineThroughUnread:o6.OZ.TextStyleUnderlineAndLineThroughUnloaded,s="unread"===a?o6.OZ.TextAndIconColorUnread:o6.OZ.TextAndIconColorUnloaded,c="unread"===a?o6.OZ.BorderOpacityUnread:o6.OZ.BorderOpacityUnloaded,l="unread"===a?o6.OZ.BackgroundOpacityUnread:o6.OZ.BackgroundOpacityUnloaded,u="unread"===a?o6.OZ.TextOpacityUnread:o6.OZ.TextOpacityUnloaded,b="unread"===a?o6.OZ.IconOpacityUnread:o6.OZ.IconOpacityUnloaded,{bold:g,italic:p,underline:h,lineThrough:m}=o;g?e.newStyles=Object.assign(Object.assign({},e.newStyles),{[r]:"bold"}):e.removedStyles.push(r),p?e.newStyles=Object.assign(Object.assign({},e.newStyles),{[i]:"italic"}):e.removedStyles.push(i),h||m?e.newStyles=Object.assign(Object.assign({},e.newStyles),{[d]:(h?"underline":"")+" "+(m?"line-through":"")}):e.removedStyles.push(d),t?e.newStyles=Object.assign(Object.assign({},e.newStyles),{[s]:t}):e.removedStyles.push(s),100!==n.borderOpacityPercentage?e.newStyles=Object.assign(Object.assign({},e.newStyles),{[c]:(n.borderOpacityPercentage/100).toString()}):e.removedStyles.push(c),100!==n.backgroundOpacityPercentage?e.newStyles=Object.assign(Object.assign({},e.newStyles),{[l]:(n.backgroundOpacityPercentage/100).toString()}):e.removedStyles.push(l),100!==n.textOpacityPercentage?e.newStyles=Object.assign(Object.assign({},e.newStyles),{[u]:(n.textOpacityPercentage/100).toString()}):e.removedStyles.push(u),100!==n.iconOpacityPercentage?e.newStyles=Object.assign(Object.assign({},e.newStyles),{[b]:(n.iconOpacityPercentage/100).toString()}):e.removedStyles.push(b)}var nF=o(77638);class nj extends nF.X{nativeAddListener(e){chrome.runtime.onMessage.addListener(e)}nativeRemoveListener(e){chrome.runtime.onMessage.removeListener(e)}provideCallback(e){return e}}let nR=new nj("chromeMessageListenerManager"),nU=(0,d.tZ)(!0,d.W4.message,["sidePanel","chrome.runtime.onMessage"]);(0,b.getChromeCurrentWindowId)().then(e=>r=e);var n$=o(28329);let nG={NextAtRootLevel:"Next at root level",SameLevelSibling:"Same level sibling",AsFirstChild:"As first child",AsLastChild:"As last child"};function nZ(e){let{theme:t,nodesTreeStyles:o,createNewTabNodeFixedButtonSettings:n}=e,a=s.store.licenseCache.isValidProEntitlement,r=(0,c.useCallback)(async e=>{var t;let o=Object.entries(n.newTabNodePositionModifierKeysMappings),r=a?eM(e,e=>{var t;return null===(t=Object.entries(n.newTabNodePositionModifierKeysMappings).find(([,t])=>t===e))||void 0===t?void 0:t[0]}):null===(t=o.find(([,e])=>e===eL.A.None))||void 0===t?void 0:t[0],i=(0,m.Id)(s.store.nodesTree.nodes);i&&r&&await (0,eD.S)(u.ru,r,i)},[n.newTabNodePositionModifierKeysMappings,a]);return(0,q.Y)(k.Ay,{theme:L(t),children:(0,q.Y)(eI.A,{mouseEnterDelay:1,title:(0,q.FD)(q.FK,{children:["New tab positions with modifier keys:",(0,q.Y)("ul",{className:"list-disc ml-4",children:[e_.z2.NextAtRootLevel,e_.z2.SameLevelSibling,e_.z2.AsFirstChild,e_.z2.AsLastChild].map((e,t)=>{let o=n.newTabNodePositionModifierKeysMappings[e];return(0,q.FD)("li",{className:"ml-2",children:[nG[e],": ",ot(o),!a&&o!==eL.A.None&&(0,q.Y)(tF,{size:"small",tooltipText:a?void 0:e=>(0,q.FD)(q.FK,{children:["You need ",e," license to unlock options."]})})]},e)})})]}),children:(0,q.Y)(I.P.div,{className:(0,S.A)("new-tab-button"),initial:{marginTop:-1*n.buttonStyles.height,opacity:0},animate:{marginTop:0===o.tabNodeStyles.nodesGap?-n.buttonStyles.borderWidth:0,opacity:1},exit:{marginTop:-1*n.buttonStyles.height,opacity:0},style:{height:n.buttonStyles.height+n.buttonStyles.borderWidth,borderTopWidth:n.buttonStyles.borderWidth,borderLeftWidth:0===n.buttonStyles.borderRadiusTopLeft?0:n.buttonStyles.borderWidth,borderTopLeftRadius:n.buttonStyles.borderRadiusTopLeft,borderRightWidth:0===n.buttonStyles.borderRadiusTopRight?0:n.buttonStyles.borderWidth,borderTopRightRadius:n.buttonStyles.borderRadiusTopRight},onClick:r,children:(0,q.Y)(n$.A,{})})})})}function nH(e){var t,o;let n=(0,i.U)(!0,d.W4.reactComponent,[nH.name]),{chromeWindowId:a,theme:l,themeSettings:g}=e,h=s.store.nodesTree.useNodes();!function e(){let t=(0,i.U)(!0,d.W4.reactHook,[oR,e.name]);(0,c.useEffect)(()=>{let e=async(e,o)=>{if(t.logP("Command triggered",{command:e}),!o.id)return;let n=(0,m.zv)(o.id,s.store.nodesTree.nodes);if(n)switch(e){case oM.createNewTabAtTheSameLevel:await (0,eD.S)(u.ru,e_.z2.SameLevelSibling,n);break;case oM.createNewTabAsAChild:await (0,eD.S)(u.ru,e_.z2.AsFirstChild,n);break;case oM.addToBranch:if(!s.store.licenseCache.isValidProEntitlement)return;let a=[];if(0===(a=0===(a=eK()).length?[n]:a).length)return;await tN(a);break;case oM.duplicateActiveTab:await e1([n.id])}};return chrome.commands.onCommand.addListener(e),()=>{chrome.commands.onCommand.removeListener(e)}},[t])}(),function e(){let t=(0,i.U)(!0,d.W4.reactHook,[oR,e.name]),o=s.store.options.nodesTreeSettings.useMiddleClickCloseTabNodeSetting(),n=s.store.options.nodesTreeSettings.useMiddleClickTreeWhiteSpaceCreateNewTabNodeSettings(),a=(0,c.useMemo)(()=>o||n.enabled,[o,n.enabled]),r=(0,c.useRef)(async function(e){if(1===e.button)return e.preventDefault(),!1}).current;(0,c.useEffect)(()=>(t.renderP("useEffect",{enabled:a}),a&&document.addEventListener("mousedown",r,!1),()=>{a&&document.removeEventListener("mousedown",r,!1)}),[a,r,t])}();let[v,y]=(0,c.useState)(!1),k=(0,c.useRef)(null),{customizedTheme:T}=null!==(t=function e(t=!1,o=document.body){let n=(0,i.U)(!0,d.W4.reactHook,[e.name]),[a,r]=(0,c.useState)(),l=s.store.options.useCustomizedTabNodesTreeThemeSettings(),u=function(){let[e,t]=(0,c.useState)();return(0,c.useEffect)(()=>{let e=(e,o,n)=>{"previewNodesTheme"===e.type&&t(e.previewNodesTheme)};return chrome.runtime.onMessage.addListener(e),()=>{chrome.runtime.onMessage.removeListener(e)}},[]),e}(),b=s.store.licenseCache.useIsValidProEntitlement();return(0,c.useEffect)(()=>{if(t)return;let e=l.enabled&&b,a=null!=u?u:e?l.savedThemes.find(e=>e.name===l.selectedThemeName):void 0;if(n.logPT("useEffect[customizedThemeOptions, previewingNodesTheme, disabled, targetElem]",{disabled:t,customizedTabNodesTreeThemePreview:u,customizedTabNodesTreeThemeSettings:l,selectedNodesTreeTheme:a}),a){let e=document.createElement("style");e.id=o7,e.textContent=a?ne(o7,a):"",document.head.appendChild(e),o.classList.add(o7),r({themeClass:o7,customizedTheme:a,targetElem:o})}let i=(0,o4.wY)(o);return s.store.nodesTree.setStyles(i),()=>{var e;null===(e=document.querySelector(`#${o7}`))||void 0===e||e.remove(),o.classList.remove(o7)}},[l,u,t,o,n,b]),a}(!1))&&void 0!==t?t:{},N=s.store.nodesTree.useStyles(),C=N.essentialConstructTreeStyles,A=s.store.options.nodesTreeSettings.useCreateNewTabNodeFixedButtonSettings();!function e(t){let o=(0,i.U)(!0,d.W4.reactHook,[e.name]),n=s.store.licenseCache.useIsValidProEntitlement();(0,c.useEffect)(()=>{o.logPT("useEffect"),t&&Object.entries(w.Sx).forEach(([e,a])=>{let r,i;switch(a){case w.Sx.Dark:r=t.darkTheme;break;case w.Sx.Light:r=t.lightTheme}r&&(i={cssStyleSheetRuleSelector:"#tab-nodes-tree",updateCssStyleRuleSelector:`.${(0,o4.JH)(a)}`,newStyles:{},removedStyles:[]},n?(nz(i,r.tabNodeTextAndIconColorUnread,r.tabNodeTextStyleUnread,r.tabNodeOpacityStylesUnread,"unread"),nz(i,r.tabNodeTextAndIconColorUnloaded,r.tabNodeTextStyleUnloaded,r.tabNodeOpacityStylesUnloaded,"unloaded")):(nz(i,null,nW,nY,"unread"),nz(i,null,nW,nY,"unloaded"))),o.logP(i),i&&(Object.keys(i.newStyles).length>0||i.removedStyles.length>0)&&((0,nB.d)(i),s.store.nodesTree.setStyles((0,o4.wY)(document.body)))})},[n,t,null==t?void 0:t.darkTheme,null==t?void 0:t.lightTheme,o])}(g);let{pinnedTabNodes:O,nonPinnedNodes:I}=(0,c.useMemo)(()=>{let e=null==h?void 0:h.filter(e=>(0,m.q8)(e)&&e.pinned),t=null==h?void 0:h.filter(t=>!(null==e?void 0:e.some(e=>e.id===t.id)));return{pinnedTabNodes:e,nonPinnedNodes:t}},[h]);(0,c.useEffect)(()=>(oG.Ss.addListener(o$._S.TAB_NODES_TREE,void 0,async(e,t)=>{t&&s.store.options.setOptions(t)},{ifPrintLog:!0,logTags:[nH.name],onlyPrintOnChange:!0}),nR.addListener(o$.fA.SIDE_PANEL,void 0,(e,t,o)=>(function(e,t,o){let n;let a=()=>nU.receiveP("received message and process",{message:e,sender:t,currentWindowId:r});switch(null==e?void 0:e.type){case"reloadSidePanel":window.location.reload();break;case"probeSidePanelOpen":if(a(),r!==e.windowId)return!1;return n={type:"completed"},nU.sendP("reply message",{response:n}),o(n),!0;case"toggleAllChromeEventListeners":if(a(),r!==e.windowId)return;return s.store.chromeEventListeners.toggleAllListeners(e.enabled),n={type:"completed"},nU.sendP("reply message",{response:n}),o(n),!0;case"buildNodesTree":if(a(),r!==e.windowId)return;return(async()=>{await (0,p.O)(e.buildNodesTreeArguments).then(()=>{n={type:"completeBuildNodesTree"},nU.sendP("reply message",{response:n}),o(n)})})(),!0;case"expandCollapseGroupNode":if(a(),r!==e.windowId)return;return(async()=>{let t=(0,m.j7)(s.store.nodesTree.nodes,e.groupId);if(nU.logT("groupNode",t),t&&t.areChildrenExpanded!==e.expand){let a=(0,eb.WB)(s.store.nodesTree.nodes,t,!0);await (0,p.O)({oldNodes:a,nodesWithNewProperties:e.buildNodesTreeArguments}),o(n={type:"completed"})}})(),!0;case"debug":a();break;default:if(function(e,t,o,n){let a=n.logger,r=()=>a.receiveP("received msg and process",{message:e,sender:t});switch(e.type){case"setLicenseCacheState":r(),s.store.licenseCache.setLicenseCache(e.license);break;case"disableCustomizedThemeOptions":r(),(async()=>{await (0,t_.pu)()})()}return!1}(e,t,0,{logger:nU}))return!0}})(e,t,o),void 0),()=>{oG.Ss.removeListener(o$._S.TAB_NODES_TREE),nR.removeListener(o$.fA.SIDE_PANEL)}),[]),function e(t,o){let n=(0,i.U)(!0,d.W4.reactHook,[oR,e.name]);(0,c.useEffect)(()=>{o?n.logP("Disabled. Skip.",{disabled:o,nodes:t}):(n.logP("Save nodes to storage.",{disabled:o,nodes:t}),(async()=>{let o=await (0,b.getChromeCurrentWindowId)();o&&oU(o,t,`Nodes data changed. (${e.name} hook)`,n)})())},[t,o,n])}(h,!1),function e(t){let o=(0,i.U)(!0,d.W4.reactHook,e.name);(function(){let e=(0,d.tZ)(!0,d.W4.chromeEvent,"chrome.tabs.onReplaced");nu[nC]&&chrome.tabs.onReplaced.removeListener(nu[nC]),nu[nC]=(t,o)=>{e.logP({removedTabId:o,addedTabId:t}),function(e,t){let o=s.store.nodesTree.nodes,n=(0,nn.E)(o,{[t]:e});s.store.nodesTree.setNodes(n)}(t,o)},chrome.tabs.onReplaced.addListener(nu[nC])})(),(0,c.useEffect)(()=>(nu[nx]&&chrome.tabs.onCreated.removeListener(nu[nx]),nu[nx]=async e=>{e.windowId===t&&nD(nx,{extraTags:["chrome.tabs.onCreated"],payload:{tab:e},run:async t=>{await nM(e)}})},chrome.tabs.onCreated.addListener(nu[nx]),nu[nw]&&chrome.tabs.onUpdated.removeListener(nu[nw]),nu[nw]=(e,o,n)=>{n.windowId===t&&nD(nw,{extraTags:["chrome.tabs.onUpdated"],payload:{tabId:e,tab:(0,d.mm)(n),changeInfo:o},disableLog:!(0,u.o3)(n.title),run:async t=>{if(void 0!==o.groupId)await np({fixMissingParents:!0});else{if("unloaded"===o.status&&n.active){t.log("Skip updating tab node because it is unloaded and active.",{tabId:e,changeInfo:o,tab:n});return}!function(e,t,o){let n=function e(t,o,n,a){var r,i;let s=(0,d.tZ)(null!==(i=null===(r=null==n?void 0:n.url)||void 0===r?void 0:r.startsWith("https://www.reddit.com/r/ICPTrader"))&&void 0!==i&&i&&!0,d.W4.action,e.name);s.gP({nodes:t,chromeTabChangeInfo:(0,d.mm)(n),tab:(0,d.mm)(a)});let c=t.map(e=>{if((0,m.q8)(e)&&e.id===o){let o=(0,m.SV)(t,e,n,a);return s.log("updated tab node",Object.assign({},o)),o}return e});return s.log({newNodes:(0,m.Op)(c)}),s.ge(),c}(s.store.nodesTree.nodes,e,t,o);s.store.nodesTree.setNodes(n)}(e,o,n)}}})},chrome.tabs.onUpdated.addListener(nu[nw]),nu[nS]&&chrome.tabs.onRemoved.removeListener(nu[nS]),nu[nS]=async(e,o)=>{if(o.isWindowClosing){nL(nA,"Window is closing. No need to save removed node.",{tabId:e,removeInfo:o});return}if(o.windowId===t){if(nb(nS)){nL(nA,{tabId:e,removeInfo:o});return}nL(nA,"Debouncing remove tab node.",{tabId:e,removeInfo:o}),nm(e,o)}},chrome.tabs.onRemoved.addListener(nu[nS]),nu[nN]&&chrome.tabs.onMoved.removeListener(nu[nN]),nu[nN]=(e,o)=>{o.windowId===t&&nD(nN,{extraTags:["chrome.tabs.onMoved"],payload:{tabId:e,moveInfo:o},run:async t=>{await ni(e,o)}})},chrome.tabs.onMoved.addListener(nu[nN]),nu[nk]&&chrome.tabs.onActivated.removeListener(nu[nk]),nu[nk]=e=>{if(e.windowId===t){if(nm.isPending()){nL(nT,"Debounce removing tab node is pending. Skip since it will take care of activating tab node.",e);return}nD(nk,{extraTags:[nT.logTags],payload:{tabActiveInfo:e},run:async t=>{nh(e.tabId)}})}},chrome.tabs.onActivated.addListener(nu[nk]),nu[nf]&&chrome.tabs.onAttached.removeListener(nu[nf]),nu[nf]=(e,o)=>{o.newWindowId===t&&nD(nf,{extraTags:["chrome.tabs.onAttached"],payload:{tabId:e,attachInfo:o},run:async e=>{await np({fixMissingParents:!0})}})},chrome.tabs.onAttached.addListener(nu[nf]),nu[ny]&&chrome.tabs.onDetached.removeListener(nu[ny]),nu[ny]=(e,o)=>{o.oldWindowId===t&&nD(ny,{extraTags:["chrome.tabs.onDetached"],payload:{tabId:e,detachInfo:o},run:async e=>{await np({fixMissingParents:!0})}})},chrome.tabs.onDetached.addListener(nu[ny]),nu[nO]&&chrome.tabGroups.onCreated.removeListener(nu[nO]),nu[nO]=e=>{e.windowId===t&&nD(nO,{extraTags:["chrome.tabGroups.onCreated"],payload:{group:e},run:async t=>{let o={},n=await tu.load(),a=(0,m.j7)(n,e.id,!0);a&&(t.log("found removed group node, remove it from ditchedTreeNodesStorage. Don't trigger buildNodesTree",{removedNodes:n}),await tu.save(n),o[e.id]=Object.assign({},(0,f.cJ)(a,["id"]))),await np({nodesWithNewProperties:o})}})},chrome.tabGroups.onCreated.addListener(nu[nO]),nu[nI]&&chrome.tabGroups.onUpdated.removeListener(nu[nI]),nu[nI]=e=>{e.windowId===t&&nD(nI,{extraTags:["chrome.tabGroups.onUpdated"],payload:{group:e},run:async e=>{await np({})}})},chrome.tabGroups.onUpdated.addListener(nu[nI]),nu[nP]&&chrome.tabGroups.onRemoved.removeListener(nu[nP]),nu[nP]=e=>{e.windowId===t&&nD(nP,{extraTags:["chrome.tabGroups.onRemoved"],payload:{group:e},run:async t=>{await (0,nd.H)(s.store.nodesTree.nodes,[e.id]),await np({fixMissingParents:!0})}})},chrome.tabGroups.onRemoved.addListener(nu[nP]),nu[n_]&&chrome.tabGroups.onMoved.removeListener(nu[n_]),nu[n_]=e=>{e.windowId===t&&nD(n_,{extraTags:["chrome.tabGroups.onMoved"],run:async e=>{await np({fixMissingParents:!0})}})},chrome.tabGroups.onMoved.addListener(nu[n_]),()=>{o.logPT("Dispose effect.","Remove all chrome event listeners.",nu),chrome.tabs.onCreated.removeListener(nu[nx]),chrome.tabs.onUpdated.removeListener(nu[nw]),chrome.tabs.onRemoved.removeListener(nu[nS]),chrome.tabs.onMoved.removeListener(nu[nN]),chrome.tabs.onActivated.removeListener(nu[nk]),chrome.tabs.onAttached.removeListener(nu[nf]),chrome.tabs.onDetached.removeListener(nu[ny]),chrome.tabGroups.onCreated.removeListener(nu[nO]),chrome.tabGroups.onUpdated.removeListener(nu[nI]),chrome.tabGroups.onRemoved.removeListener(nu[nP]),chrome.tabGroups.onMoved.removeListener(nu[n_])}),[o,t])}(a),function e(t){let o=(0,i.U)(!0,d.W4.reactHook,[oR,e.name]),n=null==t?void 0:t.find(e=>(0,m.q8)(e)&&e.active);(0,c.useEffect)(()=>{if(o.gP({activeTabNode:(0,d.mm)(n)}),!n){o.log("no active tab node"),o.ge();return}if("loading"===n.status){o.log('Active is found but is in loading state. It is likely to be new open tab. The "scroll to view" behavior is handled in useNodesTransition.onRest.'),o.ge();return}let e=(0,m.Cy)(n);if(!e){o.log("Active tab node element is not found."),o.ge();return}if((null==e?void 0:e.dataset.transitionState)==="onStart"){o.log('Active is found but is in transition state. It is likely to be new open tab. The "scroll to view" behavior is handled in useNodesTransition.onRest.'),o.ge();return}(0,ee.Wq)(e),o.ge()},[null==n?void 0:n.uuid,o])}(h);let P=!!(h&&O&&I&&void 0!==C.tabNodeContentBorderWidth),_=(0,c.useCallback)(e=>y(e),[]),E=(0,c.useCallback)(async e=>{var t;if(1===e.button){let o=s.store.options.nodesTreeSettings.middleClickTreeWhiteSpaceCreateNewTabNodeSettings,n=s.store.licenseCache.isValidProEntitlement;if(o.enabled){let a=Object.entries(o.newTabNodePositionModifierKeysMappings),r=n?eM(e,e=>{var t;return null===(t=a.find(([,t])=>t===e))||void 0===t?void 0:t[0]}):null===(t=a.find(([,e])=>e===eL.A.None))||void 0===t?void 0:t[0],i=(0,m.Id)(s.store.nodesTree.nodes);if(!i||!r)return;await (0,eD.S)(u.ru,r,i)}}},[]),L=function(e,t,o,n){let a=(0,c.useRef)();return(0,c.useEffect)(()=>{e&&(null==e?void 0:e.length)>0&&void 0===a.current&&(a.current=e.length)},[e]),(0,X.pn)(null!=e?e:[],{config:(e,t,o)=>e=>"transform"===e?X.$W.gentle:{duration:200},update:e=>({height:(0,m.mI)(e)?o:t}),from:e=>({height:s.store.nodesTree.treeFinishedInitialTransition?0:(0,m.mI)(e)?o:t,opacity:0,transform:"translate3d(25%, 0px, 0px)"}),enter:e=>({height:(0,m.mI)(e)?o:t,opacity:1,transform:"translate3d(0%, 0px, 0px)"}),leave:e=>({height:(0,m.q8)(e)&&!e.isExpanded?t:n,opacity:0,transform:"translate3d(25%, 0px, 0px)",config:{duration:200}}),keys:null==e?void 0:e.map((e,t)=>e.uuid),onStart:(e,t,o)=>{if((0,m.q8)(o)&&o.active){let e=(0,m.Cy)(o);e&&(e.dataset.transitionState="onStart")}},onRest:(e,t,o)=>{if(void 0===a.current||s.store.nodesTree.treeFinishedInitialTransition||(a.current=a.current-1,0===a.current&&s.store.nodesTree.setTreeFinishedInitialTransition(!0)),(0,m.q8)(o)&&o.active){let e=(0,m.Cy)(o);e&&(e.dataset.transitionState="onRest",(0,ee.Wq)(e))}}})}(I,C.tabNodeHeight,C.groupNodeHeight,null!==(o=C.tabNodeContentBorderWidth)&&void 0!==o?o:1);return n.renderP({nodes:h,nodeContentBorderWidth:C.tabNodeContentBorderWidth,theme:l,customizedTheme:T},"tabNodesTreeRef:",k),(0,q.FD)(q.FK,{children:[(0,q.Y)(o3,{}),void 0!==C.tabNodeContentBorderWidth&&(0,q.FD)("div",{ref:k,id:"tab-nodes-tree",className:(0,S.A)({underneath:v}),onMouseUp:e=>E(e),children:[P&&(0,q.Y)(om,{tabNodes:O,pinnedTabNodeHeight:C.pinnedTabNodeHeight,pinnedTabNodeBorderWidth:C.pinnedTabNodeBorderWidth,pinnedTabNodeWidth:C.pinnedTabNodeWidth}),(0,q.Y)("div",{id:"tab-nodes-container",style:{zIndex:O?O.length+1:void 0,marginBottom:A.enabled?A.buttonStyles.height+A.buttonStyles.borderWidth:void 0},children:P&&L((e,t,o,n)=>(0,q.Y)(ol,{transitionState:o,enterExistTransitionStyle:e,treeNodeIndex:n,node:t}))}),(0,q.Y)(x.N,{children:A.enabled&&(0,q.Y)(nZ,{theme:l,nodesTreeStyles:N,createNewTabNodeFixedButtonSettings:A})}),(0,q.Y)(ow,{}),(0,q.Y)(oV,{}),(0,q.Y)(oE,{})]}),(0,q.Y)(oj,{onModalOpenChange:_})]})}function nq(e){var t;let{chromeWindowId:o}=e,n=(0,i.U)(!0,d.W4.reactComponent,[nq.name]),a=s.store.nodesTree.useNodesDataLoaded(),[r,p]=(0,c.useState)(),{theme:h,themeSettings:m}=null!==(t=(0,l.K)(nq.name))&&void 0!==t?t:{},v=(0,c.useCallback)(async()=>{var e;p(void 0);let t=await chrome.tabs.query({url:u.o7});(null===(e=t[0])||void 0===e?void 0:e.id)?await (0,b.Nz)(t[0].id):await chrome.tabs.create({url:u.o7,active:!0})},[]),w=(0,c.useMemo)(()=>(0,f.sg)({delay:0},async()=>{g.s.pushAsync({logger:n,run:async()=>{await y([nH.name,"Initialization useEffect"],p)}})}),[n]);return(0,c.useEffect)(()=>(w(),()=>{w.isPending()&&(n.logP("debounceInitNodesTree is pending. Cancel it."),w.cancel())}),[w,n]),(0,q.FD)(q.FK,{children:[(0,q.Y)(x.N,{children:r&&(0,q.Y)(K,{theme:h,restoringTabNodesState:r,onContinueButtonClick:()=>v(),onSuccess:()=>p(void 0)})}),a&&(0,q.Y)(nH,{theme:h,themeSettings:m,chromeWindowId:o})]})}},61741:(e,t,o)=>{o.d(t,{JH:()=>u,eW:()=>b,og:()=>l,wY:()=>g,yi:()=>c});var n=o(98366),a=o(37390);o(87521);var r=o(38017);o(2904);var i=o(86160),d=o(93034),s=o(83928);function c(e,t){let o=t/100,{colorStops:a,angle:r}=e,i=[],d=[],s=a.reduce((e,t,a)=>(i.push(`${t.colorHex} ${t.percentage}%`),d.push(`${(0,n.FO)(t.colorHex,o)} ${t.percentage}%`),e),{propertyNameAndValue:{},colorStops:[],linearGradient:"",linearGradientLightenOrDarken:"",properties:"",transition:""});return s.transition=Object.keys(s.propertyNameAndValue).map(e=>`${e} 0.3s ease`).join(", "),s.linearGradient=`linear-gradient(${r}deg, ${i.join(", ")})`,s.linearGradientLightenOrDarken=`linear-gradient(${r}deg, ${d.join(", ")})`,s}function l(e){let{colorStops:t,angle:o}=e,n=t.reduce((e,t,o)=>{var n;return{background:(null!==(n=e.background)&&void 0!==n?n:"")+`, ${t.colorHex} ${t.percentage}%`}},{});return`linear-gradient(${o}deg${n.background})`}function u(e){return`theme-${e}`}function b(e){return e===r.Sh.System?(0,a.ud)()?r.Sx.Dark:r.Sx.Light:e}function g(e){let t=(0,d.tZ)(!0,d.W4.script,g.name),o=getComputedStyle(e).getPropertyValue(s.OZ.Height),n=getComputedStyle(e).getPropertyValue(s.mD.Height),r=getComputedStyle(e).getPropertyValue(s.OZ.PinnedTabNodeHeight),c=getComputedStyle(e).getPropertyValue(s.OZ.PinnedTabNodeWidth),l=getComputedStyle(e).getPropertyValue(s.OZ.PinnedTabNodeBorderWidth),u=getComputedStyle(e).getPropertyValue("--tab-node-content-border-width"),b=getComputedStyle(e).getPropertyValue("--nodes-gap"),p=(0,i.b)(o,0),h=(0,i.b)(n,0),m=(0,i.b)(r,32),v=(0,i.b)(c,32),f=(0,i.b)(l,0),y=(0,i.b)(u,void 0),x=(0,i.b)(b,0);function w(t){let o=getComputedStyle(e).getPropertyValue(t);return(0,a.Et)(o)?parseFloat(o):void 0}let k=w(s.OZ.TextOpacityUnread),T={essentialConstructTreeStyles:{tabNodeHeight:p,groupNodeHeight:h,tabNodeContentBorderWidth:y,pinnedTabNodeHeight:m,pinnedTabNodeWidth:v,pinnedTabNodeBorderWidth:f},tabNodeStyles:{nodesGap:x,expandedMarginTop:x>0?0:-((null!=y?y:0)*1),collapsedMarginTop:-p},tabNodeStatusOpacityStyles:{unreadTabNodeTextOpacity:k,unreadTabNodeIconOpacity:w(s.OZ.IconOpacityUnread),unloadedTabNodeTextOpacity:w(s.OZ.TextOpacityUnloaded),unloadedTabNodeIconOpacity:w(s.OZ.IconOpacityUnloaded)}};return t.logP(Object.assign({tabNodeHeightStr:o,pinnedTabNodeContainerWidthStr:c,tabNodeContentBorderWidthStr:u,nodesGapStr:b},T)),T}},98366:(e,t,o)=>{function n(e){let t=parseInt(e.substring(1),16);return(299*(t>>16&255)+587*(t>>8&255)+114*(t>>0&255))/1e3<128}function a(e,t,o){if(!/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(e))return e;let n=parseInt(e.replace(/^#/,""),16),a=n>>16&255,r=n>>8&255,i=255&n;t<0?(a=Math.round(a*(1+(t=Math.max(-1,Math.min(0,t))))),r=Math.round(r*(1+t)),i=Math.round(i*(1+t))):(a=Math.round(a+(255-a)*(t=Math.min(1,t))),r=Math.round(r+(255-r)*t),i=Math.round(i+(255-i)*t)),a=Math.max(0,Math.min(255,a)),r=Math.max(0,Math.min(255,r)),i=Math.max(0,Math.min(255,i));let d="";return o&&(d=Math.round(255*(o=Math.max(0,Math.min(1,o)))).toString(16).toUpperCase()),`#${(16777216|a<<16|r<<8|i).toString(16).slice(1)}${d}`}o.d(t,{FO:()=>a,sN:()=>n}),o(65640)},44264:(e,t,o)=>{let n;o.d(t,{f:()=>s,initLicense:()=>i});var a=o(93034),r=o(87521);async function i(){let e=(0,a.tZ)(!0,a.W4.script,[window.location.pathname,i.name]);await r.store.licenseCache.loadLicenseIntoCacheFromStorage(),e.logP("Connect to service worker");let t=await chrome.windows.getCurrent();(n=chrome.runtime.connect({name:s(t,window)})).onMessage.addListener((e,t)=>{d(e,t)});let o=()=>{chrome.runtime.lastError&&e.falseP(chrome.runtime.lastError.message,{port:n}),null==n||n.onDisconnect.removeListener(o)};n.onDisconnect.addListener(o)}async function d(e,t){(0,a.tZ)(!0,a.W4.script,[window.location.pathname,d.name]).receiveP("Receive message.",{message:e,port:t}),null==e||e.type}function s(e,t){return`[${e.id}]${t.location.pathname}`}},86160:(e,t,o)=>{o.d(t,{b:()=>a,d:()=>r});var n=o(93034);function a(e,t){if("string"==typeof e){if(!e)return t;if(e.endsWith("rem"))return parseFloat(e)*parseFloat(getComputedStyle(document.documentElement).fontSize);if(!e.endsWith("px"))return parseFloat(e);{let o=parseFloat(e);return isNaN(o)?t:o}}return e}function r(e){let t=(0,n.tZ)(!0,n.W4.script,r.name);t.gP();try{let o;t.log("Update stylesheet.",e);let{newStyles:n,removedStyles:a,cssStyleSheetRuleSelector:r,updateCssStyleRuleSelector:i}=e;for(let e of Array.from(document.styleSheets))if(e instanceof CSSStyleSheet&&Array.from(e.cssRules).find(e=>e instanceof CSSStyleRule&&e.selectorText===r)){let r=Array.from(e.cssRules).find(e=>e instanceof CSSStyleRule&&e.selectorText===i);r&&(o=e,Object.entries(n).forEach(([o,n])=>{t.log("Add new styles.",{prop:o,value:n,sheet:e}),r.style.setProperty(o,n)}),a.forEach(o=>{t.log("Remove styles",{prop:o,sheet:e}),r.style.removeProperty(o)}));break}o||t.failure("Cannot find stylesheet.")}catch(e){t.error(e)}finally{t.ge()}}},42076:(e,t,o)=>{e.exports=o.p+"096cbd198ef3258549d0.svg"},97558:(e,t,o)=>{e.exports=o.p+"00cab41275ce71316277.svg"},66515:(e,t,o)=>{e.exports=o.p+"6f96d597dbddab56d0c1.svg"},84034:(e,t,o)=>{e.exports=o.p+"bf04f0cac074d8644cf0.svg"}}]);