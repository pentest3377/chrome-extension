"use strict";(self.webpackChunktab_nodes_tree_extension=self.webpackChunktab_nodes_tree_extension||[]).push([[506,864,39],{84590:(e,t,n)=>{n.d(t,{h:()=>o});let o=function(e){return e.FREE="FREE",e.PLUS="PLUS",e.PRO="PRO",e}({})},44788:(e,t,n)=>{n.d(t,{w:()=>a});var o=n(93034),r=n(37390);let i=(0,o.tZ)(!0,o.W4.message,[(0,r.SG)(),a.name]);async function a(e,t){let n=i;e.timestamp=new Date().getTime().toString();let{logTags:r,onLogFailure:a,printLog:d=!0}=null!=t?t:{},l=r?Array.isArray(r)?r:[r]:void 0;l&&(n=(0,o.tZ)(i.ifPrint,i.tagStyle,[...l,...i.prefixTags,e.timestamp])),d&&n.sendP("Send message.",e);try{let t=await chrome.runtime.sendMessage(e);return d&&n.receiveP("Received response.",t),t}catch(e){a?a(e):n.failureP("Error sending message.",e);return}}},7426:(e,t,n)=>{n.d(t,{EJ:()=>i,qt:()=>r});let o=function(e){return e.BlueSky="Blue Sky",e}({}),r={name:"Default",treeBackgroundColor:"#ffffff",nodeStartPadding:0,nodesGap:0,nodeBorderWidth:1,nodeBorderColor:"#e1e1e1",nodeBorderLeftTopRadius:0,nodeBorderLeftBottomRadius:0,tabNodeHeight:32,groupNodeHeight:32,tabNodeBackgroundColor:{angle:135,colorStops:[{colorHex:"#ffffff",percentage:0},{colorHex:"#ffffff",percentage:100}]},tabNodeBackgroundColorHover:{angle:135,colorStops:[{colorHex:"#f3f3f3",percentage:0},{colorHex:"#f3f3f3",percentage:100}]},tabNodeBackgroundColorActive:{angle:135,colorStops:[{colorHex:"#dedede",percentage:0},{colorHex:"#dedede",percentage:100}]},tabNodeBackgroundColorSelected:{angle:135,colorStops:[{colorHex:"#e8e8e8",percentage:0},{colorHex:"#e8e8e8",percentage:100}]},tabNodeBackgroundColorActiveHoverBrightnessPercentage:20,tabNodeBackgroundColorSelectedHoverBrightnessPercentage:20,tabNodeTextStyleActive:{bold:!1,italic:!1,underline:!1,lineThrough:!1},tabNodeTextStyle:{bold:!1,italic:!1,underline:!1,lineThrough:!1},tabNodeTextStyleUnread:{bold:!1,italic:!1,underline:!1,lineThrough:!1},tabNodeTextStyleUnloaded:{bold:!1,italic:!1,underline:!1,lineThrough:!1},tabNodeTextAndIconColor:"#000000",tabNodeTextAndIconColorHover:"#000000",tabNodeTextAndIconColorActive:"#000000",tabNodeTextAndIconColorSelected:"#000000",tabNodeTextAndIconColorUnread:null,tabNodeTextAndIconColorUnloaded:null,tabNodeStylesUnloadedEnabled:!1,tabNodeOpacityStylesUnloaded:{borderOpacityPercentage:75,backgroundOpacityPercentage:50,textOpacityPercentage:50,iconOpacityPercentage:100},tabNodeStylesUnreadEnabled:!1,tabNodeOpacityStylesUnread:{borderOpacityPercentage:100,backgroundOpacityPercentage:100,textOpacityPercentage:100,iconOpacityPercentage:100},nodeDragDropAreaBorderWidth:2,nodeDragDropAreaBorderColor:"#000000"},i={name:o.BlueSky,treeBackgroundColor:"#52bfff42",nodeStartPadding:2,nodesGap:2,nodeBorderWidth:1,nodeBorderColor:"#34beff",nodeBorderLeftTopRadius:5,nodeBorderLeftBottomRadius:5,tabNodeHeight:32,groupNodeHeight:32,tabNodeBackgroundColor:{angle:135,colorStops:[{colorHex:"#52bfff",percentage:0},{colorHex:"#88f6ff",percentage:100}]},tabNodeBackgroundColorHover:{angle:135.19669738972703,colorStops:[{colorHex:"#34a7ea",percentage:0},{colorHex:"#88f6ff",percentage:100}]},tabNodeBackgroundColorActive:{angle:135,colorStops:[{colorHex:"#008adb",percentage:0},{colorHex:"#88f6ff",percentage:100}]},tabNodeBackgroundColorSelected:{angle:135,colorStops:[{colorHex:"#0081ff",percentage:0},{colorHex:"#88f6ff",percentage:100}]},tabNodeBackgroundColorActiveHoverBrightnessPercentage:20,tabNodeBackgroundColorSelectedHoverBrightnessPercentage:20,tabNodeTextStyleActive:{bold:!1,italic:!1,underline:!1,lineThrough:!1},tabNodeTextStyle:{bold:!1,italic:!1,underline:!1,lineThrough:!1},tabNodeTextStyleUnread:{bold:!1,italic:!1,underline:!1,lineThrough:!1},tabNodeTextStyleUnloaded:{bold:!1,italic:!1,underline:!1,lineThrough:!1},tabNodeTextAndIconColor:"#000000",tabNodeTextAndIconColorHover:"#000000",tabNodeTextAndIconColorActive:"#000000",tabNodeTextAndIconColorSelected:"#000000",tabNodeTextAndIconColorUnread:null,tabNodeTextAndIconColorUnloaded:null,tabNodeStylesUnloadedEnabled:!1,tabNodeOpacityStylesUnloaded:{borderOpacityPercentage:75,backgroundOpacityPercentage:50,textOpacityPercentage:50,iconOpacityPercentage:100},tabNodeStylesUnreadEnabled:!1,tabNodeOpacityStylesUnread:{borderOpacityPercentage:100,backgroundOpacityPercentage:100,textOpacityPercentage:100,iconOpacityPercentage:100},nodeDragDropAreaBorderWidth:2,nodeDragDropAreaBorderColor:"#005586"}},78639:(e,t,n)=>{n.d(t,{K:()=>c});var o=n(7426),r=n(2530),i=n(6320),a=n(59721),d=n(38017),l=n(79868),s=n(83840);let c={lastSelectedOptionPageKey:function(e){return e.Theme="theme",e.NodesTreeTheme="nodesTreeTheme",e.NodesTreeThemeCustomization="nodesTreeThemeCustomization",e.NodesTreeSettings="nodesTreeSettings",e.License="license",e.Help="help",e.Support="support",e.KeyboardShortcuts="keyboardShortcuts",e.Discussion="discussion",e.Developer="developer",e}({}).Help,sideMenuCollapsed:!1,nodesTreeSettings:{middleClickCloseTabNodeSetting:!1,promoteFirstChildAsParentOnParentClose:!0,newTabNodePositionNewPageByOpenerTabSetting:a.FR.ChromeDefault,newTabNodePositionByOpenerTabSetting:a.O8.ChromeDefault,newTabNodePositionExternalLinkSetting:a.qS.ChromeDefault,newTabNodePositionBookmarkSetting:a.B8.ChromeDefault,activateNewTabOpenedFromBookmark:!1,dropTabNodeOntoTabNodePositionSetting:a.$K.LastChild,whichTabNodeToActivateAfterTabNodeClosedSettings:i.Mq,createNewTabNodeFixedButtonSettings:{enabled:!0,buttonStyles:{height:24,borderWidth:2,borderRadiusTopLeft:10,borderRadiusTopRight:10},newTabNodePositionModifierKeysMappings:{[l.z2.NextAtRootLevel]:s.A.None,[l.z2.SameLevelSibling]:s.A.Alt,[l.z2.AsFirstChild]:s.A.Shift,[l.z2.AsLastChild]:s.A.WinLinuxCtrlOrMacCmd}},middleClickTreeWhiteSpaceCreateNewTabNodeSettings:{enabled:!0,newTabNodePositionModifierKeysMappings:{[l.z2.NextAtRootLevel]:s.A.None,[l.z2.SameLevelSibling]:s.A.Alt,[l.z2.AsFirstChild]:s.A.Shift,[l.z2.AsLastChild]:s.A.WinLinuxCtrlOrMacCmd}},groupNodeSettings:{createNewTabNodeButtonPositionModifierKeysMappings:{[l.i3.AsFirstChild]:s.A.None,[l.i3.AsLastChild]:s.A.WinLinuxCtrlOrMacCmd},expandOrCollapseClickActionSettings:{enabled:!0,clickAction:s.C.Single}},branchTabNodeSettings:{createNewTabNodeButtonPositionModifierKeysMappings:{[l.yp.AsFirstChild]:s.A.None,[l.yp.AsLastChild]:s.A.WinLinuxCtrlOrMacCmd}},subtreeSettings:{parentTabNodeCloseButtonActionModifierKeysMappings:{[a.Ic.CloseParentTabNode]:s.A.None,[a.Ic.CloseParentTabNodeAndChildren]:s.A.WinLinuxCtrlOrMacCmd},parentTabNodeDraggingActionModifierKeysMappings:{[a.Tw.DragWholeSubTree]:s.A.None,[a.Tw.DragParentTabNode]:s.A.WinLinuxCtrlOrMacCmd},expandOrCollapseClickActionSettings:{enabled:!0,clickAction:s.C.Single}},performanceSettings:{hideTabNodeContentDeferredSeconds:5,offscreenExtendedPercentage:10}},themeSettings:{selectedTheme:d.Sh.System,darkTheme:d.WN,lightTheme:d.WN,customizedTabNodesTreeThemeSettings:{enabled:!1,selectedThemeName:o.EJ.name,savedThemes:[o.EJ]}},developerSettings:{showNodeIndex:!1,showTabIdUponHoveringTabNode:!1,preventDefaultContextMenu:!r.A.isDev,showDevelopItemsOnNodesTreeContextMenu:!1}}},38017:(e,t,n)=>{n.d(t,{Sh:()=>o,Sx:()=>r,WN:()=>i});let o=function(e){return e.System="system",e}({}),r=function(e){return e.Dark="dark",e.Light="light",e}({});o.System,r.Dark,r.Light;let i={tabNodeTextAndIconColorUnread:null,tabNodeTextStyleUnread:{bold:!1,italic:!1,underline:!1,lineThrough:!1},tabNodeOpacityStylesUnread:{borderOpacityPercentage:100,backgroundOpacityPercentage:100,textOpacityPercentage:100,iconOpacityPercentage:100},tabNodeTextAndIconColorUnloaded:null,tabNodeTextStyleUnloaded:{bold:!1,italic:!1,underline:!1,lineThrough:!1},tabNodeOpacityStylesUnloaded:{borderOpacityPercentage:100,backgroundOpacityPercentage:100,textOpacityPercentage:100,iconOpacityPercentage:100}}},6320:(e,t,n)=>{n.d(t,{Mq:()=>c,WQ:()=>o,_3:()=>s,ev:()=>d,pI:()=>a});let o=function(e){return e.ChromeDefault="ChromeDefault",e.CustomizedRules="CustomizedRules",e}({}),r=function(e){return e.ActivateFirstChild="ActivateFirstChild",e.ActivateLastChild="ActivateLastChild",e.Ignore="Ignore",e}({}),i=function(e){return e.ActivateParent="ActivateParent",e}({}),a=function(e){return e.ActivateAbove="ActivateAbove",e.ActivateAboveElseBelow="ActivateAboveElseBelow",e.ActivateBelow="ActivateBelow",e.ActivateBelowElseAbove="ActivateBelowElseAbove",e.Ignore="Ignore",e}({}),d=function(e){return e.ActivateFirstUnread="ActivateFirstUnread",e.ActivateLastUnread="ActivateLastUnread",e.Ignore="Ignore",e}({}),l=function(e){return e.ActivateAboveSibling="ActivateAboveSibling",e.ActivateAbove="ActivateAbove",e.ActivateBelow="ActivateBelow",e}({}),s=function(e){return e.WhenHasChildren="WhenHasChildren",e.WhenHasParent="WhenHasParent",e.WhenHasParentAndSiblings="WhenHasParentAndSiblings",e.WhenHasNeitherParentNorChildren="WhenHasNeitherParentNorChildren",e}({}),c={settingType:o.ChromeDefault,rulesConditionOrder:[s.WhenHasChildren,s.WhenHasParentAndSiblings,s.WhenHasParent,s.WhenHasNeitherParentNorChildren],[s.WhenHasChildren]:r.ActivateFirstChild,[s.WhenHasParentAndSiblings]:{hasUnreadSiblingsRule:d.ActivateFirstUnread,hasSiblingsRule:a.Ignore},[s.WhenHasParent]:i.ActivateParent,[s.WhenHasNeitherParentNorChildren]:l.ActivateBelow}},3022:(e,t,n)=>{n.d(t,{Di:()=>i,F1:()=>l,TX:()=>u,We:()=>c,my:()=>a,o3:()=>r,o7:()=>s,ru:()=>d,vJ:()=>o});let o={grey:{color:"#dadce0",textColor:"#000"},blue:{color:"#8ab4f8",textColor:"#000"},red:{color:"#f28b82",textColor:"#000"},yellow:{color:"#fdd663",textColor:"#000"},green:{color:"#81c995",textColor:"#000"},pink:{color:"#ff8bcb",textColor:"#000"},purple:{color:"#c58af9",textColor:"#000"},cyan:{color:"#78d9ec",textColor:"#000"},orange:{color:"#fcad70",textColor:"#000"}},r=e=>!(null==e?void 0:e.includes("Binance"))&&!(null==e?void 0:e.includes("TradingView")),i=100,a=15,d="chrome://newtab/",l=chrome.runtime.getURL("branch-tab-node.html"),s=chrome.runtime.getURL("options.html"),c={dragNodeId:"dragNodeId"},u=.5},43393:(e,t,n)=>{n.d(t,{UI:()=>o});let o=function(e){return e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e.EXPIRING="EXPIRING",e.EXPIRED="EXPIRED",e.SUSPENDED="SUSPENDED",e.BANNED="BANNED",e}({})},37390:(e,t,n)=>{n.d(t,{Et:()=>y,GG:()=>c,Gq:()=>N,J8:()=>h,Jx:()=>u,RV:()=>i,SG:()=>p,SR:()=>g,Wq:()=>s,cX:()=>w,eC:()=>m,mt:()=>A,nH:()=>r,r$:()=>b,ro:()=>f,sn:()=>d,ud:()=>l,ve:()=>C,wL:()=>v,yB:()=>a}),n(79474);var o=n(93034);function r(e,t,n=!0){let o=Object.getOwnPropertyDescriptor(e,t);return o?!!o.writable:n}n(65640);let i=function(e){return e.LeftTop="LeftTop",e.RightTop="RightTop",e.LeftBottom="LeftBottom",e.RightBottom="RightBottom",e}({});function a(e,t,n){let r=(0,o.tZ)(!1,o.W4.script,a.name);r.gP({anchorBoundingClientRect:e,anchorPosition:t,targetElem:n});let d=parseFloat(window.getComputedStyle(n).borderWidth),l=n.clientWidth+2*d,s=n.clientHeight+2*d,c=0;t===i.RightTop||t===i.RightBottom?(c=e.right,r.logP("anchorRect right",c),c+l>window.innerWidth&&(c=window.innerWidth-l,r.logP("display targetElem to the right of the anchor exceeds the window right boundary, display targetElem align to the window right",c)),c<0&&(c=e.left,r.logP("display targetElem to the left of the anchor exceeds the window left boundary, display targetElem align to the left of the anchor.",c))):(t===i.LeftTop||t===i.LeftBottom)&&(c=e.left-l)<0&&(c=0,r.logP("display targetElem to the left of the anchor exceeds the window left boundary, display targetElem align the left of the window.",c));let u=0;return t===i.RightTop||t===i.LeftTop?u=e.top:(t===i.RightBottom||t===i.LeftBottom)&&(u=e.bottom),u+s>window.innerHeight&&(u=window.innerHeight-s,r.logP("display to the top of the anchor exceeds the window bottom boundary, instead display to align the window bottom",u),u<0&&(u=0)),r.logP({srcElemBoundingClientRect:e,elem:n,srcElemRect:e,"targetElem.clientWidth":n.clientWidth,"targetElem.clientHeight":n.clientHeight,"window.innerWidth":window.innerWidth,"window.innerHeight":window.innerHeight,left:c,top:u}),r.ge(),{left:c,top:u}}function d(e,t,n){let r=(0,o.tZ)(!1,o.W4.script,d.name);r.gP({posX:e,posY:t,el:n});let i=parseFloat(window.getComputedStyle(n).borderWidth),a=e;e+n.clientWidth>window.innerWidth&&(a=window.innerWidth-(n.clientWidth+2*i)),a<0&&(a=0);let l=t;return t+n.clientHeight>window.innerHeight&&(l=window.innerHeight-(n.clientHeight+2*i)),l<0&&(l=0),r.logP({posX:e,posY:t,left:a,top:l}),r.ge(),{left:a,top:l}}function l(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function s(e,t={block:"center",inline:"nearest",behavior:"smooth"}){let n=(0,o.tZ)(!1,o.W4.script,s.name);if(!e){n.errorP("element is not defined");return}let r=null==e?void 0:e.getBoundingClientRect();n.logP({element:e,elementDatasetTransitionState:null==e?void 0:e.dataset.transitionState,windowInnerHeight:window.innerHeight,windowOuterHeight:window.outerHeight,elementTop:null==r?void 0:r.top,elementBottom:null==r?void 0:r.bottom,elementHeight:null==r?void 0:r.height,elementWidth:null==r?void 0:r.width}),e&&r&&(r.bottom>window.innerHeight||r.top<r.height)?(n.logP(`scroll into view because condition met: elementBottom: ${r.bottom} > windowInnerHeight: ${window.innerHeight} || elementTop: ${r.top} < elementHeight: ${r.height}`),null==e||e.scrollIntoView(t)):n.logP("No need to scroll into view.")}function c(e,t){return Object.values(t).includes(e)}function u(e,t,n){let r=(0,o.tZ)(!0,o.W4.script,u.name);r.gcP("Check data",{defaultData:(0,o.mm)(e),currentData:(0,o.mm)(t)}),Object.isFrozen(t)&&(r.log("currentData is frozen. Clone it."),t=structuredClone(t));let i=function e(t,n,r){let i=(0,o.tZ)(!0,o.W4.script,e.name);if("object"!=typeof t||null===t)return i.return("defaultData is not object or null. Return it."),t;if("object"!=typeof n||null===n)return i.return("currentData is not object or null. Return it."),t;let a=Object.assign({},t);for(let t in i.gcP("Compare two data.",{path:r,defaultDataClone:(0,o.mm)(a),currentData:(0,o.mm)(n)}),n){let o=r?`${r}.${t}`:t,d="default",l="current";i.search("Check data with key.",{path:o,[`${d}`]:a[t],[`${l}`]:n[t]}),n.hasOwnProperty(t)&&(a.hasOwnProperty(t)?"object"==typeof a[t]&&"object"==typeof n[t]?Array.isArray(a[t])&&!Array.isArray(n[t])?(i.update(`${d} is an array, but ${l} is not. Replace old data with new data.`),n[t]=a[t]):!Array.isArray(a[t])&&Array.isArray(n[t])?(i.update(`${d} is an object but ${l} is an array. Replace old data with new data.`),n[t]=a[t]):Array.isArray(a[t])&&Array.isArray(n[t])?i.success(`${d} and ${l} both are array. No need to process.`):(i.deep(`${d} and ${l} are object. Recursively check it.`),n[t]=e(a[t],n[t],o)):void 0===a[t]||null===a[t]?i.skip(`${d} is either undefined or null. Skip it.`):typeof n[t]!=typeof a[t]?(i.update(`${d} and ${l} are different type. Replace old data with new data.`),n[t]=a[t]):i.success(`${d} and ${l} are the same data type.`):(i.bin(`${d} === undefined, but ${l} has it. Remove it.`),delete n[t])),delete a[t]}for(let e in i.ge(),i.g(`Check missing properties. There are ${Object.keys(a).length} properties could be missing.`,{defaultDataClone:a}),a){let t=r?`${r}.${e}`:e,o="current";i.search("Check data with key.",{path:t,default:a[e],[`${o}`]:n[e]}),a.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&void 0!==a[e]&&(i.update(`${o} is missing. Fill it.`),n[e]=a[e])}return i.ge(),n}(e,t,n);return r.ge(),i}function g(){return"object"==typeof self&&self.constructor&&"ServiceWorkerGlobalScope"===self.constructor.name}function h(e,t,n,o,r){return f(e,t,n.map(e=>e[o]),o,r)}function f(e,t,n,o,r){let i=new Set(n);return e.filter(e=>{var n,a;return"include"===t?i.has(e[o])&&(null===(n=null==r?void 0:r(e))||void 0===n||n):!i.has(e[o])&&!(null==r?void 0:r(e))})}function p(){var e;let t;try{t=window.location}catch(e){}try{t||(t=location)}catch(e){}if(t){let n=null===(e=t.pathname)||void 0===e?void 0:e.split(".");if(n.length>0){let e=n[0].replace("/","");return"background"===e?"SW":e}}return""}function b(e,t,n){let{ifPrint:r=!1,printType:i="unequal",ifPrintComparingDetails:a=!1,logTags:d=[]}=null!=n?n:{},l=(0,o.tZ)(r,o.W4.script,[...m(d),b.name]),s=N(e,t,{log:{ifPrint:a,tags:d},stopOnFirstDifference:!0});return Object.keys(s).length>0?l.failureP("Not equal.",{obj1:e,obj2:t,differences:s}):"equalAndUnequal"===i&&l.successP("Are equal.",{obj1:e,obj2:t}),0===Object.keys(s).length}function N(e,t,n){let{log:r={ifPrint:!1,tags:[]},stopOnFirstDifference:i=!1}=null!=n?n:{},{ifPrint:a,tags:d}=r,l=Array.isArray(d)?d:[d],s=(0,o.tZ)(a,o.W4.script,[...l,N.name]);s.gP({obj1:e,obj2:t});let c=function e(t,n,o){let{logger:r,stopOnFirstDifference:i=!1}=o,a={};if(Array.isArray(t)&&Array.isArray(n)){r.loop("Both are arrays. Loop through each element to compare.");for(let d=0;d<t.length;d++)if(d<n.length){r.g(`Compare array1[${d}] and array2[${d}]`,{index:d,[`array1[${d}]`]:t[d],[`array2[${d}]`]:n[d]});let l=e(t[d],n[d],o);if(r.ge(),0!==Object.keys(l).length&&(a[d.toString()]=l,i))return a}else if(r.check(`array1[${d}] is not in array2[${d}]`,{index:d,[`array1[${d}]`]:t[d],[`array2[${d}]`]:n[d]}),a[d.toString()]=[t[d],void 0],i)return a;for(let e=t.length;e<n.length&&(r.check(`array2[${e}] element is not in array1[${e}]`,{index:e,[`array1[${e}]`]:t[e],[`array2[${e}]`]:n[e]}),a[e.toString()]=[void 0,n[e]],!i);e++);}else if(Array.isArray(t)&&!Array.isArray(n))return r.check("obj1 is an array, but obj2 is not"),[t,n];else if(!Array.isArray(t)&&Array.isArray(n))return r.check("obj1 is not an array, but obj2 is"),[t,n];else if("object"!=typeof t||"object"!=typeof n)t!==n&&(r.check("Either obj1 or obj2 is not an object.",{obj1Type:typeof t,obj2Type:typeof n}),a={obj1:t,obj2:n});else{for(let d in t)if(d in n){if("object"==typeof t[d]&&null!==t[d]){r.g(`Check obj1[${d}] and obj2[${d}]`,{[`obj1[${d}]`]:t[d],[`obj2[${d}]`]:n[d]});let l=e(t[d],n[d],o);if(r.ge(),0!==Object.keys(l).length&&(a[d]=l,i))return a}else if(t[d]!==n[d]&&(r.check(`obj1[${d}] !== obj2[${d}]`,{[`obj1[${d}]`]:t[d],[`obj2[${d}]`]:n[d]}),a[d]=[t[d],n[d]],i))return a}else if(r.check(`key:${d} is not in obj2`,{[`obj1[${d}]`]:t[d],[`obj2[${d}]`]:n[d]}),a[d]=[{[d]:t[d]},void 0],i)return a;for(let e in n)if(!(e in t)&&(r.check(`key:${e} is not in obj1`,{[`obj1[${e}]`]:t[e],[`obj2[${e}]`]:n[e]}),a[e]=[void 0,{[e]:n[e]}],i))break}return a}(e,t,{logger:s,stopOnFirstDifference:i});return s.ge(),c}function m(e){return e?Array.isArray(e)?e:[e]:[]}function y(e){return null!=e&&""!==e&&!isNaN(Number(e.toString()))}function C(e,t,n){return 1===e?t:n}function v(e){var t;(t=e.attributeName,Array.from(document.querySelectorAll(`[data-${t}]`))).forEach(t=>delete t.dataset[e.key])}function T(e,t){var n,o,r;return!!navigator&&((null===(o=null===(n=null==navigator?void 0:navigator.userAgentData)||void 0===n?void 0:n.platform)||void 0===o?void 0:o.toUpperCase())===e||(null===(r=navigator.platform)||void 0===r?void 0:r.toUpperCase().includes(t)))}function w(){return T("MACOS","MAC")}function A(e){return(T("WINDOWS","WIN")||T("LINUX","LINUX"))&&e.ctrlKey||w()&&e.metaKey}},67272:(e,t,n)=>{n.d(t,{ga:()=>s});var o=n(2530);n(65640);var r=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)0>t.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};let i=(o.A.isDev,"G-9Y2L8DFZ4D"),a=(o.A.isDev,"nJ7bIg6kTs-IOn6UhZxthg"),d=function(e){return e.TEST="test",e.PAGE_VIEW="page_view",e.EXTENSION_ERROR="extension_error",e.LICENSE_VALIDATION_FAILURE="license_validation_failure",e.DEACTIVATE_A_DEVICE="deactivate_a_device",e.UNEXPECTED_EVENT_WITHOUT_PRO_ENTITLEMENT="unexpected_event_without_pro_entitlement",e}({});var l=function(e){return e.EXCEPTION="EXCEPTION",e.UNEXPECTED_BEHAVIOR="UNEXPECTED_BEHAVIOR",e}(l||{});let s=new class{constructor(e=!1){this.debug=e}async getOrCreateClientId(){let{clientId:e}=await chrome.storage.local.get("clientId");return e||(e=crypto.randomUUID(),await chrome.storage.local.set({clientId:e})),e}async getOrCreateSessionId(){let{sessionData:e}=await chrome.storage.session.get("sessionData"),t=Date.now();return e&&e.timestamp&&((t-parseInt(e.timestamp))/6e4>30?e=void 0:(e.timestamp=t.toString(),await chrome.storage.session.set({sessionData:e}))),e||(e={session_id:t.toString(),timestamp:t.toString()},await chrome.storage.session.set({sessionData:e})),e.session_id}async fireEvent(e,t={}){t.session_id||(t.session_id=await this.getOrCreateSessionId()),t.engagement_time_msec||(t.engagement_time_msec=100);try{if(await fetch(`${this.debug?"https://www.google-analytics.com/debug/mp/collect":"https://www.google-analytics.com/mp/collect"}?measurement_id=${i}&api_secret=${a}`,{method:"POST",body:JSON.stringify({client_id:await this.getOrCreateClientId(),events:[{name:e,params:t}]})}),!this.debug)return}catch(e){}}async fireEvent2(e){let{name:t}=e,n=r(e,["name"]);await this.fireEvent(t,n)}async firePageViewEvent(e,t,n={}){return this.fireEvent(d.PAGE_VIEW,Object.assign({page_title:e,page_location:t},n))}async fireUnexpectedBehaviorErrorEvent(e,t={}){return this.fireErrorEvent(Object.assign(Object.assign({},e),{type:l.UNEXPECTED_BEHAVIOR}),t)}async fireExceptionEvent(e,t={}){return this.fireErrorEvent(Object.assign(Object.assign({},e),{type:l.EXCEPTION}),t)}async fireErrorEvent(e,t={}){return this.fireEvent(d.EXTENSION_ERROR,Object.assign(Object.assign({},e),t))}}(o.A.isDev)},83246:(e,t,n)=>{n.d(t,{FT:()=>W,MA:()=>k,pu:()=>O,t2:()=>S,xd:()=>B});var o=n(69173),r=n(68928),i=n.n(r),a=n(31997),d=n.n(a),l=n(60047),s=n.n(l),c=n(2530),u=n(84590),g=n(67272),h=n(43393),f=n(87521),p=n(44788),b=n(93034),N=n(54510),m=n(61566),y=n(27566),C=n(78154);n(35904);var v=n(94778),T=n(6320),w=n(37390),A=n(59721);async function S(){return await I(window.location.pathname)}async function I(e,t=!1){let n;let r=(0,b.tZ)(c.A.logLicenseValidation,b.W4.script,[...(0,w.eC)(e),I.name]);r.gP("Get license data from Chrome local storage.");try{let e=await N.g.loadData();if(r.log("Encrypted license data retrieved from Chrome local storage.",{encryptedLicenseData:e}),e){let t;if(t=await (0,m.af)(e))try{n=JSON.parse(t)}catch(e){r.error("Unable to convert license data to JSON. Data might be broken.",e)}}}catch(n){let e="Failed to decrypt license data. It might be compromised.";if(await g.ga.fireExceptionEvent({from:"service worker",when:"Decrypt license data.",details:e,error:n.message}),r.error(e,n),t)throw n}finally{r.ge()}return n||(n=function(e){return{deviceId:null!=e?e:(0,o.Ak)(),entitlement:u.h.FREE}}(),await E(e,n)),n}async function E(e,t){let n=(0,b.tZ)(c.A.logLicenseValidation,b.W4.script,[...(0,w.eC)(e),E.name]);n.gP("Saving license. Disable listener to avoid dead loops or unexpected behavior.",t);try{await y.X7.disableListener(C.HR.SERVICE_WORKER),await y.F2.disableListener(C.x7.SERVICE_WORKER);let o=await (0,m.yv)(JSON.stringify(t));await N.g.save(o),n.log("License data encrypted and saved to Chrome storage."),await P(e,t),B(t)||(n.log("License is not pro, disable PRO features."),await O())}catch(e){n.error("Save license data error.",e)}finally{n.ge(),await y.X7.enableListener(C.HR.SERVICE_WORKER),await y.F2.enableListener(C.x7.SERVICE_WORKER)}}async function P(e,t){let n=(0,b.tZ)(c.A.logLicenseValidation,b.W4.script,[...(0,w.eC)(e),P.name]);n.gP("Notify license changes.",t);try{(0,w.SR)()||f.store.licenseCache.setLicenseCache(t),n.log("Send a message to notify pages to update license cache."),await (0,p.w)({type:"setLicenseCacheState",license:t},{logTags:e,onLogFailure:()=>n.falseP("No active listeners.")})}catch(e){n.error("Notify license changes.",e)}finally{n.ge()}}async function O(){await v.O.updateOptions(e=>{x(e)}),await (0,p.w)({type:"previewNodesTheme",previewNodesTheme:void 0})}async function x(e){let t=(0,b.tZ)(c.A.logLicenseValidation,b.W4.script,[x.name]);if(Object.isFrozen(e))return t.errorP("Options is frozen. Cannot update."),!1;let n=!1;return e.themeSettings.customizedTabNodesTreeThemeSettings.enabled&&(e.themeSettings.customizedTabNodesTreeThemeSettings.enabled=!1,n=!0),e.nodesTreeSettings.newTabNodePositionExternalLinkSetting!==A.qS.ChromeDefault&&(e.nodesTreeSettings.newTabNodePositionExternalLinkSetting=A.qS.ChromeDefault,n=!0),e.nodesTreeSettings.newTabNodePositionBookmarkSetting!==A.B8.ChromeDefault&&(e.nodesTreeSettings.newTabNodePositionBookmarkSetting=A.B8.ChromeDefault,n=!0),e.nodesTreeSettings.whichTabNodeToActivateAfterTabNodeClosedSettings.settingType!==T.WQ.ChromeDefault&&(e.nodesTreeSettings.whichTabNodeToActivateAfterTabNodeClosedSettings.settingType=T.WQ.ChromeDefault,n=!0),n}function k(e,t){return R(e,t,()=>{window.open(`${c.A.webSitePurchaseProLicense}`,"_blank")})}function W(e,t=()=>{}){return R(u.h.PRO,e,t)}function R(e,t,n=()=>{}){return e!==u.h.PRO||f.store.licenseCache.isValidProEntitlement?t:n}function B(e){var t;let n;return t=u.h.PRO,n=!1,t===u.h.PRO&&e.entitlement===u.h.PRO&&(n=!0),n&&!!e.status&&[h.UI.ACTIVE,h.UI.EXPIRING].includes(e.status)}n(65640),i().extend(d()),i().extend(s())},24817:(e,t,n)=>{n.d(t,{CB:()=>u,C_:()=>M,Cy:()=>c,DN:()=>I,Dw:()=>U,Gu:()=>V,IB:()=>Z,IC:()=>D,Id:()=>G,J9:()=>L,Js:()=>E,LD:()=>P,Op:()=>O,SQ:()=>z,SV:()=>R,Sh:()=>m,UW:()=>W,Z0:()=>N,aL:()=>B,ae:()=>A,b7:()=>C,en:()=>v,f9:()=>H,fc:()=>g,gJ:()=>x,j7:()=>y,mI:()=>_,mc:()=>j,nJ:()=>p,pc:()=>S,q8:()=>F,rL:()=>b,u:()=>h,uW:()=>$,um:()=>X,wX:()=>s,y7:()=>k,zv:()=>T});var o=n(2531),r=n(37390);n(2613);var i=n(3022),a=n(93034),d=n(2530),l=n(56615);function s(e){return F(e)?`[data-tab-id='${e.id}']`:_(e)?`[data-group-id='${e.id}']`:void 0}function c(e){return F(e)?document.querySelector(`${s(e)}`):_(e)?document.querySelector(`${s(e)}`):void 0}function u(e,t,n){let o=document.querySelector(`${s(e)} .node-content`);o&&(o.dataset[t]=n)}function g(e){return e.filter(e=>F(e))}function h(e,t){let n=(0,a.tZ)(!1,a.W4.script);n.gt({nodes:(0,a.mm)(e)});let o=g(e);o.reduce((e,n,r,i)=>((function e(t,n,o,r){var i,d;let s=(0,a.tZ)((0,l.mR)(n,"https://www.reddit.com/r/cats/")&&!0,a.W4.script,[e.name]);s.gP("Loop above nodes until nodeIndex < 0, or found first ancestor, and include it and its ancestralNodeIds as tabNode's ancestralNodeIds",{"tabNode.title":n.title,"tabNode.index":o,tabNode:(0,a.mm)(n)});let c=o-1,u=n.ancestralNodeIds.slice(),g=()=>{s.update({from:u,to:n.ancestralNodeIds})};if(c<0)s.start(`currentNodeIndex(${c}) < 0. This means this tab node is the top node in the tree. tabNode.ancestralNodeIds should be empty. Check it.`),u.length>0?(s.check("tabNode.ancestralNodeIds is not empty. Empty it."),n.ancestralNodeIds=[],f(t,n),g()):s.false("tabNode.ancestralNodeIds is empty. Do nothing.");else{s.gls("Start to check tab node above it.");let e=!1;for(;c>=0;){let o=t[c];s.start("currentNode",{currentNodeIndex:c,"currentTabNode.title":o.title,currentTabNode:(0,a.mm)(o)});let l=o.groupId!==chrome.tabGroups.TAB_GROUP_ID_NONE,u=n.groupId!==chrome.tabGroups.TAB_GROUP_ID_NONE;if(l&&!u){e||0===n.ancestralNodeIds.length||(s.check("currentTabNode is in a group, but tabNode is not in a group, empty tabNode.ancestralNodeIds."),n.ancestralNodeIds=[],f(t,n),g()),s.stop("End.");break}if(!l&&u){e||0===n.ancestralNodeIds.length||(s.check("currentTabNode is not in a group, but tabNode is in a group, empty tabNode.ancestralNodeIds."),n.ancestralNodeIds=[],f(t,n),g()),s.stop("End.");break}if(l&&u&&o.groupId!==n.groupId){e||0===n.ancestralNodeIds.length||(s.check("currentTabNode is in a group, but tabNode is not in the same , empty tabNode.ancestralNodeIds."),n.ancestralNodeIds=[],f(t,n),g()),s.stop("End.");break}if(!e){let a=n.ancestralNodeIds.includes(null!==(i=o.previousTabId)&&void 0!==i?i:-1);if(o.id&&n.ancestralNodeIds.includes(o.id)||a){let i=n.ancestralNodeIds[0]!==o.id;a?s.check("currentTabNode is an ancestor of tabNode by its previousTabId. Check if tabNode is first child and promoteFirstChildAsParentOnParentClose setting.",{promoteFirstChildAsParentOnParentClose:r}):s.check("currentTabNode is an ancestor of tabNode. Check if tabNode is first child and promoteFirstChildAsParentOnParentClose setting.",{promoteFirstChildAsParentOnParentClose:r});let d=!1;if(r){s.check("promoteFirstChildAsParentOnParentClose is true, check if the first tab node below currentTabNode is new child node.");let e=c+1;if(e!==n.index&&e<t.length){let r=t[e];x(r)<x(n)&&r.ancestralNodeIds.includes(o.id)&&(n.ancestralNodeIds=[r.id,...r.ancestralNodeIds],d=!0)}}if(d||(n.ancestralNodeIds=[o.id,...o.ancestralNodeIds]),i&&f(t,n),g(),!r){s.stop("End.");break}e=!0}}if((o.directChildrenNodeIds.includes(n.id)||o.directChildrenNodeIds.includes(null!==(d=n.previousTabId)&&void 0!==d?d:-1))&&n.ancestralNodeIds[0]!==o.id){s.check("currentTabNode is the direct parent of tabNode, but not in tabNode.ancestralNodeIds. Update tabNode.ancestralNodeIds with currentTabNode and its ancestralNodeIds."),n.ancestralNodeIds=[o.id,...o.ancestralNodeIds],g(),s.stop("End.");break}if(0===o.ancestralNodeIds.length){e||!(n.ancestralNodeIds.length>0)||n.ancestralNodeIds.includes(o.id)||(s.check("'currentTabNode is at root level, but it is not in tabNode.ancestralNodeIds. All tab node's ancestors are gone. Empty tabNode.ancestralNodeIds'"),n.ancestralNodeIds=[],f(t,n),g()),s.stop("Reach first root level currentTabNode. End.");break}--c<0&&(e||(s.check(`nodeIndex(${c}) < 0, could not find any the parent. Empty "tabNode.ancestralNodeIds".`),n.ancestralNodeIds=[],g()),s.stop("End."))}s.ge()}s.end("fixTabNodeMissingAncestors complete"),s.ge()})(o,n,r,t),e),e),n.ge()}function f(e,t){let n=(0,a.tZ)(!1,a.W4.script,f.name);if(n.gP(),n.search(`Check if tabNode is collapsed, we have to expand it: ${t.areChildrenExpanded?" and all it descendants":""}, otherwise there will be no way to do it since parent is missing.`),t.isExpanded){n.false("tabNode is already expanded. Do nothing.");return}n.check("tabNode is collapsed. Expand it."),t.isExpanded=!0,n.update("tabNode and its updated to collapsed."),function e(t,n,o){(0,a.tZ)(!1,a.W4.script,e.name).log(`${t?"Expand":"Collapse"} tabNode descendants.`),o.areChildrenExpanded=t,n.filter(e=>e.ancestralNodeIds.includes(o.id)).forEach(e=>{e.isExpanded=t})}(t.areChildrenExpanded,e,t),n.ge()}function p(e){return e.index+e.descendantNodesCount+1}function b(e,t){let n=e.index+1;for(;n<t.length;){let o=w(n,t);if(!o||x(o)<=x(e))break;n++}return n}function N(e,t){let n=e.index+1;for(;n<t.length;){let e=w(n,t);if(!e||0===x(e))break;n++}return n}function m(e,t,n=!1){let o=e.findIndex(e=>e.id===t);if(-1!==o){let t=e[o];return -1!==o&&n&&e.splice(o,1),t}}function y(e,t,n=!1){let o=e.findIndex(e=>"groupNode"===e.nodeType&&e.id===t);if(-1!==o){let t=e[o];return n&&e.splice(o,1),t}}function C(e,t,n=!1){let o=e.findIndex(e=>F(e)&&t(e));if(-1!==o){let t=e[o];return -1!==o&&n&&e.splice(o,1),t}}function v(e,t,n=!1){let o=e.filter(e=>F(e)&&t(e));return o.length>0&&n&&o.forEach(t=>{let n=e.findIndex(e=>e.id===t.id);-1!==n&&e.splice(n,1)}),o}function T(e,t,n=!1){return C(t,t=>t.id===e,n)}function w(e,t,n=!1){return C(t,t=>t.index===e,n)}function A(e,t){return C(t,t=>t.id===e.openerTabId)}function S(e,t){if(0!==e.ancestralNodeIds.length)return T(e.ancestralNodeIds[0],t)}function I(e,t){return g(t).filter(t=>e.directChildrenNodeIds.includes(t.id))}function E(e,t){return g(t).filter(t=>W(t,e))}function P(e,t){return null==e?void 0:e.map(e=>{let n=structuredClone(e);return null==t||t(n),n})}function O(e,t){return d.A.disableLogger?e:P(e,t)}function x(e){return e.ancestralNodeIds.length}function k(e){return(null==e?void 0:e.groupId)!==chrome.tabGroups.TAB_GROUP_ID_NONE}function W(e,t){return e.ancestralNodeIds.includes(t.id)}function R(e,t,n,o){let r=Object.assign(Object.assign({},t),o);return void 0!==n.url&&(r.url=n.url,r.pendingUrl=void 0),r}function B(e,t){let n;let i=(0,a.tZ)(!1,a.W4.script,"updateByTabNodeSelfProperties");i.gP({updatingTabNode:e,partialProperties:t});let d=F(e)?o.Wf:_(e)?o.WL:void 0;if(d){for(n in t){if(!d.includes(n))continue;let o=(0,r.nH)(e,n),a=Object.getOwnPropertyDescriptor(e,n);i.log({key:n,desc:a,isWritable:o}),o&&(e[n]=t[n])}i.ge()}}function D(e){return Object.assign(Object.assign({},e),{directChildrenNodeIds:[],areChildrenExpanded:!0,isExpanded:!0})}function H(e,t){return e.ancestralNodeIds.filter(e=>void 0!==T(e,t))}function L(e,t){return e.filter(e=>F(e)&&e.groupId===t)}function $(e,t,n){let{includeAncestorNode:o}=n;return e.filter(e=>F(e)&&(e.ancestralNodeIds.includes(t)||!!o&&e.id===t))}function j(e){var t,n;return F(e)&&null!==(n=null===(t=e.url)||void 0===t?void 0:t.startsWith(i.F1))&&void 0!==n&&n}function U(e){return e.filter(e=>j(e))}function _(e){return(null==e?void 0:e.nodeType)==="groupNode"}function F(e){return(null==e?void 0:e.nodeType)==="tabNode"}function M(e){return F(e)&&e.isSelected}function V(e){return e.filter(e=>F(e)&&e.isSelected).length>0}function G(e){return C(e,e=>e.active)}function X(e,t){return t.find(t=>t.id===e.directChildrenNodeIds[0])}function Z(e,t){return t.findLast(t=>F(t)&&t.groupId===e.id)}function z(e,t){return e.map(e=>{for(let n=0;n<t.length;n++)e=t[n](e);return e})}}}]);